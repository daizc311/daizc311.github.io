[{"title":"Java Stream Reduce æ³¨æ„äº‹é¡¹","path":"Java Stream Reduce æ³¨æ„äº‹é¡¹/","text":"Java Stream Reduce æ³¨æ„äº‹é¡¹ ğŸ‘‡å‡ºé—®é¢˜çš„ä»£ç ï¼Œæœ€ç»ˆå¾—åˆ°çš„Listæ¯ä¸ªå¯¹è±¡çš„å±æ€§éƒ½å®Œå…¨ä¸€æ ·çš„ï¼Œç”šæ˜¯é‚ªé—¨ 1234567891011121314151617181920212223242526272829303132public List&lt;CallboxAppVersion&gt; listCAVbyObs(@NotNull String profile) &#123; // ç•¥... return objectListing.getObjects().stream().map(obsObject -&gt; ç•¥) .collect(Collectors.groupingBy( CallboxObsKeyMatcherResult::version, Collectors.reducing( new CallboxAppVersion(), (CallboxObsKeyMatcherResult mr) -&gt; &#123; var appVersion = new CallboxAppVersion(); appVersion.setName(&quot;Callbox&quot;); appVersion.setBrand(mr.brand()); appVersion.setVersion(mr.version()); appVersion.setType(mr.type()); if (mr.suffix().equals(&quot;zip&quot;)) &#123; appVersion.setZipKey(mr.objectKey()); &#125; else if (mr.suffix().equals(&quot;exe&quot;)) &#123; appVersion.setExeKey(mr.objectKey()); &#125; return appVersion; &#125;, (o1, o2) -&gt; &#123; o1.setName(o1.getName() == null ? o2.getName() : o1.getName()); o1.setVersion(o1.getVersion() == null ? o2.getVersion() : o1.getVersion()); o1.setBrand(o1.getBrand() == null ? o2.getBrand() : o1.getBrand()); o1.setType(o1.getType() == null ? o2.getType() : o1.getType()); o1.setExeKey(o1.getExeKey() == null ? o2.getExeKey() : o1.getExeKey()); o1.setZipKey(o1.getZipKey() == null ? o2.getZipKey() : o1.getZipKey()); return o1; &#125;) )) .values().stream().toList();&#125; ç”±äºä»£ç å¤ªè¿‡å¤æ‚ï¼Œæ‰€ä»¥å…ˆå¯¹é€»è¾‘è¿›è¡Œå‰¥ç¦»ï¼Œæ–¹ä¾¿è§‚å¯Ÿã€‚ é¦–å…ˆå…ˆå¯¹æœ€å¤æ‚çš„Collectors.reducing()å‡½æ•°è¿›è¡Œç®€åŒ–ï¼š Collectorsè¢«å¤§é‡å¼•å…¥ï¼Œæ‰€ä»¥è¿›è¡Œé™æ€import reducing()ä¸­çš„mappingéƒ¨åˆ†æ˜¯å°†MatcherResultå˜ä¸ºCallboxAppVersionï¼Œæˆ‘ä»¬æŠ½è±¡ä¸ºCallboxAppVersionçš„constructor reducing()ä¸­çš„mergeéƒ¨åˆ†æ˜¯å°†ä¸¤ä¸ªCallboxAppVersionåˆå¹¶ä¸ºä¸€ä¸ªï¼Œæˆ‘ä»¬æŠ½è±¡ä¸ºfun merge() ğŸ‘‡å‰¥ç¦»ä¸šåŠ¡é€»è¾‘åçš„ä»£ç  123456789101112131415 public List&lt;CallboxAppVersion&gt; listCAVbyObs(@NotNull String profile) &#123; // ç•¥... var collect = objectListing.getObjects().stream().map(obsObject -&gt; ç•¥) .filter(Objects::nonNull) .filter(matcherResult -&gt; matcherResult.version() != null) .collect(Collectors.groupingBy( CallboxObsKeyMatcherResult::version, Collectors.reducing( new CallboxAppVersion(), CallboxAppVersion::new, CallboxAppVersion::merge ) )); return collect.values().stream().toList();&#125; è§‚å¯Ÿä¸Šé¢çš„ä»£ç ï¼Œåœ¨returnå¤„ä¸‹äº†æ–­ç‚¹ï¼Œæˆ‘å‘ç°mapçš„keyæ­£å¸¸ï¼Œä½†æ‰€æœ‰valueçš„å±æ€§æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘è®¤ä¸ºæ˜¯mappingæ—¶å‡ºç°äº†é—®é¢˜ï¼Œéšå³è°ƒæ•´ç»“æ„ï¼Œå°†reduce(new,mapping,merge)è°ƒæ•´ä¸ºmapping(mapping,reduce(new,merge))ã€‚ 1234567891011public List&lt;CallboxAppVersion&gt; listCAVbyObs(@NotNull String profile) &#123; // ç•¥... var collect = objectListing.getObjects().stream().map(obsObject -&gt; ç•¥) .collect(Collectors.groupingBy( CallboxObsKeyMatcherResult::version, mapping(CallboxObsKeyMatcherResult::new, reducing(new CallboxAppVersion(), CallboxAppVersion::merge) ) )); return collect.values().stream().toList();&#125; ä¿æŒreturnå¤„çš„æ–­ç‚¹ï¼Œå†æ¬¡è¿è¡Œåï¼Œç»“æœä»ç„¶ä¸€è‡´ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å‘ç°collectçš„valuesä¸­ï¼Œæ‰€æœ‰çš„valueæ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œè€Œä»£ç ä¸­æœ‰ä¸€ä¸ªnew CallboxAppVersion()ä½œä¸ºreducingçš„åˆå§‹å€¼ï¼Œè¿™ååˆ†å¯ç–‘ã€‚ä½†è¿™ä¸ªnewåœ¨lambdaä¸­ï¼Œå°±ç®—ä½¿ç”¨è°ƒè¯•å™¨ä¹Ÿä¸å¥½ç›´æ¥è§‚å¯Ÿï¼Œäºæ˜¯åˆ°CallboxAppVersionçš„constructorå’Œmergeä¸­ä¸‹æ–­ç‚¹ã€‚ 12345678910111213141516171819202122232425262728293031public class CallboxAppVersion &#123; private String name; private String brand; private Version version; private String type; private String zipKey; private String exeKey; public CallboxAppVersion(CallboxObsKeyMatcherResult mr) &#123; this.setName(&quot;Callbox&quot;); this.setBrand(mr.brand()); this.setVersion(mr.version()); this.setType(mr.type()); if (mr.suffix().equals(&quot;zip&quot;)) &#123; this.setZipKey(mr.objectKey()); &#125; else if (mr.suffix().equals(&quot;exe&quot;)) &#123; this.setExeKey(mr.objectKey()); &#125; &#125; public CallboxAppVersion merge(CallboxAppVersion that) &#123; this.setName(that.getName() == null ? this.getName() : that.getName()); this.setBrand(that.getBrand() == null ? this.getBrand() : that.getBrand()); this.setVersion(that.getVersion() == null ? this.getVersion() : that.getVersion()); this.setType(that.getType() == null ? this.getType() : that.getType()); this.setZipKey(that.getZipKey() == null ? this.getZipKey() : that.getZipKey()); this.setExeKey(that.getExeKey() == null ? this.getExeKey() : that.getExeKey()); return this; &#125;&#125; ğŸ‘‡çŒ›ç„¶å‘ç°åœ¨mergeæ–¹æ³•ä¸­returnäº†thisï¼Œå¹¶æ²¡æœ‰å¤åˆ¶å®ä½“ï¼Œäºæ˜¯ä¿®æ”¹mergeå®ç° 12345678910public CallboxAppVersion merge(CallboxAppVersion that) &#123; CallboxAppVersion merged = new CallboxAppVersion(); merged.setName(that.getName() == null ? this.getName() : that.getName()); merged.setBrand(that.getBrand() == null ? this.getBrand() : that.getBrand()); merged.setVersion(that.getVersion() == null ? this.getVersion() : that.getVersion()); merged.setType(that.getType() == null ? this.getType() : that.getType()); merged.setZipKey(that.getZipKey() == null ? this.getZipKey() : that.getZipKey()); merged.setExeKey(that.getExeKey() == null ? this.getExeKey() : that.getExeKey()); return merged;&#125; ä¿®æ”¹mergeåï¼Œè¿”å›ç»“æœæ­£å¸¸ã€‚åˆ¤å®šæ˜¯new CallboxAppVersion()çš„é—®é¢˜ï¼Œç»“åˆreducing(new CallboxAppVersion(), CallboxAppVersion::new, CallboxAppVersion::merge)çš„å†™æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åå‘æ¨æ–­lambdaåœ¨è¿™é‡Œçš„å®ç° ğŸ‘‡ä¼ªä»£ç  1234567891011groupingBy(key,values)&#123; reducedValue = reducing(firstobj,fun mapping,fun merge)&#123; var current = firstobj for value of values: next = mapping(value) current = merge(first,next) # å…¶ä¸­è¿™ä¸ªcurrentè¢«å¤ç”¨äº†ï¼Œå°±æ˜¯æˆ‘newçš„é‚£ä¸ªCallboxAppVersionå¯¹è±¡ retrun current &#125; retrun (key,reducedValue)&#125; lambdaç”¨å¤šäº†è€æ˜¯ä¼šè§‰å¾—å¯¹è±¡éƒ½æ˜¯finalçš„ä¸å¯å˜ä¹Ÿä¸å¤ç”¨ï¼Œå°±æ„Ÿè§‰è¿™ä¸ªreduceçš„è®¾è®¡æœ‰ç‚¹åç›´è§‰ï¼Œå¦‚æœè¿™ä¸ªcurrentçš„å˜é‡è®¾è®¡ä¸ºä¸€ä¸ªcreatorå‡½æ•°å°±ä¸ä¼šæœ‰é—®é¢˜äº†ï¼Œå°±åƒä¸‹é¢è¿™æ ·ğŸ‘‡ä¼ªä»£ç  1234567891011groupingBy(key,values)&#123; reducedValue = reducing(fun firstCretor,fun mapping,fun merge)&#123; # è¿™ä¸ªcurrentæ¯æ¬¡éƒ½ä¼ æ–°å¯¹è±¡ï¼Œå°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜äº† var current = firstCretor() for value of values: next = mapping(value) current = merge(first,next) retrun current &#125; retrun (key,reducedValue)&#125; å¯¹åº”ä»£ç  12345678910111213141516171819202122232425262728293031// åŸå®ç°@SuppressWarnings(&quot;unchecked&quot;)private static &lt;T&gt; Supplier&lt;T[]&gt; boxSupplier(T identity) &#123; return () -&gt; (T[]) new Object[]&#123;identity&#125;;&#125;// æ³¨æ„åˆ°ç¬¬ä¸€ä¸ªå‚æ•°åæ˜¯identityï¼Œè¯­ä¹‰ä¸Šæ„Ÿè§‰è¿™ä¸ªå°±åº”è¯¥ä¼ å…¥ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å˜é‡æ‰å¯¹public static &lt;T, U&gt; Collector&lt;T, ?, U&gt; reducing(U identity, Function&lt;? super T, ? extends U&gt; mapper, BinaryOperator&lt;U&gt; op) &#123; return new CollectorImpl&lt;&gt;( // è¿™é‡Œå‚æ•°åˆ—è¡¨å¯¹ä¸ä¸Šï¼Œè¿˜èµ·äº†ä¸ªæ•°ç»„æ¥holdä½identityï¼Œä¸çŸ¥é“è¿™ä¹ˆå®ç°æ˜¯ä¸ºäº†ä»€ä¹ˆï¼Ÿ boxSupplier(identity), (a, t) -&gt; &#123;a[0] = op.apply(a[0], mapper.apply(t));&#125;, (a, b) -&gt; &#123; a[0] = op.apply(a[0], b[0]); return a; &#125;, a -&gt; a[0], CH_NOID);&#125;// æœŸæœ›å®ç°public static &lt;T, U&gt; Collector&lt;T, ?, U&gt; reducing(Supplier&lt;U&gt; identityCreator, Function&lt;? super T, ? extends U&gt; mapper, BinaryOperator&lt;U&gt; op) &#123; // ç¬¬ä¸€ä¸ªå‚æ•°å¦‚æœæ”¹æˆSupplierå°±å¯ä»¥æ¯æ¬¡ç”Ÿæˆæ–°å¯¹è±¡ï¼Œé¿å…ä¸Šè¿°é—®é¢˜äº† return new CollectorImpl&lt;&gt;( identityCreator, (a, t) -&gt; &#123;a[0] = op.apply(a[0], mapper.apply(t));&#125;, (a, b) -&gt; &#123; a[0] = op.apply(a[0], b[0]); return a; &#125;, a -&gt; a[0], CH_NOID);&#125; å…¶ä»–ä¼˜åŒ– å‘ç°CallboxAppVersionç±»ä¸­çš„mergeæ–¹æ³•å®Œå…¨å¯ä»¥å°è£…æˆæ¥å£ï¼Œè¿™ä¸ªè‚¯å®šå¾ˆå¸¸ç”¨çš„ï¼Œè€Œjdké‡Œæ²¡å¸¦Mergeableæ¥å£ï¼ŒSpringå¸¦çš„åˆæ²¡æ³›å‹ï¼Œé‚£å°±è‡ªè¡Œå°è£…ä¸€ä¸ªï¼Œç„¶åCallboxAppVersionå»å®ç°ä¸€ä¸‹ã€‚ 123interface Mergeable&lt;T&gt; &#123; T merge(T that);&#125;"},{"title":"[Csharp]Classä¸RecordStruct","path":"[Csharp]Classä¸Recordä¸Struct/","text":"ç¤ºä¾‹ä»£ç  ä¸ºäº†æµ‹è¯•åœ¨C#ä¸­Classã€Structã€Recordä¸‰è€…çš„åŒºåˆ«ï¼Œå»ºç«‹äº†ä»¥ä¸‹æµ‹è¯•ç±»ã€‚æ¯ä¸ªç±»ä¸­ï¼Œåˆ†åˆ«å»ºç«‹äº†ä¸€ä¸ªå­—æ®µï¼Œä¸€ä¸ªè‡ªåŠ¨å±æ€§ï¼Œä¸€ä¸ªä»…initçš„è‡ªåŠ¨å±æ€§å’Œä¸€ä¸ªå…·æœ‰ç§æœ‰setterçš„è‡ªåŠ¨å±æ€§ï¼Œå…¶ä¸­Recordé¢å¤–å»ºç«‹äº†ä¸€ä¸ªè®°å½•å±æ€§ã€‚ 1234567891011121314151617181920212223242526public class ClassA &#123; public string field; public string Prop &#123; get; set; &#125; public string PropInit &#123; get; init; &#125; public string PropPrivateSet &#123; get; private set; &#125; public override string ToString() &#123; return $&quot;&#123;nameof(this.field)&#125;: &#123;this.field&#125;, &#123;nameof(this.Prop)&#125;: &#123;this.Prop&#125;, &#123;nameof(this.PropInit)&#125;: &#123;this.PropInit&#125;, &#123;nameof(this.PropPrivateSet)&#125;: &#123;this.PropPrivateSet&#125;&quot;; &#125;&#125;public struct StructA &#123; public string field; public string Prop &#123; get; set; &#125; public string PropInit &#123; get; init; &#125; public string PropPrivateSet &#123; get; private set; &#125; public override string ToString() &#123; return $&quot;&#123;nameof(this.field)&#125;: &#123;this.field&#125;, &#123;nameof(this.Prop)&#125;: &#123;this.Prop&#125;, &#123;nameof(this.PropInit)&#125;: &#123;this.PropInit&#125;, &#123;nameof(this.PropPrivateSet)&#125;: &#123;this.PropPrivateSet&#125;&quot;; &#125;&#125;public record RecordA(string PropRc) &#123; public string field; public string Prop &#123; get; set; &#125; public string PropInit &#123; get; init; &#125; public string PropPrivateSet &#123; get; private set; &#125;&#125; ååºåˆ—åŒ–æµ‹è¯•è®¾è®¡ä¸€ä¸ªååºåˆ—åŒ–çš„æµ‹è¯•ç±»ï¼Œå¯¹ä¸‰ç§ç±»å‹åˆ†åˆ«è¿›è¡Œååºåˆ—åŒ–æµ‹è¯•ï¼Œä¸‰ç§ç±»å‹å‡å¯ä»¥æ­£å¸¸è¿›è¡Œååºåˆ—åŒ–ã€‚ 12345678910111213141516171819202122232425262728293031using Newtonsoft.Json;using Newtonsoft.Json.Converters;using Newtonsoft.Json.Linq;using Newtonsoft.Json.Serialization;using System;string str = &quot;&quot;&quot; &#123; &quot;field&quot;:&quot;Field&quot;, &quot;prop&quot;:&quot;Prop&quot;, &quot;propInit&quot;:&quot;Init Prop&quot;, &quot;propPrivateSet&quot;:&quot;Private Setter Prop&quot;, &quot;PropRc&quot;:&quot;Enum Main Constructor Param&quot; &#125; &quot;&quot;&quot;;var deserializeObject = JsonConvert.DeserializeObject&lt;JObject&gt;(str);var classA = deserializeObject.ToObject&lt;ClassA&gt;();var structA = deserializeObject.ToObject&lt;StructA&gt;();var recordA = deserializeObject.ToObject&lt;RecordA&gt;();var classB = JsonConvert.DeserializeObject&lt;ClassA&gt;(str);var structB= JsonConvert.DeserializeObject&lt;StructA&gt;(str);var recordB= JsonConvert.DeserializeObject&lt;RecordA&gt;(str);Console.WriteLine(classA);Console.WriteLine(structA);Console.WriteLine(recordA);Console.WriteLine(classB);Console.WriteLine(structB);Console.WriteLine(recordB); structæ˜¯å€¼ç±»å‹ï¼Œæ˜¯ä¸å¯å˜çš„"},{"title":"[Csharp]Taskç›¸å…³","path":"[Csharp]Taskç›¸å…³/","text":"asyncä¸awaitç¤ºä¾‹ä»£ç  1234567891011121314151617181920212223public async static void test() &#123; XmlConfigurator.Configure(new System.IO.FileInfo(&quot;log4net.config&quot;)); TaskCompletionSource&lt;string&gt; source = new TaskCompletionSource&lt;string&gt;(); new Thread(o =&gt; &#123; log.Info(&quot;Thread Sleep&quot;); Thread.Sleep(1000); log.Info(&quot;Thread TrySetResult&quot;); // source.TrySetResult(&quot;6666666666&quot;); // source.TrySetCanceled(); source.TrySetException(new Exception(&quot;666&quot;)); &#125;).Start(); log.Info(&quot;Start await&quot;); try &#123; string waitAsync = await source.Task.WaitAsync(new TimeSpan(0, 0, 5)); log.Info(&quot;End await =&gt; &quot; + waitAsync); // string s = await test2(source); &#125; catch (TimeoutException e) &#123; log.Info(&quot;TimeoutException&quot;, e); &#125; catch (TaskCanceledException e) &#123; log.Info(&quot;TaskCanceledException&quot;, e); &#125; log.Info(&quot;End&quot;);&#125; Task.Wait123456789101112131415161718192021222324252627282930public static void testWait() &#123; XmlConfigurator.Configure(new System.IO.FileInfo(&quot;log4net.config&quot;)); TaskCompletionSource&lt;string&gt; source = new TaskCompletionSource&lt;string&gt;(); new Thread(o =&gt; &#123; log.Info(&quot;Thread Sleep&quot;); Thread.Sleep(3000); log.Info(&quot;Thread TrySetResult&quot;); // source.TrySetResult(&quot;6666666666&quot;); source.TrySetCanceled(); // source.TrySetException(new Exception()); &#125;).Start(); log.InfoFormat(&quot;Start Wait&quot;); try &#123; bool wait = source.Task.Wait(5000); log.InfoFormat(&quot;Wait:&#123;0&#125;&quot;, wait); if (wait) &#123; if (source.Task.Status == TaskStatus.RanToCompletion) &#123; log.InfoFormat(&quot;Result:&#123;0&#125;&quot;, source.Task.Result); &#125; else if (source.Task.Status == TaskStatus.Faulted) &#123; log.InfoFormat(&quot;Exception:&#123;0&#125;&quot;, source.Task.Exception); &#125; &#125; else &#123; log.InfoFormat(&quot;Timeout&quot;); &#125; &#125; catch (Exception e) &#123; log.InfoFormat(&quot;Exception: &#123;0&#125;=&gt;&#123;1&#125;&quot;, e.GetType(),e.InnerException.GetType()); &#125;&#125;"},{"title":"[Csharp]WPFé›†æˆSqliteä¸æ•°æ®åº“åŠ è§£å¯†","path":"[Csharp]WPFé›†æˆSqliteä¸æ•°æ®åº“åŠ è§£å¯†/","text":"ä¸€å¥è¯æ€»ç»“å…³äºä¾èµ–å®‰è£…æŠ½è±¡å±‚é€‰ç”¨Entity Framework Coreï¼Œåªèƒ½å®‰è£…3.x.xç‰ˆæœ¬çš„ã€‚å› ä¸º.NETFrameworkæ˜¯ä¼ ç»Ÿæ¡†æ¶ï¼Œåªæ”¯æŒåˆ°3ç‰ˆæœ¬ï¼Œä¸ç„¶å°±åªèƒ½è£…å¤§ç‰ˆæœ¬ä¸º6çš„Entity Framework(EF6)ï¼Œä½†æ˜¯ç”±äºEF6å·²ç»ä¸ç§¯æç»´æŠ¤äº†ï¼Œç»¼åˆè€ƒè™‘è¿˜æ˜¯æ›´å»ºè®®è£…EFC3ã€‚ å…³äºæ•°æ®åº“åŠ å¯†SQLiteåŸç‰ˆæ²¡æœ‰å®ç°æ•°æ®åº“åŠ å¯†ï¼Œè¦åŠ å¯†å°±åªèƒ½é€‰ç”¨å…¶ä»–çš„SqLiteå‘è¡Œç‰ˆï¼Œä»–ä»¬çš„åŠ å¯†æ–¹å¼å„å¼‚ï¼Œç”¨è°åˆ›å»ºçš„æ•°æ®åº“å°±å¾—ç”¨è°è¯»å†™ã€‚æ¨èSQLiteStudioå·¥å…·ï¼Œå¯ä»¥é€‰æ‹©å¾ˆå¤šåŠ è§£å¯†æ–¹å¼ã€‚ å…³äºWPFé›†æˆSqLiteåŠ å¯†å·¨ç¡¬å®˜æ–¹å·²ç»å‡ºäº†ä¾‹å­äº†. 123dotnet remove package Microsoft.Data.Sqlite # è¿™æ˜¯ä¸ªé›†æˆåŒ…ï¼Œåˆ æ‰dotnet add package Microsoft.Data.Sqlite.Core # è¿™æ‰æ˜¯å¾®è½¯å¯¹Sqliteçš„å°è£…æ ¸å¿ƒdotnet add package SQLitePCLRaw.bundle_e_sqlcipher # è¿™ä¸ªçœŸæ­£æƒ³ä½¿ç”¨çš„Sqliteå‘è¡Œç‰ˆçš„bundleåŒ… ä¿®æ”¹ConnectStringå³å¯ 1234567# è®°å¾—åˆ«ç›´æ¥å­—ç¬¦ä¸²æ‹¼ï¼Œåˆ°æ—¶å€™è¢«äººæ³¨å…¥äº†SqliteConnectionStringBuilder sqliteConnectionStringBuilder = new SqliteConnectionStringBuilder &#123; Password = &quot;xxxxxxxxxx&quot;, Mode = SqliteOpenMode.ReadWriteCreate, DataSource = &quot;xxxxxxx.db&quot; &#125;;var connectString = sqliteConnectionStringBuilder.ToString(); å‚è€ƒèµ„æ–™ (1#)åœ¨ Windows åº”ç”¨ä¸­ä½¿ç”¨ SQLite æ•°æ®åº“ (2#)Problems trying to encrypt SQLite database on UWP (3#)åŠ å¯† - Microsoft.Data.Sqlite (4#)Incompatible SQLCipher 4 database (5#)SQLiteStudio WPFåº”ç”¨é›†æˆæ•°æ®åº“é€šè¿‡é˜…è¯»æ–‡æ¡£(1#)ï¼Œå¤§æ¦‚äº†è§£äº†ä¸‹DotNetçš„ORMç”Ÿæ€,åŸºæœ¬ä¸Šå°±æ˜¯ç”¨å·¨ç¡¬è‡ªå®¶çš„è§£å†³æ–¹æ¡ˆEntity Frameworkã€‚ç„¶åæˆ‘æ‰“å¼€Nugetï¼Œå¼€å§‹å®‰è£…ä¾èµ–ï¼Œå¾ˆå¿«å°±é‡åˆ°äº†ç¬¬ä¸€ä¸ªé—®é¢˜æ²¡æ³•å®‰è£… ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¿™ä¸ªåŒ…æ˜¯Entity Framework Coreï¼Œæ˜¯ç»™DotNet Coreä½¿ç”¨çš„å¯¹è±¡æ˜ å°„æ¡†æ¶ã€‚è€Œæˆ‘ä»¬çš„åŸºç¡€æ¡†æ¶æ˜¯.NETFramework 4.8.1ï¼Œåªèƒ½ç”¨ä¼ ç»Ÿçš„Entity Frameworkï¼Œå¯æ¶çš„å·¨ç¡¬ã€‚"},{"title":"[Csharp]å¯ä¸ºç©ºçš„ç±»å‹","path":"[Csharp]å¯ä¸ºç©ºçš„ç±»å‹/","text":"[Csharp]å¯ä¸ºç©ºçš„ç±»å‹ä¸€å¥è¯æ€»ç»“å€¼ç±»å‹çš„ä¸èƒ½?æ“ä½œç¬¦çš„æ˜¯é€šè¿‡Nullable&lt;T&gt;åŒ…è£…å®ç°çš„ï¼Œè€Œå¼•ç”¨ç±»å‹ç”±äºæœ¬æ¥å°±å¯ä»¥ä¸ºç©ºï¼Œæ‰€ä»¥?æ“ä½œç¬¦åªæ˜¯ä¸ªä¾›ç¼–è¯‘å™¨æ¨æ–­çš„æ ‡è¯†è€Œå·²ã€‚ å‚è€ƒèµ„æ–™ å¯ä¸º null çš„å¼•ç”¨ç±»å‹ å¯ä¸º null çš„å€¼ç±»å‹ 12345// æ­¤å¤„è¾“å‡ºä¸º Nullable[int]Console.WriteLine($&quot;int?:\\t&#123;typeof(int?)&#125;&quot;);// æ­¤å¤„è¾“å‡ºä¸º stringConsole.WriteLine($&quot;obj?:\\t&#123;typeof(string?)&#125;&quot;); å¯ç©ºå€¼ç±»å‹ä¸€å¥è¯æ€»ç»“:int?å’Œintæ˜¯ä¸¤ä¸ªä¸ä¸€æ ·çš„ç±»å‹ï¼Œint?å…¶å®æ˜¯Nullable&lt;int&gt;çš„è¯­æ³•ç³–ï¼Œå› ä¸ºå€¼ç±»å‹æ˜¯ç›´æ¥æŒ‡å‘å…·ä½“å€¼çš„ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥è¢«æŒ‡å‘null,å¿…é¡»ç»è¿‡åŒ…è£…ã€‚ 12345int aNn = null; // Error CS0037 : æ— æ³•å°† null è½¬æ¢ä¸ºâ€œintâ€ï¼Œå› ä¸ºåè€…æ˜¯ä¸å¯ä¸º null çš„å€¼ç±»å‹int? a = null; // å…¶å®æ˜¯ Nullable&lt;int&gt; = new Nullable&lt;&gt;(); Console.WriteLine(a.Value); // è¾“å‡º nullConsole.WriteLine(a.HasValue); // è¾“å‡º true å¯ç©ºå¼•ç”¨ç±»å‹ä¸€å¥è¯æ€»ç»“:BaseWsRequest&lt;object&gt;?å’Œ BaseWsRequest&lt;object&gt;å…¶å®æ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œstringå’Œstring?ä¹Ÿä¸€æ ·ã€‚å› ä¸ºä»–ä»¬éƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¯ä»¥æŒ‡å‘nullï¼Œå› æ­¤ç¼–è¯‘å™¨å¹¶ä¸ä¼šå¯¹ä»–ä»¬é¢å¤–è¿›è¡ŒåŒ…è£…ã€‚ 1234567string? str = null;string strNn = null;// å¼•ç”¨ç±»å‹å¯ä»¥è¢«å£°æ˜ä¸ºç©ºå¼•ç”¨BaseWsRequest&lt;object&gt;? obj = null;// å¼•ç”¨ç±»å‹å¯ä»¥ä¸ºnullBaseWsRequest&lt;object&gt; objNn = null;"},{"title":"[Csharp]å¾ªç¯é“¾è¡¨å°è£…","path":"[Csharp]å¾ªç¯é“¾è¡¨Listå°è£…/","text":"[Csharp]å¾ªç¯é“¾è¡¨å°è£…è¦æ±‚ éœ€è¦å…·æœ‰çº¿ç¨‹å®‰å…¨ç‰¹æ€§ å¯ä»¥ç›´æ¥æ‰¾å‡ºä¸Šä¸€ä¸ªã€å½“å‰å€¼å’Œä¸‹ä¸€ä¸ªå€¼ æ€è·¯ä¸€å¼€å§‹æ˜¯æ‰“ç®—ç›´æ¥æ‹¿LinkedListæ”¹æ”¹çš„ï¼Œæ‰“ç®—ç›´æ¥æŠŠLinkedListNodeé¦–å°¾è¿èµ·æ¥ï¼Œç„¶åç›´æ¥ç”¨å°±æ˜¯äº†ã€‚ä½†éšå³å‘ç°ä¸€ä¸ªé—®é¢˜ï¼šè¦æ˜¯è°è°è°ä¸å°å¿ƒforäº†ä¸€ä¸‹è¿™listï¼Œé‚£è¿˜å¾—äº†ï¼Ÿè€Œä¸”çº¿ç¨‹å®‰å…¨ä¹Ÿæ²¡æ³•ä¿è¯å•Šã€‚è®¾è®¡ä¸€ä¸ªCreateCircularListï¼Œé€šè¿‡CreateCircularIteratoræ–¹æ³•ç”Ÿäº§ä¸€ä¸ªIterator,å†å»è¿­ä»£è¿™ä¸ªIteratorå°±æ²¡é—®é¢˜äº†ã€‚ä½†éšåä¹Ÿå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸å¤Ÿé€šç”¨ï¼Œæˆ‘å¿…é¡»newä¸€ä¸ªCreateCircularListï¼Œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950using System.Collections.Generic;#pragma warning disable CS0219 // å˜é‡å·²è¢«èµ‹å€¼ï¼Œä½†ä»æœªä½¿ç”¨è¿‡å®ƒçš„å€¼namespace Wpf481.Utils;public class CircularLinkedIterator&lt;TData&gt; where TData : struct &#123; private readonly CircularLinkedList&lt;TData&gt; _list; public CircularLinkedIterator(ICollection&lt;TData&gt; collection) &#123; _list = new CircularLinkedList&lt;TData&gt;(collection); &#125; public int CurrentIndex &#123; get; private set; &#125; = -1; public void Next() &#123; lock (this) &#123; if (_list.Count == 0) &#123; CurrentIndex = -1; return; &#125; var index = CurrentIndex + 1; CurrentIndex = index == _list.Count ? 0 : index; &#125; &#125; public TData? NextItem &#123; get &#123; return _list.GetNodeByIndex(CurrentIndex + 1)?.Value; &#125; &#125; public TData? PreviousItem =&gt; _list.GetNodeByIndex(CurrentIndex - 1)?.Value; public TData? CurrentItem =&gt; _list.GetNodeByIndex(CurrentIndex)?.Value; private class CircularLinkedList&lt;T&gt; : LinkedList&lt;T&gt; where T : struct &#123; internal CircularLinkedList(IEnumerable&lt;T&gt; collection) : base(collection) &#123; &#125; internal LinkedListNode&lt;T&gt;? GetNodeByIndex(int index) &#123; if (Count == 0) &#123; return null; &#125; int realIndex = (Count + index) % Count; var current = First; for (int i = 0; i &lt; realIndex; i++) &#123; current = current?.Next ?? First; &#125; return current; &#125; &#125;&#125; å•å…ƒæµ‹è¯•123456789101112131415161718192021222324252627282930313233343536public class CircularLinkedListTest &#123; public static void test() &#123; LoggerFactory.Create(builder =&gt; &#123; &#125;).CreateLogger&lt;CircularLinkedListTest&gt;(); var list = new List&lt;int&gt;(); var iterator = new CircularLinkedIterator&lt;int&gt;(list); for (int i = 0; i &lt; 3; i++) &#123; Console.WriteLine( $&quot;[&#123;iterator.CurrentIndex&#125;]\\tlast: &#123;iterator.PreviousItem&#125; \\t current: &#123;iterator.CurrentItem&#125;\\t next: &#123;iterator.NextItem&#125;&quot;); iterator.Next(); &#125; for (int i = 1; i &lt;= 2; i++) &#123; list.Add(i); &#125; iterator = new CircularLinkedIterator&lt;int&gt;(list); for (int i = 0; i &lt; 10; i++) &#123; Console.WriteLine( $&quot;[&#123;iterator.CurrentIndex&#125;]\\tlast: &#123;iterator.PreviousItem&#125; \\t current: &#123;iterator.CurrentItem&#125;\\t next: &#123;iterator.NextItem&#125;&quot;); iterator.Next(); &#125; list.Clear(); iterator = new CircularLinkedIterator&lt;int&gt;(list); for (int i = 0; i &lt; 3; i++) &#123; Console.WriteLine( $&quot;[&#123;iterator.CurrentIndex&#125;]\\tlast: &#123;iterator.PreviousItem&#125; \\t current: &#123;iterator.CurrentItem&#125;\\t next: &#123;iterator.NextItem&#125;&quot;); iterator.Next(); &#125; &#125; &#125;&#125;"},{"title":"é›†ç¾¤çˆ†ç‚¸ï¼Œä½†æ˜¯ä¿®å¥½äº†","path":"é›†ç¾¤çˆ†ç‚¸ï¼Œä½†æ˜¯ä¿®å¥½äº†/","text":"å‘¨ä¸€åˆ°å…¬å¸æ¥ä¸€çœ‹ï¼Œæœ¬åœ°é›†ç¾¤è¿ä¸ä¸Šäº†ï¼Œæ®è¯´æ˜¯å‘¨æœ«åœç”µå…³äº†æœåŠ¡å™¨é€ æˆçš„ã€‚æ—¢ç„¶ç¯å¢ƒçˆ†ç‚¸é‚£å•¥ä¹Ÿå¹²ä¸äº†åªèƒ½æŒ‚æœºäº†ï¼Œ é‚£å¯ä¸è¡Œï¼Œèµ¶å¿«ä¿®å¥½äº†å¼€å§‹å¹²æ´»ã€‚ é¦–å…ˆsshèƒ½é€šï¼Œè‡³å°‘è™šæ‹Ÿæœºæ²¡é—®é¢˜ï¼Œè¯•è¯•docker psã€‚æœ‰ååº”ï¼Œä½†å®¹å™¨å…¨éƒ½åœåœ¨pauseä¸Šã€‚åŒæ—¶kubectl get nodeå¡ä½æ²¡æœ‰å›åº”ã€‚1234567[root@vmw253 ~]# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 949258e9135c 37c6aeb3663b &quot;kube-controller-manâ€¦&quot; 3 hours ago Up 3 hours k8s_kube-controller-manager_kube-controller-manager-vmw253_kube-system_b53e0e776bdd23d5be83ec232a105a76_1036 4a3a50cbf1fb registry.cn-beijing.aliyuncs.com/kubesphereio/pause:3.4.1 &quot;/pause&quot; 3 hours ago Up 3 hours k8s_POD_kube-controller-manager-vmw253_kube-system_b53e0e776bdd23d5be83ec232a105a76_11 89aa599bc953 registry.cn-beijing.aliyuncs.com/kubesphereio/pause:3.4.1 &quot;/pause&quot; 3 hours ago Up About an hour k8s_POD_kube-apiserver-vmw253_kube-system_6aa730f99776180fbac39af544cc5c43_11 76914665acbd 56c5af1d00b5 &quot;kube-scheduler --auâ€¦&quot; 3 hours ago Up 3 hours k8s_kube-scheduler_kube-scheduler-vmw253_kube-system_ceb9697816522e2427509f5707b24a58_1007 8248bd5e395d registry.cn-beijing.aliyuncs.com/kubesphereio/pause:3.4.1 &quot;/pause&quot; 3 hours ago Up 3 hours k8s_POD_kube-scheduler-vmw253_kube-system_ceb9697816522e2427509f5707b24a58_11 æ±‚åŠ©è¿ç»´è€å“¥ï¼Œè€å“¥çœ‹äº†ä¸‹ç°åœºï¼Œè¯´api-serverä¸è§äº†ï¼Œå¯èƒ½æ˜¯etcdçˆ†ç‚¸ï¼Œå«æ£€æŸ¥ä¸‹etcdã€‚å› ä¸ºä½¿ç”¨kubesphereè„šæœ¬éƒ¨ç½²çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸çŸ¥é“etcdæ€ä¹ˆå¯åŠ¨çš„ï¼Œæ£€æŸ¥äº†ä¸€åœˆï¼Œæ²¡æœ‰å‘ç°etcdçš„å½±å­ã€‚ ps -efæ—¶æ„å¤–å‘ç°ç³»ç»Ÿå®šæ—¶ä»»åŠ¡æ­£åœ¨æ‹‰èµ·etcdçš„å¤‡ä»½ä»»åŠ¡ï¼Œç”±æ­¤ç¡®å®šetcdåº”è¯¥æ˜¯ç”±systemctlç®¡ç†ï¼Œéšåcrontab -lç»“æœå¦‚ä¸‹ 1234[root@vmw253 ~]# crontab -l*/5 * * * * /usr/sbin/ntpdate ntp3.aliyun.com &amp;&gt;/dev/null0 3 * * * ps -A -ostat,ppid | grep -e &#x27;^[Zz]&#x27; | awk &#x27;&#123;print &#125;&#x27; | xargs kill -HUP &gt; /dev/null 2&gt;&amp;1*/30 * * * * sh /usr/local/bin/kube-scripts/etcd-backup.sh æ£€æŸ¥etcd-backup.shï¼Œå‘ç°äº†å¤‡ä»½æ‰€åœ¨åœ°ï¼Œä»ç¯å¢ƒå˜é‡ä¸­å–å‡ºäº†æ•°æ®ç›®å½•1234567891011# æ­¤è¡Œå£°æ˜äº†å¤‡ä»½åœ°å€BACKUP_DIR=&quot;/var/backups/kube_etcd/etcd-$(date +%Y-%m-%d-%H-%M-%S)&quot;# æ­¤è¡Œå¼•ç”¨äº†æ•°æ®ç›®å½•å˜é‡export ETCDCTL_API=2;$ETCDCTL_PATH backup --data-dir $ETCD_DATA_DIR --backup-dir $BACKUP_DIR# æ­¤è¡Œè°ƒç”¨etcdctlè¿›è¡Œå¤‡ä»½ (é‡è¦-1)&#123; export ETCDCTL_API=3;$ETCDCTL_PATH --endpoints=&quot;$ENDPOINTS&quot; snapshot save $BACKUP_DIR/snapshot.db \\ --cacert=&quot;$ETCDCTL_CA_FILE&quot; \\ --cert=&quot;$ETCDCTL_CERT&quot; \\ --key=&quot;$ETCDCTL_KEY&quot;&#125; &gt; /dev/null æ£€æŸ¥etcd-backup.shï¼Œå‘ç°ä»ç¯å¢ƒå˜é‡ä¸­å–å‡ºäº†å¤‡ä»½åœ°å€ï¼Œç„¶åä»sytemctl status etcdä¸­å–åˆ°etcdé…ç½®ï¼Œå†ä»etcdé…ç½®å–åˆ°envæ–‡ä»¶åœ°å€(&#x2F;etc&#x2F;etcd.env)123456789101112131415161718192021222324252627# å› ä¸ºå†™çš„æ—¶å€™å·²ç»æŠŠetcdä¿®å¥½äº†ï¼Œæ‰€ä»¥Activeæ˜¯running [root@vmw253 ~]# systemctl status etcd â— etcd.service - etcd Loaded: loaded (/etc/systemd/system/etcd.service; enabled; vendor preset: disabled) Active: active (running) since ä¸€ 2023-07-10 15:06:18 CST; 22min ago Main PID: 36781 (etcd) Tasks: 25 Memory: 97.8M CGroup: /system.slice/etcd.service â””â”€36781 /usr/local/bin/etcd [root@vmw253 ~]# cat /etc/systemd/system/etcd.service [Unit] Description=etcd After=network.target [Service] User=root Type=notify EnvironmentFile=/etc/etcd.env ExecStart=/usr/local/bin/etcd NotifyAccess=all RestartSec=10s LimitNOFILE=40000 Restart=always [Install] WantedBy=multi-user.target æ£€æŸ¥envæ–‡ä»¶,å¾—åˆ°å…³é”®çš„æ•°æ®ç›®å½•åœ°å€1ETCD_DATA_DIR=/var/lib/etcd åœæ­¢etcdï¼Œç§»é™¤æ•°æ®ç›®å½•12systemctl stop etcdmv /var/lib/etcd /var/lib/etcd.bak ä»å®šæ—¶ä»»åŠ¡è§¦å‘çš„å‘½ä»¤ä¸­å‘ç°äº†etcdçš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯:etcdctlï¼Œä½¿ç”¨â€“helpçœ‹çœ‹ä»–çš„ç”¨æ³•ï¼Œå‘ç°ä¸€ä¸ªsnapshot restoreæŒ‡ä»¤1234567891011121314151617181920212223242526272829303132333435363738[root@vmw253 ~]# etcdctl snapshotNAME: snapshot - Manages etcd node snapshotsUSAGE: etcdctl snapshot &lt;subcommand&gt; [flags]API VERSION: 3.4COMMANDS: restore Restores an etcd member snapshot to an etcd directory save Stores an etcd node backend snapshot to a given file status Gets backend snapshot status of a given fileOPTIONS:-h, --help[=false] help for snapshotGLOBAL OPTIONS: --cacert=&quot;&quot; verify certificates of TLS-enabled secure servers using this CA bundle --cert=&quot;&quot; identify secure client using this TLS certificate file --command-timeout=5s timeout for short running command (excluding dial timeout) --debug[=false] enable client-side debug logging --dial-timeout=2s dial timeout for client connections-d, --discovery-srv=&quot;&quot; domain name to query for SRV records describing cluster endpoints --discovery-srv-name=&quot;&quot; service name to query when using DNS discovery --endpoints=[127.0.0.1:2379] gRPC endpoints --hex[=false] print byte strings as hex encoded strings --insecure-discovery[=true] accept insecure SRV records describing cluster endpoints --insecure-skip-tls-verify[=false] skip server certificate verification (CAUTION: this option should be enabled only for testing purposes) --insecure-transport[=true] disable transport security for client connections --keepalive-time=2s keepalive time for client connections --keepalive-timeout=6s keepalive timeout for client connections --key=&quot;&quot; identify secure client using this TLS key file --password=&quot;&quot; password for authentication (if this option is used, --user option shouldn&#x27;t include password) --user=&quot;&quot; username[:password] for authentication (prompt if password is not supplied)-w, --write-out=&quot;simple&quot; set the output format (fields, json, protobuf, simple, table) é€šè¿‡å¤‡ä»½è„šæœ¬ä¸­çš„å‘½ä»¤(é‡è¦-1)å’Œä¸Šä¸€æ­¥ä¸­çš„æç¤ºï¼Œåå‘æ‹¼æ¥è¿˜åŸå‘½ä»¤1/usr/local/bin/etcdctl --endpoints=https://192.168.20.233:2379 snapshot restore /var/backups/kube_etcd/etcd-2023-07-08-00-00-01/snapshot.db --cacert=/etc/ssl/etcd/ssl/ca.pem --cert=/etc/ssl/etcd/ssl/admin-vmw253.pem --key=/etc/ssl/etcd/ssl/admin-vmw253-key.pem å¾ˆé—æ†¾æŠ¥äº†é”™ï¼Œè¯´æ•°æ®ç›®å½•å·²å­˜åœ¨ï¼Œæ—è¾¹è¿ç»´è€å“¥æç¤ºåŠ data-dirå‚æ•°ï¼Œäºæ˜¯æŠŠåˆšæ‰å¾—åˆ°çš„å‚æ•°æ‹¼æ¥è¿›å»1/usr/local/bin/etcdctl --endpoints=https://192.168.20.233:2379 snapshot restore /var/backups/kube_etcd/etcd-2023-07-08-00-00-01/snapshot.db --cacert=/etc/ssl/etcd/ssl/ca.pem --cert=/etc/ssl/etcd/ssl/admin-vmw253.pem --key=/etc/ssl/etcd/ssl/admin-vmw253-key.pem è¿™æ¬¡ä¸é—æ†¾ï¼Œçœ‹èµ·æ¥æˆåŠŸäº†ï¼Œéšåå¯åŠ¨etcdï¼Œæœªè§æ˜æ˜¾å¼‚å¸¸ã€‚kubectl ä¹Ÿé©¬ä¸Šè¿”å›äº†ç»“æœï¼Œéšåé›†ç¾¤å¾ˆå¿«æ¢å¤äº† 12345678910111213[root@vmw253 ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES949258e9135c 37c6aeb3663b &quot;kube-controller-manâ€¦&quot; 3 hours ago Up 3 hours k8s_kube-controller-manager_kube-controller-manager-vmw253_kube-system_b53e0e776bdd23d5be83ec232a105a76_10364a3a50cbf1fb registry.cn-beijing.aliyuncs.com/kubesphereio/pause:3.4.1 &quot;/pause&quot; 3 hours ago Up 3 hours k8s_POD_kube-controller-manager-vmw253_kube-system_b53e0e776bdd23d5be83ec232a105a76_1189aa599bc953 registry.cn-beijing.aliyuncs.com/kubesphereio/pause:3.4.1 &quot;/pause&quot; 3 hours ago Up 54 minutes k8s_POD_kube-apiserver-vmw253_kube-system_6aa730f99776180fbac39af544cc5c43_1176914665acbd 56c5af1d00b5 &quot;kube-scheduler --auâ€¦&quot; 3 hours ago Up 3 hours k8s_kube-scheduler_kube-scheduler-vmw253_kube-system_ceb9697816522e2427509f5707b24a58_10078248bd5e395d registry.cn-beijing.aliyuncs.com/kubesphereio/pause:3.4.1 &quot;/pause&quot; 3 hours ago Up 3 hours k8s_POD_kube-scheduler-vmw253_kube-system_ceb9697816522e2427509f5707b24a58_11[root@vmw253 ~]# systemctl start etcd[root@vmw253 ~]# kubectl get nodeNAME STATUS ROLES AGE VERSIONvmw253 Ready control-plane,master,worker 525d v1.23.0vmw254 Ready worker 525d v1.23.0vmw255 Ready worker 525d v1.23.0 å±…ç„¶ä¿®å¥½äº†ï¼ŒçœŸå®å¯å–œå¯è´ºå‘¢:-D"},{"title":"Bashè„šæœ¬ç»éªŒä¹‹è°ˆ","path":"Bashè„šæœ¬ç»éªŒä¹‹è°ˆ/","text":"æœ€è¿‘å°†CI&#x2F;CDä»Gitlabè¿ç§»åˆ°æˆ‘è‡ªå·±å†™çš„CI&#x2F;CDå¹³å°(è‡ªè±ª),åœ¨åˆ‡æ¢æœŸé—´,éœ€è¦ä½¿ç”¨è„šæœ¬æ‰“é€šä¸¤ä¸ªç³»ç»Ÿ,äºæ˜¯ä¹è¿™å‡ å¤©éƒ½åœ¨å†™bashè„šæœ¬,çœŸçš„å¿«å†™åäº†,å„ç§å‘½ä»¤è¯­æ³•èŠ±é‡Œèƒ¡å“¨,è¶…ç®€å•çš„æ“ä½œéƒ½éœ€è¦ç»•åŠå¤©æ‰èƒ½æˆåŠŸ.æ€»çš„æ¥è¯´å°±æ˜¯â€™ä½¿ç”¨å„ç§ä¸è§„èŒƒçš„å†™æ³•è°ƒç”¨å„ç§ä¸œæ‹¼è¥¿å‡‘æ¥çš„å·¥å…·æ¥å¤„ç†å„ç§ç¨€å¥‡å¤æ€ªçš„æ•°æ®â€™.å†™çš„è¿‡ç¨‹ä¸­ä¹Ÿç§¯ç´¯äº†ä¸å°‘ç»éªŒæ•™è®­,åšä¸ªç¬”è®°åˆ†äº«ä¸€ä¸‹ï¼ˆè™½ç„¶ä¹Ÿæ²¡äººçœ‹ï¼‰. æ€»ç»“çš„ä¸€äº›æ•™è®­ èµ‹å€¼è¯­å¥ç­‰å·ååˆ«å¸¦ç©ºæ ¼ 123456root@7f1ca1fb0b2e:/# A = 666bash: A: command not foundroot@7f1ca1fb0b2e:/# A=666root@7f1ca1fb0b2e:/# echo $A666root@7f1ca1fb0b2e:/# æ³¨: å†™å¿«äº†å¾ˆå®¹æ˜“çŠ¯ä½è¶…ä½çº§é”™è¯¯ ä½¿ç”¨$ç¬¦å·å–å€¼æ—¶,å•å¼•å·ä¸­çš„å€¼ä¸ä¼šè®¡ç®—: 1234567root@7f1ca1fb0b2e:/# A=666root@7f1ca1fb0b2e:/# echo $A666root@7f1ca1fb0b2e:/# echo &quot;$A&quot;666root@7f1ca1fb0b2e:/# echo &#x27;$A&#x27;$A æ³¨: è¶…é•¿å­—ç¬¦ä¸²æ—¶æ³¨æ„éœ€è¦åˆ†è¾¨ å¤šè¡Œè¯­å¥æ—¶,åˆ‡è®°æ£€æŸ¥è½¬ä¹‰ç¬¦\\åæœ‰æ— ç©ºæ ¼ 1234567root@7f1ca1fb0b2e:/# echo \\&gt; $A666root@7f1ca1fb0b2e:/# echo \\ root@7f1ca1fb0b2e:/# $Abash: 666: command not found æ³¨: ç­”åº”æˆ‘åœ¨vscodeé‡Œå†™å¥½äº†å†ç²˜è´´è¿‡å»å¥½ä¸? åˆ«åœ¨å•å¼•å·å­—ç¬¦ä¸²é‡Œä½¿ç”¨è½¬ä¹‰ç¬¦ 12345678910root@7f1ca1fb0b2e:/# echo asd\\&gt; dsaasddsaroot@7f1ca1fb0b2e:/# echo &quot;asd\\&gt; dsa&quot;asddsaroot@7f1ca1fb0b2e:/# echo &#x27;asd\\dsa&#x27;asd\\dsa æ³¨: çœ¼ç›éƒ½çœ‹ç›´äº†æ²¡çœ‹å‡ºæ¥é—®é¢˜,æœ€åå‘ç°æ˜¯ä¸ªå•å¼•å· ä½¿ç”¨ifå—æ—¶,æ³¨æ„å‰åç•™ç©ºæ ¼ 12345root@7f1ca1fb0b2e:/# if [[-z &quot;$UNIT_TEST&quot; ]] ;then echo &quot;true&quot;;else echo &quot;false&quot;;fi;bash: [[-z: command not foundfalseroot@7f1ca1fb0b2e:/# if [[ -z &quot;$UNIT_TEST&quot; ]] ;then echo &quot;true&quot;;else echo &quot;false&quot;;fi;true jqå–å€¼æ—¶,ç›´æ¥å–å‡ºçš„å€¼æ˜¯jsonFormatçš„,éœ€è¦åŠ -rå‚æ•°å–åŸå§‹å€¼ 1234root@7f1ca1fb0b2e:/# echo &#x27;&#123;&quot;key&quot;:&quot;value&quot;&#125;&#x27;|jq .key&quot;value&quot;root@7f1ca1fb0b2e:/# echo &#x27;&#123;&quot;key&quot;:&quot;value&quot;&#125;&#x27;|jq -r .keyvalue æ³¨: ç”¨ä¹‹å‰å…ˆçœ‹çœ‹--helpå§,æ±‚ä½ äº† ä½¿ç”¨jqæ‹¼æ¥jsonæœ€å¥½çš„åŠæ³•æ˜¯ç”¨æ¨¡æ¿å­—ç¬¦ä¸²(å‚æ•°èƒ½å¤Ÿç¡®å®šæ—¶) 123456789root@7f1ca1fb0b2e:/# PARAM=$( jq -n \\--arg beam_projectKey &quot;$beam_projectKey&quot;\\--arg beam_version &quot;$beam_version&quot;\\--arg beam_branch &quot;$beam_branch&quot;\\--arg beam_description &quot;$beam_description&quot;\\--arg beam_commitHash &quot;$beam_commitHash&quot;\\--arg beam_imageTag &quot;$beam_imageTag&quot; \\ &#x27;&#123;projectKey:$beam_projectKey,version: $beam_version,branch: $beam_branch,description: $beam_description,commitHash: $beam_commitHash,imageTag: $beam_imageTag,createUserId: &quot;USR-000000&quot;,createUserName: &quot;GitLab-CI&quot;&#125;&#x27;\\) æ³¨: åƒä¸‡åˆ«æƒ³ç€ç›´æ¥ç”¨jqåŠ¨æ€æ’å…¥&#x2F;æ›¿æ¢å€¼,çœŸçš„å¾ˆç´¯ å¸å–çš„ä¸€äº›ç»éªŒ å¤šä½¿ç”¨è½¬ä¹‰æ¢è¡Œ,æ´»ç”¨æ‹¬å·åˆ†ç»„,ç©ºæ ¼å¤šåŠ å‡ ä¸ª,ä»¥å¢åŠ å¯è¯»æ€§(å¯è¯»æ€§ä»ç„¶å¾ˆä½) 12345678echo &#x27;æ¨é€åˆ°Beam[æœ¬åœ°]&#x27; &amp;&amp; \\RESULT=$(curl -s -XPOST &quot;http://192.167.20.38:8888/artifact/save&quot; \\ -H &quot;Accept: application/json&quot; \\ -H &quot;Content-Type: application/json&quot; \\ -H &quot;Auth: ******&quot; \\ --data-raw &quot;$PARAM&quot; --compressed) &amp;&amp; \\echo $RESULT|jq . || \\echo &#x27;[æœ¬åœ°]BeamæœåŠ¡æœªå¯åŠ¨&#x27; ä¸Šé¢è¿™è¡ŒæŒ‡ä»¤ç”±3ä¸ªæŒ‡ä»¤è¿æ¥è€Œæˆ,å…³é”®åœ°æ–¹åšäº†æ¢è¡Œå¹¶æ·»åŠ ç©ºæ ¼,çœ‹èµ·æ¥æ›´æœ‰å±‚æ¬¡æ„Ÿ. ä½¿ç”¨&amp;&amp;è¿›è¡ŒæŒ‡ä»¤è¿æ¥,æœ€åä½¿ç”¨||å…œåº•,ç›¸å½“äºåšäº†ä¸ªtry-catch.ä½¿å¾—è¿™è¡ŒæŒ‡ä»¤çš„è¿”å›å€¼å§‹ç»ˆä¸ºâ€™0â€™ å†™æµæ°´çº¿æ—¶ä¸è¦å¤´é“ç›´æ¥å¯åŠ¨æµæ°´çº¿è¿›è¡Œè°ƒè¯•,ä½¿ç”¨shellåå¼¹å°†æµæ°´çº¿ä¸­çš„bashåå¼¹åˆ°æœ¬æœºè¿›è¡Œè°ƒè¯•,æœ€åä¸€æ¬¡æ€§å°†å‘½ä»¤ç²˜è¿›è„šæœ¬ä¸­,è¿™æ ·æ›´çœæ—¶é—´. èƒ½å†™pythonä¸å†™bash,å¦‚æœæµæ°´çº¿ç”±è‡ªå·±æ§åˆ¶,é‚£å°½é‡ä¿è¯é•œåƒä¸­å¸¦ä¸€ä¸ªpythonç¯å¢ƒ,ä¸è¦åœ¨ä¹é‚£ç‚¹å¤§å°,èƒ½å¿«é€Ÿå‡ºæ´»æ‰æ˜¯æœ€å…³é”®çš„. å¦‚æœbashè„šæœ¬éœ€è¦å®šä¹‰åœ¨yamlæ–‡ä»¶ä¸­,é‡åˆ°é•¿æŒ‡ä»¤çš„æ—¶å€™æœ€å¥½ä½¿ç”¨|æ–‡æœ¬å—æ”¾ç½® 12345678910111213aaa: bbb: - echo start - | echo &#x27;æ¨é€åˆ°Beam[æœ¬åœ°]&#x27; &amp;&amp; \\ RESULT=$(curl -s -XPOST &quot;http://192.167.20.38:8888/artifact/save&quot; \\ -H &quot;Accept: application/json&quot; \\ -H &quot;Content-Type: application/json&quot; \\ -H &quot;Auth: ******&quot; \\ --data-raw &quot;$PARAM&quot; --compressed) &amp;&amp; \\ echo $RESULT|jq . || \\ echo &#x27;[æœ¬åœ°]BeamæœåŠ¡æœªå¯åŠ¨&#x27; - echo end"},{"title":"PostgreSqlå•è¡¨å­˜å‚¨å¤šå…³è”å…³ç³»","path":"PostgreSqlå•è¡¨å­˜å‚¨å¤šå…³è”å…³ç³»/","text":"å•è¡¨å­˜å‚¨å¤šå…³è”å…³ç³»éœ€æ±‚æ˜¯productã€projectã€pipelineä¸‰ä¸ªå®ä½“å„è‡ªå’Œäº’ç›¸éƒ½ä¼šäº’ç›¸å…³è”ï¼Œç”¨äºå­˜å‚¨å¤šä¸ªé”®å€¼å¯¹ã€‚å¦‚æœæ˜¯æ ‡å‡†æ•°æ®åº“è®¾è®¡å°±éœ€è¦6å¼ è¡¨æ¥å­˜å‚¨ï¼š product_kv project_kv pipeline_kv product_project_kv project_pipeline_kv pipeline_product_kv ä½¿ç”¨bitå­˜å‚¨å¯¹è±¡å…³è”å…³ç³»è¿™é‡Œé‡‡ç”¨å•è¡¨+äºŒè¿›åˆ¶è¿ç®—çš„æ–¹å¼æ¥å­˜å‚¨è¿™ä¸€æ•°æ®: 123456789CREATE TABLE &quot;public&quot;.&quot;variable&quot; ( &quot;type&quot; bit(3) NOT NULL, &quot;1_product_id&quot; varchar(255) NOT NULL DEFAULT &#x27;&#x27;::character varying, &quot;2_project_id&quot; varchar(255) NOT NULL DEFAULT &#x27;&#x27;::character varying, &quot;3_pipeline_id&quot; varchar(255) NOT NULL DEFAULT &#x27;&#x27;::character varying, &quot;v_key&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; NOT NULL, &quot;v_value&quot; text COLLATE &quot;pg_catalog&quot;.&quot;default&quot; NOT NULL, CONSTRAINT &quot;variable_pkey&quot; PRIMARY KEY (&quot;type&quot;, &quot;1_product_id&quot;, &quot;2_project_id&quot;, &quot;3_pipeline_id&quot;)); ç”¨typeå­—æ®µæ¥æ ‡è¯†å…·ä½“æ˜¯é‚£ä¸¤ä¸ªå¯¹è±¡äº§ç”Ÿäº†å…³è”, 1234bit(3)0 productå…³è”ä½0 projectå…³è”ä½0 pipelineå…³è”ä½ type&#x3D;bâ€™100â€™æ—¶ï¼Œè¯¥kvå€¼å±äºproduct type&#x3D;bâ€™010â€™æ—¶ï¼Œè¯¥kvå€¼å±äºproject type&#x3D;bâ€™001â€™æ—¶ï¼Œè¯¥kvå€¼å±äºpipeline type&#x3D;bâ€™110â€™æ—¶ï¼Œè¯¥kvå€¼å±äºproductä¸projectçš„å…³è” ä»¥æ­¤ç±»æ¨â€¦ æŸ¥è¯¢æ–¹å¼å‡†å¤‡æ•°æ® 1234567INSERT INTO &quot;public&quot;.&quot;variable&quot; (&quot;type&quot;, &quot;1_product_id&quot;, &quot;2_project_id&quot;, &quot;3_pipeline_id&quot;, &quot;v_key&quot;, &quot;v_value&quot;) VALUES (&#x27;000&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;1&#x27;, &#x27;1&#x27;);INSERT INTO &quot;public&quot;.&quot;variable&quot; (&quot;type&quot;, &quot;1_product_id&quot;, &quot;2_project_id&quot;, &quot;3_pipeline_id&quot;, &quot;v_key&quot;, &quot;v_value&quot;) VALUES (&#x27;010&#x27;, &#x27;&#x27;, &#x27;1&#x27;, &#x27;&#x27;, &#x27;1&#x27;, &#x27;1&#x27;);INSERT INTO &quot;public&quot;.&quot;variable&quot; (&quot;type&quot;, &quot;1_product_id&quot;, &quot;2_project_id&quot;, &quot;3_pipeline_id&quot;, &quot;v_key&quot;, &quot;v_value&quot;) VALUES (&#x27;001&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;1&#x27;, &#x27;1&#x27;, &#x27;1&#x27;);INSERT INTO &quot;public&quot;.&quot;variable&quot; (&quot;type&quot;, &quot;1_product_id&quot;, &quot;2_project_id&quot;, &quot;3_pipeline_id&quot;, &quot;v_key&quot;, &quot;v_value&quot;) VALUES (&#x27;111&#x27;, &#x27;1&#x27;, &#x27;1&#x27;, &#x27;1&#x27;, &#x27;1&#x27;, &#x27;1&#x27;);INSERT INTO &quot;public&quot;.&quot;variable&quot; (&quot;type&quot;, &quot;1_product_id&quot;, &quot;2_project_id&quot;, &quot;3_pipeline_id&quot;, &quot;v_key&quot;, &quot;v_value&quot;) VALUES (&#x27;110&#x27;, &#x27;1&#x27;, &#x27;1&#x27;, &#x27;&#x27;, &#x27;1&#x27;, &#x27;1&#x27;);INSERT INTO &quot;public&quot;.&quot;variable&quot; (&quot;type&quot;, &quot;1_product_id&quot;, &quot;2_project_id&quot;, &quot;3_pipeline_id&quot;, &quot;v_key&quot;, &quot;v_value&quot;) VALUES (&#x27;100&#x27;, &#x27;1&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;1&#x27;, &#x27;1&#x27;); æŸ¥è¯¢ å•æŸ¥æŸä¸€å…³è”å…³ç³»çš„å€¼: SELECT * FROM &quot;variable&quot; WHERE &quot;type&quot;=b&#39;100&#39; AND &quot;1_product_id&quot; = &#39;1&#39; å•æŸ¥ä¸æŸä¸ªå®ä½“äº§ç”Ÿå…³ç³»çš„æ‰€æœ‰å€¼: SELECT * FROM &quot;variable&quot; WHERE &quot;type&quot;&amp;b&#39;100&#39;=b&#39;100&#39; AND &quot;1_product_id&quot; = &#39;1&#39; å•æŸ¥ä¸å¤šä¸ªä¸ªå®ä½“äº§ç”Ÿå…³ç³»çš„æ‰€æœ‰å€¼: SELECT * FROM &quot;variable&quot; WHERE &quot;type&quot;&amp;b&#39;110&#39;=b&#39;110&#39; AND &quot;1_product_id&quot; = &#39;1&#39; AND &quot;2_project_id&quot; = &#39;1&#39; æ‰©å±•æ–¹å¼å¦‚æœä¹‹åå‡ºç°ç¬¬å››ä¸ªå®ä½“4_tagï¼Œä¹Ÿéœ€è¦ä¸å‰å‡ ä¸ªå­—æ®µå»ºç«‹å…³è”å…³ç³»ï¼Œé‚£ä¹ˆåªéœ€è¦ç®€å•æ‰©å±•typeå­—æ®µçš„é•¿åº¦å°±å¯ä»¥äº†ï¼Œå½“ç„¶ä¹Ÿè¦åŒæ—¶å˜æ›´ä¸‹æŸ¥è¯¢çš„SQLã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç±»å‹ä¸ºbitçš„å­—æ®µé•¿åº¦æ˜¯ä¸å¯å˜çš„ï¼Œæ— è®ºæ˜¯å¢åŠ é•¿åº¦è¿˜æ˜¯ç¼©å‡é•¿åº¦éƒ½éœ€è¦ç°å°†å­—æ®µç±»å‹æ”¹ä¸ºvarbitåå†æ”¹å›bitï¼Œä¾‹å¦‚bit(3)-&gt;varbit(5)-&gt;bit(5)ã€‚æ­¤æ—¶ï¼Œå­—æ®µé•¿åº¦å¢åŠ ååŸæ•°æ®éƒ½å°†å‘å·¦ç§»å¹¶è¡¥0ï¼Œè™½ç„¶ä¸Šå…¶æ•°æ®å€¼ä¼šå¢å¤§ï¼Œä½†æ˜¯å¹¶ä¸å½±å“æˆ‘ä»¬å¯¹å…³è”å…³ç³»çš„æŸ¥è¯¢ã€‚"},{"title":"PostgreSql bit varying","path":"PostgreSql_bit_varying/","text":"PostgreSql bit varyingåº”ç”¨åœºæ™¯ å­˜å‚¨å’Œå¯è§†åŒ–ä½æ©ç  å‚è€ƒ Bit String Types Bit String Functions and Operators æ˜¯åŠ¨æ€é•¿åº¦çš„bitï¼Œä»¥å¯è¯»äºŒè¿›åˆ¶æ•°çš„æ–¹å¼å±•ç¤º 1SELECT B&#x27;10001&#x27; as numï¼› num 10001 è¿ç®— &amp;ä½ä¸è¿ç®— |ä½æˆ–è¿ç®— #å¼‚æˆ–è¿ç®— ~éè¿ç®— &lt;&lt;ä½å·¦ç§» &gt;&gt;ä½å³ç§» ||ä½æ‹¼æ¥ 12345678SELECT B&#x27;10001&#x27; &amp; B&#x27;01101&#x27; as &quot;and&quot;, B&#x27;10001&#x27; | B&#x27;01101&#x27; as &quot;or&quot;, B&#x27;10001&#x27; # B&#x27;01101&#x27; as &quot;eor &quot;, ~B&#x27;10001&#x27; as &quot;not&quot;, B&#x27;11111&#x27; &gt;&gt; 2 as &quot;shiftL&quot;, B&#x27;11111&#x27; &lt;&lt; 2 as &quot;shiftR&quot;, B&#x27;101&#x27; || B&#x27;01&#x27; as &quot;cancat &quot;; and or eor not shiftL shiftR cancat 00001 11101 11100 01110 00111 11100 10101 è½¬æ¢1234567SELECT B&#x27;10001&#x27; as &quot;varbit&quot;, cast(B&#x27;10001&#x27; as bit(3)) as &quot;bit3&quot;, cast(B&#x27;10001&#x27; as bit(5)) as &quot;bit&quot;, cast(B&#x27;10001&#x27; as bit(7)) as &quot;bit7&quot;, cast(cast(B&#x27;10001&#x27; as bit(5)) as integer) as &quot;int&quot;, B&#x27;10001&#x27;::bit(5)::integer as &quot;intLambda&quot;; varbit bit3 bit bit7 int intLambda 10001 100 10001 1000100 17 17"},{"title":"å¸¸è§è½¯ä»¶Proxyé…ç½®åˆé›†","path":"å¸¸è§è½¯ä»¶Proxyé…ç½®åˆé›†/","text":"System APT Docker System12export HTTP_PROXY=http://localhost:1080export HTTPS_PROXY=http://localhost:1080 APT/etc/apt/apt.conf.d/proxy.conf 12Acquire::http::Proxy &quot;http://localhost:1080&quot;;Acquire::https::Proxy &quot;http://localhost:1080&quot;; Docker/etc/systemd/system/docker.service.d/http-proxy.conf 1234[Service]Environment=&quot;HTTP_PROXY=http://192.167.20.38:1080&quot;Environment=&quot;HTTPS_PROXY=http://192.167.20.38:1080&quot;Environment=&quot;NO_PROXY=localhost,127.0.0.1,192.168.0.0/16&quot;"},{"title":"Kubernetesé›†ç¾¤ä¸­æ‹‰å–é•œåƒèµ°ä»£ç†","path":"Kubernetesé›†ç¾¤ä¸­æ‹‰å–é•œåƒèµ°ä»£ç†/","text":"ä¸‰ç§æ–¹å¼ systemdä¸­é…ç½®dockerè¿›ç¨‹ç¯å¢ƒå˜é‡ dockerå®ˆæŠ¤çº¿ç¨‹ç”¨æˆ·ä»£ç†é…ç½® é…ç½®å…¨å±€ç¯å¢ƒå˜é‡ï¼ˆå¤§æ¦‚æ²¡æ•ˆæœï¼‰ systemdä¸­é…ç½®dockerè¿›ç¨‹ç¯å¢ƒå˜é‡æ–¹å¼ä¸€ ä¸€èˆ¬æ¥è¯´ç›´æ¥æ”¹/usr/lib/systemd/system/docker.serviceå°±è¡Œï¼Œåœ¨å…¶ä¸­çš„[Service]å—ä¸­åŠ ä¸Šç¯å¢ƒå˜é‡ Environment=&quot;HTTP_PROXY=http://192.167.20.38:1080&quot; Environment=&quot;HTTPS_PROXY=http://192.167.20.38:1080&quot; æœ€åå†é‡å¯dockerå°±è¡Œ 12[root@vmw253 ~]# systemctl daemon-reload[root@vmw253 ~]# systemctl restart docker æ–¹å¼äºŒ ï¼ˆç¨å¾®ä¼˜é›…ä¸€ç‚¹ï¼‰ vim &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;docker.service.d&#x2F;http-proxy.conf 1234[Service]Environment=&quot;HTTP_PROXY=http://192.167.20.38:1080&quot;Environment=&quot;HTTPS_PROXY=http://192.167.20.38:1080&quot;Environment=&quot;NO_PROXY=localhost,127.0.0.1,*.myhuaweicloud.com,192.167.0.0/16,192.168.0.0/16&quot; ç„¶åä¸æ–¹å¼ä¸€ä¸€æ ·é‡å¯docker,ä¸¤ç§æ–¹å¼æ²¡å•¥åŒºåˆ«éƒ½æ˜¯ä¸€æ ·çš„ é‡å¯å¥½ä¹‹åéšä¾¿æµ‹è¯•ä¸‹12345678[root@vmw253 ~]# docker pull k8s.gcr.io/pause:3.03.0: Pulling from pausea3ed95caeb02: Pull complete f11233434377: Pull complete Digest: sha256:0d093c962a6c2dd8bb8727b661e2b5f13e9df884af9945b4cc7088d9350cd3eeStatus: Downloaded newer image for k8s.gcr.io/pause:3.0k8s.gcr.io/pause:3.0"},{"title":"ä¿®å¤Ubuntuä¸‹ADBè®¾å¤‡æ— æƒé™çš„é—®é¢˜","path":"ä¿®å¤Ubuntuä¸‹ADBè®¾å¤‡æ— æƒé™çš„é—®é¢˜/","text":"ä¿®å¤ADBè®¾å¤‡æ— æƒé™çš„é—®é¢˜æ¥æ‰‹åŒäº‹çš„é¡¹ç›®ï¼Œåœ¨æœåŠ¡å™¨(ç”Ÿäº§)ä¸Šè£…äº†ç‚¹ä¾èµ–ï¼Œé‡å¯äº†ä¸‹ç³»ç»Ÿï¼Œä½¿ç”¨ADBè¿æ¥çš„æ‰€æœ‰è®¾å¤‡å…¨éƒ½æ–­è¿äº†ã€‚æ…Œå¾—ä¸€æ¯”ï¼Œè¾“å‡ºå¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚ 1234567891011121314data@data:~$ /home/data/.local/share/virtualenvs/script-schedule-exec-w4db_Qrl/lib/python3.10/site-packages/airtest/core/android/static/adb/linux/adb devicesList of devices attached7DK7ZLVG99999999 device8144d0f2 no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]9486e0be no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]9584d066 no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]9LIN4SSC99999999 no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]I7VSE6DIRWLZ6T5H no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]JTK5T19909001733 devicea48ab864 devicebf7ddca0 no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]e232d448 no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]ec30a657 unauthorizedef68a8c6 no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html] æŸ¥è¯¢èµ„æ–™åå‘ç°æ˜¯udevæƒé™é…ç½®çš„é—®é¢˜ï¼Œè¿›å…¥/etc/udev/rules.d/ç›®å½•åå‘ç°é…ç½®æ–‡ä»¶å…¨éƒ¨ä¸è§äº†ï¼ˆä¸çŸ¥é“ä¸ºå•¥ï¼‰ï¼Œäºæ˜¯å»githubä¸Šä¸‹è½½äº†ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¡åˆ°é…ç½®ç›®å½•åï¼Œé‡å¯udevå’ŒADB-serveråæ¢å¤äº†å¤§åŠã€‚ å‰©ä¸‹æ²¡æ¢å¤çš„æ˜¯Oppoå’ŒVivoæ‰‹æœºï¼Œä»ç„¶æç¤ºæ— æƒé™ã€‚ç»æ£€æŸ¥ï¼Œæ˜¯è§„åˆ™æ–‡ä»¶ä¸­ç¼ºå°‘ä»–ä»¬çš„é…ç½®ï¼Œäºæ˜¯è‡ªå·±åŠ ä¸Šé…ç½®åå†æ¬¡é‡å¯æœåŠ¡ï¼Œé—®é¢˜å¾—åˆ°è§£å†³ã€‚ å‚è€ƒèµ„æ–™ snowdream&#x2F;51-android åœ¨ç¡¬ä»¶è®¾å¤‡ä¸Šè¿è¡Œåº”ç”¨ è·å–åŸå§‹è®¾å¤‡åˆ¶é€ å•† (OEM) é©±åŠ¨ç¨‹åº ä¸‹è½½è§„åˆ™æ–‡ä»¶å¹¶é‡å¯ 12345678sudo curl --create-dirs -L -o /etc/udev/rules.d/51-android.rules https://raw.githubusercontent.com/snowdream/51-android/master/51-android.ruleswget https://raw.githubusercontent.com/snowdream/51-android/master/51-android.rulesmv ./51-android.rules /etc/udev/rules.d/51-android.rulessudo mv ./51-android.rules /etc/udev/rules.d/51-android.rulessudo chmod a+r /etc/udev/rules.d/51-android.rulessudo service udev restart/home/data/.local/share/virtualenvs/script-schedule-exec-w4db_Qrl/lib/python3.10/site-packages/airtest/core/android/static/adb/linux/adb kill-server/home/data/.local/share/virtualenvs/script-schedule-exec-w4db_Qrl/lib/python3.10/site-packages/airtest/core/android/static/adb/linux/adb devices æ–°å¢è§„åˆ™ 12345--- /etc/udev/rules.d/51-android.rules SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idVendor&#125;==&quot;12d1&quot;, ATTR&#123;idProduct&#125;==&quot;107e&quot;,MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idVendor&#125;==&quot;18d1&quot;, ATTR&#123;idProduct&#125;==&quot;4ee7&quot;,MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idVendor&#125;==&quot;2d95&quot;, ATTR&#123;idProduct&#125;==&quot;6003&quot;,MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;SUBSYSTEM==&quot;usb&quot;, ATTR&#123;idVendor&#125;==&quot;22d9&quot;, ATTR&#123;idProduct&#125;==&quot;2774&quot;,MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot; ä¿®å¥½äº† 12345678910111213141516data@data:~/workspace$ /home/data/.local/share/virtualenvs/script-schedule-exec-w4db_Qrl/lib/python3.10/site-packages/airtest/core/android/static/adb/linux/adb devicesList of devices attached(è¿™ä¸ªä¸çŸ¥é“å’‹å›äº‹ï¼Œidé‡å¤å°±ç®—äº†ï¼Œè¿˜åœ¨çˆ†æ— æƒé™ï¼Œä½†æ˜¯èƒ½ç”¨)â†“â†“â†“â†“32615022 no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]32615022 device7DK7ZLVG99999999 device8144d0f2 device9486e0be device9LIN4SSC99999999 deviceI7VSE6DIRWLZ6T5H deviceJTK5T19909001733 devicea48ab864 devicebf7ddca0 devicee232d448 deviceec30a657 deviceef68a8c6 device"},{"title":"ä½¿ç”¨JDBCæ“ä½œPostgreæ—¶jsonbæ“ä½œç¬¦è¢«è¯†åˆ«ä¸ºå‚æ•°çš„é—®é¢˜","path":"ä½¿ç”¨JDBCæ“ä½œPostgreæ—¶jsonbæ“ä½œç¬¦è¢«è¯†åˆ«ä¸ºå‚æ•°çš„é—®é¢˜/","text":"ä½¿ç”¨JDBCæ“ä½œPostgreæ—¶jsonbæ“ä½œç¬¦è¢«è¯†åˆ«ä¸ºå‚æ•°çš„é—®é¢˜ä¸€å¥è¯è§£å†³æ–¹å¼æŠŠsqlä¸­çš„?æ›¿æ¢ä¸º??ï¼Œå°±èƒ½è§£å†³ åŸSQL 12-- å¯ä»¥åœ¨pgClientä¸­æ­£å¸¸æ‰§è¡ŒSELECT * FROM project WHERE (tags ?&amp; array[&#x27;Sonar&#x27;]) ç°SQL 12-- å¯ä»¥é€šè¿‡org.postgresql.Driveræ­£å¸¸æ‰§è¡ŒSELECT * FROM project WHERE (tags ??&amp; array[&#x27;Sonar&#x27;]) ç›¸å…³ç¯å¢ƒç‰ˆæœ¬ org.postgresql.postgresql:42.3.4 æŠ¥é”™çš„ä»£ç 123456789101112131415@Overridepublic List&lt;Project&gt; listByQuery(ProjectQuery query) &#123; // jsonæŸ¥è¯¢ if (CollectionUtils.isNotEmpty(tagContains)) &#123; var tagContainsArray = tagContains.toArray(); var placeHolder = IntStream.range(0, tagContains.size()).boxed().map(s -&gt; &quot;&#123;&quot; + s + &quot;&#125;&quot;) .collect(Collectors.joining(&quot;,&quot;, &quot;tags ?&amp; array[&quot;, &quot;]&quot;)); if (queryWrapper.nonEmptyOfWhere()) &#123; queryWrapper.apply(&quot;AND &quot; + placeHolder, tagContainsArray); &#125; else &#123; queryWrapper.apply(placeHolder, tagContainsArray); &#125; &#125; return baseMapper.selectList(queryWrapper); // &lt;= æ­¤è¡ŒæŠ¥é”™&#125; ç‰¹å¾æ—¥å¿—1234567891011121314151617181920212223242526272829303132332022-08-26 14:04:17.666 [TID:SLT-1563036635401490432] [ERROR] ller.GlobalExceptionController[70]- å‡ºç°æœªçŸ¥å¼‚å¸¸:### Error querying database. Cause: org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚### The error may exist in com/kailinjt/middleware/beam/mapper/ProjectMapper.java (best guess)### The error may involve defaultParameterMap### The error occurred while setting parameters### SQL: SELECT id,key,display_name,description,product_id,technical_manager_id,gitlab_project_id,development_language,tags,create_time,update_time,create_user_id,update_user_id FROM project WHERE (tags ?&amp; array[?])### Cause: org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚; æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚; nested exception is org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚org.springframework.dao.DataIntegrityViolationException: ### Error querying database. Cause: org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚### The error may exist in com/kailinjt/middleware/beam/mapper/ProjectMapper.java (best guess)### The error may involve defaultParameterMap### The error occurred while setting parameters### SQL: SELECT id,key,display_name,description,product_id,technical_manager_id,gitlab_project_id,development_language,tags,create_time,update_time,create_user_id,update_user_id FROM project WHERE (tags ?&amp; array[?])### Cause: org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚; æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚; nested exception is org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚ at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:104) ~[spring-jdbc-5.3.14.jar:5.3.14] at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.14.jar:5.3.14] at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.14.jar:5.3.14] at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79) ~[spring-jdbc-5.3.14.jar:5.3.14] at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91) ~[mybatis-spring-2.0.6.jar:2.0.6] &lt;!-- ä¸‹é¢è¿™è¡Œå †æ ˆæ˜¯æ¡†æ¶ä»£ç çš„é”™è¯¯æºï¼Œä¸Šé¢çš„å †æ ˆæ˜¯åœ¨æŠ›å‡ºå’Œç¿»è¯‘è¿™ä¸ªé”™è¯¯ --&gt; at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.6.jar:2.0.6] at jdk.proxy2.$Proxy139.selectList(Unknown Source) ~[?:?] at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224) ~[mybatis-spring-2.0.6.jar:2.0.6] at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:166) ~[mybatis-plus-core-3.4.3.4.jar:3.4.3.4] at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77) ~[mybatis-plus-core-3.4.3.4.jar:3.4.3.4] at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.4.3.4.jar:3.4.3.4] at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.4.3.4.jar:3.4.3.4] at jdk.proxy2.$Proxy165.selectList(Unknown Source) ~[?:?] &lt;!-- ä¸‹é¢è¿™è¡Œå †æ ˆæ˜¯ä¸šåŠ¡ä»£ç é”™è¯¯æºï¼Œä¸Šé¢çš„å †æ ˆæ˜¯åœ¨æ¡†æ¶ä¸­å¤„ç†çš„ --&gt; at com.kailinjt.middleware.beam.service.impl.ProjectServiceImpl.listByQuery(ProjectServiceImpl.java:103) ~[classes/:?] &lt;!-- ä»¥ä¸‹å †æ ˆä¸šåŠ¡æ— å…³ï¼Œå› æ­¤ç•¥æ‰... --&gt; æºç è·Ÿè¸ª ç”±æ—¥å¿—å¯çŸ¥ï¼Œè¿™æ®µSQLä¸­æœ‰ä¸¤ä¸ªå‚æ•°éœ€è¦å¡«å……ï¼Œä½†æˆ‘ä»¬åªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°å¯¼è‡´æŠ¥é”™ 1Cause: org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚ æ‰“å¼€é—®é¢˜SQLå‘ç°è¿™ä¸ªSQLä¸­çš„ç¡®åªæœ‰ä¸€ä¸ªå‚æ•°ï¼ŒçŒœæµ‹æ˜¯PGçš„jsonbæ“ä½œç¬¦?&amp;ä¸­çš„?è¢«é”™è¯¯çš„è¯†åˆ«ä¸ºäº†å‚æ•°ï¼ŒåŸºäºæ­¤ï¼Œåå‘æŸ¥æ‰¾å‚æ•°æ¥æºã€‚ 1SELECT id,key,display_name,description,product_id,technical_manager_id,gitlab_project_id,development_language,tags,create_time,update_time,create_user_id,update_user_id FROM project WHERE (tags ?&amp; array[?]) æ ¹æ®å †æ ˆåå‘æŸ¥æ‰¾é”™è¯¯æºorg.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441) ~[mybatis-spring-2.0.6.jar:2.0.6] 123456789101112131415161718192021222324252627282930313233private class SqlSessionInterceptor implements InvocationHandler &#123; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; SqlSession sqlSession = getSqlSession(SqlSessionTemplate.this.sqlSessionFactory, SqlSessionTemplate.this.executorType, SqlSessionTemplate.this.exceptionTranslator); try &#123; Object result = method.invoke(sqlSession, args); // &lt;= å®é™…æŠ¥é”™çš„æ˜¯è¿™è¡Œ if (!isSqlSessionTransactional(sqlSession, SqlSessionTemplate.this.sqlSessionFactory)) &#123; // force commit even on non-dirty sessions because some databases require // a commit/rollback before calling close() sqlSession.commit(true); &#125; return result; &#125; catch (Throwable t) &#123; Throwable unwrapped = unwrapThrowable(t); if (SqlSessionTemplate.this.exceptionTranslator != null &amp;&amp; unwrapped instanceof PersistenceException) &#123; // release the connection to avoid a deadlock if the translator is no loaded. See issue #22 closeSqlSession(sqlSession, SqlSessionTemplate.this.sqlSessionFactory); sqlSession = null; Throwable translated = SqlSessionTemplate.this.exceptionTranslator .translateExceptionIfPossible((PersistenceException) unwrapped); // &lt;= æŠ¥é”™çš„æ˜¯è¿™è¡Œ if (translated != null) &#123; unwrapped = translated; &#125; &#125; throw unwrapped; &#125; finally &#123; if (sqlSession != null) &#123; closeSqlSession(sqlSession, SqlSessionTemplate.this.sqlSessionFactory); &#125; &#125; &#125;&#125; åˆ°ç¬¬ä¸‰æ­¥è¿™é‡Œå‘ç°å·²ç»åœ¨mybatiså’ŒjdbcDriveré‡Œäº†ï¼Œä½†æ˜¯è¿˜çœ‹ä¸å‡ºé—®é¢˜ï¼Œå› ä¸ºçœ‹æ¼äº†ä¸€ä¸ªCaused by1234567891011121314151617181920212223242526272829303132 Caused by: org.postgresql.util.PSQLException: æœªè®¾å®šå‚æ•°å€¼ 2 çš„å†…å®¹ã€‚at org.postgresql.core.v3.SimpleParameterList.checkAllParametersSet(SimpleParameterList.java:284) ~[postgresql-42.3.4.jar:42.3.4]at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339) ~[postgresql-42.3.4.jar:42.3.4]at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.4.jar:42.3.4]at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.4.jar:42.3.4]at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167) ~[postgresql-42.3.4.jar:42.3.4]at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:156) ~[postgresql-42.3.4.jar:42.3.4]at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:497) ~[druid-1.2.8.jar:1.2.8]at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64) ~[mybatis-3.5.7.jar:3.5.7]at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79) ~[mybatis-3.5.7.jar:3.5.7]at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:64) ~[mybatis-3.5.7.jar:3.5.7]at jdk.proxy2.$Proxy222.query(Unknown Source) ~[?:?]at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63) ~[mybatis-3.5.7.jar:3.5.7]at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325) ~[mybatis-3.5.7.jar:3.5.7]at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156) ~[mybatis-3.5.7.jar:3.5.7]at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109) ~[mybatis-3.5.7.jar:3.5.7]at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:81) ~[mybatis-plus-extension-3.4.3.4.jar:3.4.3.4]at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.5.7.jar:3.5.7]at jdk.proxy2.$Proxy221.query(Unknown Source) ~[?:?]at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151) ~[mybatis-3.5.7.jar:3.5.7]at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145) ~[mybatis-3.5.7.jar:3.5.7]at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.7.jar:3.5.7]at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427) ~[mybatis-spring-2.0.6.jar:2.0.6]... 128 more å¯¼èˆªåˆ°é©±åŠ¨ä¸­çš„å¼‚å¸¸ç‚¹org.postgresql.core.v3.SimpleParameterList.checkAllParametersSet(SimpleParameterList.java:284) ~[postgresql-42.3.4.jar:42.3.4]ï¼Œå‘ç°æ ¹æœ¬åŸå› æœç„¶æ˜¯å‚æ•°åˆ—è¡¨paramValuesé¢„æœŸä¸¤ä¸ªå€¼ï¼Œå®é™…åªæœ‰ä¸€ä¸ªå€¼å¯¼è‡´çš„123456789@Overridepublic void checkAllParametersSet() throws SQLException &#123; for (int i = 0; i &lt; paramTypes.length; ++i) &#123; if (direction(i) != OUT &amp;&amp; paramValues[i] == null) &#123; throw new PSQLException(GT.tr(&quot;No value specified for parameter &#123;0&#125;.&quot;, i + 1), PSQLState.INVALID_PARAMETER_VALUE); &#125; &#125;&#125; åå‘æŸ¥æ‰¾ç±»å˜é‡paramValuesæ˜¯ä½•æ—¶è¢«èµ‹å€¼çš„: org.postgresql.core.v3.SimpleParameterList#SimpleParameterList[48]æ„é€ æ–¹æ³•ä¼ å…¥ org.postgresql.core.v3.SimpleQuery#createParameterList[52] ç”±getBindCount()è®¡ç®—å¾—åˆ° ç”±ç±»å˜é‡nativeQuery.bindPositionsçš„é•¿åº¦ä¹˜ä»¥æ‰¹å¤„ç†æ•°getBatchSize()å¾—åˆ° 1234public final int getBindCount() &#123; return nativeQuery.bindPositions.length * getBatchSize();&#125; åå‘æŸ¥æ‰¾ç±»å˜é‡nativeQuery.bindPositionsæ˜¯ä½•æ—¶è¢«èµ‹å€¼çš„: org.postgresql.core.NativeQuery#NativeQuery(java.lang.String, int[], boolean, org.postgresql.core.SqlCommand)[36-37]æ„é€ æ–¹æ³•ä¼ å…¥ è¿™ä¸ªæ„é€ ä½¿ç”¨çš„æ–¹å¼å¤ªå¤šäº†ï¼Œåœ¨è¿™è¡Œæ‰“ä¸ªæ–­ç‚¹ï¼Œå¯åŠ¨åº”ç”¨åæ‰§è¡ŒSQLè§¦å‘æ–­ç‚¹ï¼ŒåŠ¨æ€æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸è·å–å †æ ˆ: 1234567891011java.lang.Exception at org.postgresql.core.NativeQuery.&lt;init&gt;(NativeQuery.java:36) &lt;!-- å¾—åˆ°çœŸå®çš„ä½¿ç”¨ä½ç½® --&gt; at org.postgresql.core.Parser.parseJdbcSql(Parser.java:295) at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:65) at org.postgresql.core.CachedQueryCreateAction.create(CachedQueryCreateAction.java:19) at org.postgresql.util.LruCache.borrow(LruCache.java:123) at org.postgresql.core.QueryExecutorBase.borrowQuery(QueryExecutorBase.java:296) at org.postgresql.jdbc.PgConnection.borrowQuery(PgConnection.java:172) at org.postgresql.jdbc.PgPreparedStatement.&lt;init&gt;(PgPreparedStatement.java:88) &lt;!-- ä»¥ä¸‹å †æ ˆç•¥ --&gt; å‘ç°åŸå‚æ•°æ˜¯bindPositionsçš„åŒ…è£…ï¼Œè½¬è€Œè¿½è¸ªå‚æ•°bindPositions: 12345NativeQuery lastQuery = new NativeQuery(nativeSql.toString(), toIntArray(bindPositions), !splitStatements, // &lt;= å°±æ˜¯è¿™ä¸ªtoInArrayåŒ…è£… SqlCommand.createStatementTypeInfo(currentCommandType, isBatchedReWriteConfigured, valuesBraceOpenPosition, valuesBraceClosePosition, isReturningPresent, (nativeQueries == null ? 0 : nativeQueries.size()))); è¿½è¸ªåˆ°org.postgresql.core.Parser#parseJdbcSqlSQLè§£æå™¨ä¸­,è¯»å–åˆ°SQLä¸­çš„?æ—¶çš„å¤„ç†æ–¹å¼: 1234567891011121314151617181920212223case &#x27;?&#x27;: nativeSql.append(aChars, fragmentStart, i - fragmentStart); // æœ‰è¿ç»­ä¸¤ä¸ª?çš„æ—¶å€™ï¼Œåªå‘sqlä¸­æ‹¼æ¥ä¸€ä¸ª?ï¼Œä¸è®¡å…¥bindPositionsä¸­ if (i + 1 &lt; aChars.length &amp;&amp; aChars[i + 1] == &#x27;?&#x27;) /* replace ?? with ? */ &#123; nativeSql.append(&#x27;?&#x27;); i++; // make sure the coming ? is not treated as a bind &#125; else &#123; // åªæœ‰ä¸€ä¸ª?çš„æ—¶å€™ï¼Œæ£€æŸ¥æ˜¯å¦è§£æå‚æ•° if (!withParameters) &#123; // ä¸è§£æå‚æ•° nativeSql.append(&#x27;?&#x27;); &#125; else &#123; // è§£æå‚æ•° if (bindPositions == null) &#123; bindPositions = new ArrayList&lt;Integer&gt;(); &#125; bindPositions.add(nativeSql.length()); int bindIndex = bindPositions.size(); nativeSql.append(NativeQuery.bindName(bindIndex)); &#125; &#125; fragmentStart = i + 1; break; æŠŠsqlä¸­çš„?æ›¿æ¢ä¸º??ï¼Œé—®é¢˜æˆåŠŸè§£å†³ã€‚"},{"title":"Linuxä¸‹çš„ç®€å•ç½‘ç»œç®¡ç†","path":"Linuxä¸‹çš„ç®€å•ç½‘ç»œç®¡ç†/","text":"ä½¿ç”¨Netplanç®¡ç†ç½‘ç»œé…ç½®ç›¸å…³èµ„æ–™ Netplanæ–‡æ¡£åœ°å€ Netplané…ç½®åœ°å€: /etc/netplan/xxxx.yaml NetworkManageræ–‡æ¡£åœ°å€ NetworkManageré…ç½®åœ°å€: /etc/NetworkManager/NetworkManager.conf æ­¥éª¤ ä¿®æ”¹é…ç½® åº”ç”¨ç½‘ç»œç­–ç•¥sudo netlpan apply 12345678910111213141516171819# This is the network config written by &#x27;subiquity&#x27;network:version: 2# å¯é€‰å€¼ NetworkManager | networkdrenderer: NetworkManagerethernets: eno1: addresses: - 192.167.20.211/24 gateway4: 192.167.20.1 nameservers: addresses: - 192.167.20.1 - 114.114.114.114 - 1.1.1.1 search: [] eno2: dhcp4: true ä½¿ç”¨sudo nmtuiå¾®è°ƒç½‘ç»œï¼Œå¦‚æœnmtuiä¸­çœ‹ä¸åˆ°æ¥å£ï¼Œåˆ™æ£€æŸ¥é…ç½®åä½¿ç”¨sudo systemctl reload NetworkManageré‡å¯æœåŠ¡å³å¯ é™æ€é…ç½®(æ—§ç‰ˆUbuntu) é™æ€ipé…ç½®: /etc/network/interfaces é™æ€dnsé…ç½®: /etc/resolv.conf"},{"title":"è§£å†³Springdoc-OAS3ä¸­Schemaé‡å¤çš„é—®é¢˜","path":"è§£å†³Springdoc-OAS3ä¸­Schemaé‡å¤çš„é—®é¢˜/","text":"åœ¨ä½¿ç”¨springdoc-openapiæ—¶ï¼Œå¦‚æœé¡¹ç›®ä¸­å­˜åœ¨å¤šä¸ªSimpleNameä¸€è‡´çš„Classï¼Œé‚£åœ¨Schemaæè¿°ä¸­å°†ä¼šä¾ç…§è§£æçš„å…ˆåé¡ºåºäº’ç›¸è¦†ç›–ï¼Œä»è€Œå¯¼è‡´Apiæ–‡æ¡£çš„æè¿°ä¸é¢„æœŸä¸ä¸€è‡´ã€‚ ç›¸ä¼¼é—®é¢˜ Duplicate class names in different packages get squashed in ControllerDocumentation è§£å†³æ–¹æ¡ˆ å¯ç”¨springdoc.use-fqnå±æ€§ï¼Œæ‰€æœ‰çš„ç±»å°†è§£æä¸ºå…¨é™å®šå é‡å†™TypeNameResolverï¼Œè‡ªå®šä¹‰è§£æè§„åˆ™ é‡å†™TypeNameResolveréœ€è¦æ³¨æ„çš„æ˜¯ï¼Œçˆ¶ç±»ä¸­useFqnè¢«é™å®šä¸ºprivateï¼Œåœ¨å­ç±»ä¸­æ— æ³•è·å–ã€‚å› æ­¤é‡å†™çš„é€»è¾‘ï¼ˆé™¤super.getNameOfClass(cls)å¤–ï¼‰æ— æ³•å¯¹å¼€å¯useFqnçš„æƒ…å†µåšå‡ºé€‚é…ã€‚ 1234567891011121314151617/** * ç”¨äºè‡ªå®šä¹‰Schemaç”Ÿæˆé€»è¾‘ ä»¥åŒºåˆ†ä¸åŒåŒ…ä¸‹çš„åŒåSchema */public class CustomOAS3TypeNameResolver extends TypeNameResolver &#123; @Override protected String getNameOfClass(Class&lt;?&gt; cls) &#123; var packageName = cls.getPackageName(); if (packageName.contains(&quot;xxxxxx&quot;)) &#123; return cls.getSimpleName(); &#125; else if (packageName.contains(&quot;org.gitlab4j&quot;)) &#123; return &quot;Gitlab&quot; + cls.getSimpleName(); &#125; return super.getNameOfClass(cls); &#125;&#125; æ›¿æ¢æ‰åŸæœ¬çš„TypeNameResolver åŸæœ¬çš„TypeNameResolveræ˜¯ä¸ªç§æœ‰é™æ€å•ä¾‹ï¼Œä¸Šé¢è¿˜æ‰“äº†finalæ ‡è®°ï¼Œçœ‹èµ·æ¥æ˜¯æ²¡æœ‰æ›¿æ¢åŸæœ¬å˜é‡çš„å¯èƒ½äº†ã€‚ å¾€ä¸Šä¸€å±‚èµ°åˆ°ModelResolverç±»ä¸­ï¼Œè¿™ä¸ªç±»æä¾›äº†ä¸¤ä¸ªæ„é€ ï¼Œå…¶ä¸­ä¸€ä¸ªæ”¯æŒä¼ å…¥TypeNameResolverå‚æ•°ï¼Œå¯ä»¥ä»è¿™é‡Œå…¥æ‰‹è¦†ç›–ã€‚ ModelResolveræ˜¯è¢«ModelResolversåˆå§‹åŒ–çš„ï¼Œè™½ç„¶ModelConvertersä¹Ÿæ˜¯ä¸ªç§æœ‰é™æ€å•ä¾‹æ”¹ä¸æ‰ä»–ï¼Œä½†ä»–æœ¬è´¨æ˜¯ä¸ªå¯¹List&lt;ModelConverter&gt;çš„åŒ…è£…ç±»ï¼Œæä¾›äº†æ“ä½œå…¶ä¸­convertersçš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æ“ä½œå†…éƒ¨çš„æ•°ç»„æ¥æ”¾å…¥è‡ªå®šä¹‰çš„TypeNameResolverã€‚ ç”±äºModelConvertersä¹Ÿæ˜¯é™æ€å•ä¾‹ï¼Œåªè¦åœ¨Springè°ƒç”¨å®ƒè§£æModelä¹‹å‰æ›¿æ¢è°ƒåŸæœ¬çš„TypeNameResolverå°±è¡Œäº†ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ€¼åˆ°å¯åŠ¨ç±»ä¸­ã€‚ 12345678910111213141516171819@SpringBootApplicationpublic class BeamApplication &#123; public static void main(String[] args) &#123; customOAS3TypeConverter(); SpringApplication.run(BeamApplication.class, args); &#125; /** * è‡ªå®šä¹‰OAS3ç±»å‹è½¬æ¢å™¨ */ private static void customOAS3TypeConverter() &#123; var instance = ModelConverters.getInstance(); var converter = instance.getConverters().get(0); instance.removeConverter(converter); instance.addConverter(new ModelResolver(Json.mapper(), new CustomOAS3TypeNameResolver())); &#125;&#125; é‡å¯é¡¹ç›®åï¼Œæ‰“å¼€openapiæ–‡æ¡£ã€‚ç›¸åŒSimpleNameçš„Schemaå·²ç»åŒºåˆ†æ¥äº†ã€‚"},{"title":"ç”±XXL-adminæ—¥å¿—åºåˆ—åŒ–å¼‚å¸¸å¯¼è‡´çš„äº‹æ•…","path":"ç”±XXL-adminæ—¥å¿—åºåˆ—åŒ–å¼‚å¸¸å¯¼è‡´çš„äº‹æ•…/","text":"åŸå› åˆ†æ å®¢æˆ·ç«¯å›è°ƒæ—¥å¿—åºåˆ—åŒ–å‡ºç°é—®é¢˜ æœåŠ¡ç«¯æ”¶åˆ°callbackåååºåˆ—åŒ–å¤±è´¥æŠ›å‡º500 å®¢æˆ·ç«¯æ”¶åˆ°500é”™è¯¯ç æ— é™é‡è¯• ç”±äºé…ç½®é”™è¯¯å¤šä¸ªå®¢æˆ·ç«¯æ‰«æäº†NFSä¸ŠåŒä¸€ä¸ªæ—¥å¿—ç›®å½• å¤šä¸ªå®¢æˆ·ç«¯é‡è¯•åŒä¸€æ¡æ—¥å¿—ï¼Œé”™è¯¯è¢«æ”¾å¤§ æœåŠ¡ç«¯é”™è¯¯æ—¥å¿—ä¸­æ‰“å°äº†å‡ºå…¥å‚ï¼Œç”±äºå¤§é‡å®¢æˆ·ç«¯é‡å‘callbackï¼Œæ—¥å¿—ç‹‚åˆ· xxlæœåŠ¡ç«¯æ—¥å¿—æ»šåŠ¨è§„åˆ™ä»…ä»…é…ç½®äº†æ—¥æœŸæ»šåŠ¨ï¼Œæœªé…ç½®æŒ‰å¤§å°æ»šåŠ¨ï¼Œé”™è¯¯å…œåº•å¤±è´¥ æœåŠ¡å™¨ç”¨äºå­˜å‚¨æ—¥å¿—çš„ç£ç›˜çˆ†æ»¡ï¼Œæ‰€æœ‰æœåŠ¡éƒ½çˆ†ç‚¸å•¦ï¼ï¼ï¼ˆé«˜å…´ å…³é”®å †æ ˆä¿¡æ¯ï¼ŒDEBUGè¯¦æƒ…ä¹‹åå¤ç°æ—¶è¡¥å……1234com.xxl.job.core.thread.TriggerCallbackThread#startcom.xxl.job.core.thread.TriggerCallbackThread#retryFailCallbackFilecom.xxl.job.core.thread.TriggerCallbackThread#doCallbackcom.xxl.job.core.thread.TriggerCallbackThread#doCallback[166] ååºåˆ—åŒ–å¤±è´¥çš„callbackæ—¥å¿—ç¤ºä¾‹ xxl-job-callback-1660189083244.log æœåŠ¡å™¨ååºåˆ—åŒ–é€ æˆçš„é”™è¯¯æ—¥å¿—123456789101112131415Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized character escape &#x27;I&#x27; (code 73) at [Source: [&#123;&quot;logId&quot;:457389,&quot;logDateTim&quot;:1659750000001,&quot;executeResult&quot;:&quot;**æ­¤å¤„å†…å®¹ä¸ºä¸Šè¿°callback.logå†…å®¹**&quot;,&quot;content&quot;:null&#125;&#125;]; line: 1, column: 898] at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1702) at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:558) at com.fasterxml.jackson.core.base.ParserMinimalBase._handleUnrecognizedCharacterEscape(ParserMinimalBase.java:535) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._decodeEscaped(ReaderBasedJsonParser.java:2536) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._finishString2(ReaderBasedJsonParser.java:2057) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._finishString(ReaderBasedJsonParser.java:2030) at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.getText(ReaderBasedJsonParser.java:276) at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:36) at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:504) at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:104) at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:276) ... 78 common frames omitted"},{"title":"ä¸ºOracleå®ä¾‹æŒ‚è½½å—å­˜å‚¨","path":"ä¸ºOracleå®ä¾‹æŒ‚è½½å—å­˜å‚¨/","text":"æ‰€è°“å—å­˜å‚¨è¯´äººè¯å°±æ˜¯äº‘ç¡¬ç›˜ï¼Œè´­ä¹°å—å­˜å‚¨ç®€å•ç†è§£å°±æ˜¯ä¹°äº†å—å·²ç»åšå¥½scsiçš„ç¡¬ç›˜ï¼Œä¹°å—ç¡¬ç›˜ä¹‹åæ’åˆ°æœåŠ¡å™¨ä¸Šå°±èƒ½ç”¨äº†ã€‚å¤§æ¦‚æµç¨‹å°±æ˜¯ä¸‹é¢è¿™ç§ï¼š 1è´­ä¹°å—å­˜å‚¨ -&gt; é™„åŠ åˆ°å®ä¾‹ -&gt; åˆ†åŒº -&gt; æŒ‚è½½ å¦‚æœéœ€è¦å¤šä¸ªå®ä¾‹å…±äº«ä¸€ä¸ªç©ºé—´çš„è¯åˆ™æœ‰å¤šç§æ–¹å¼ å°†å—å­˜å‚¨åŒæ—¶æŒ‚è½½åˆ°å¤šä¸ªå®ä¾‹ï¼Œå†å°†å­˜å‚¨ä¸­åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–ä¸ºå…±äº«å‹å­˜å‚¨ç³»ç»Ÿ å°†å—å­˜å‚¨æŒ‚è½½åˆ°å•ä¸ªå®ä¾‹ä¸Šï¼Œå†å°†ä½¿ç”¨NFSå…±äº«å—å­˜å‚¨ è´­ä¹°å—å­˜å‚¨å‡†å¤‡å¥½é’±ç›´æ¥ä¹°å°±æ˜¯äº†ï¼Œå…è´¹è´¦æˆ·æœ‰50Gçš„å…è´¹ç©ºé—´ï¼Œåšåšå®éªŒå•¥çš„ä¹Ÿå¤Ÿäº†ã€‚ é™„åŠ åˆ°å®ä¾‹ä¹°å¥½äº†å—å­˜å‚¨ï¼Œç‚¹è¿›è¯¦æƒ…å°±å¯ä»¥é™„åŠ åˆ°å®ä¾‹ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ä¸‹ï¼Œå¦‚æœå¤šä¸ªå®ä¾‹æƒ³æŒ‚è½½åŒä¸€ä¸ªå—å­˜å‚¨ï¼Œé‚£éœ€è¦é€‰æ‹©è¯»/å†™ - å¯å…±äº«é€‰é¡¹ã€‚![é™„åŠ åˆ°å®ä¾‹](cover: https://dreamccc-note.oss-cn-chengdu.aliyuncs.com/note/images/posts/ä¸ºOracleå®ä¾‹æŒ‚è½½å—å­˜å‚¨/attach2instance.png) å‚è€ƒèµ„æ–™ xfs-vs-ext4 service-iscsi choosing-between-network-and-shared-storage-file-systems_assembly_overview-of-available-file-systems ch-ext4 Ramble_about_distributed_storage_schemes.pdf"},{"title":"æ­å»ºMavenè„šæ‰‹æ¶æ—¶ä¸€äº›å¹¶ä¸å¤ªå¸¸è§çš„é—®é¢˜","path":"æ­å»ºMavenè„šæ‰‹æ¶æ—¶ä¸€äº›å¹¶ä¸å¤ªå¸¸è§çš„é—®é¢˜/","text":"ä½¿ç”¨è„šæ‰‹æ¶ç”Ÿæˆçš„pom.xmlä¸­å«æœ‰å¤§é‡ç©ºç™½è¡Œç‰‡æ®µå¦‚ä¸‹å›¾ï¼Œç”Ÿæˆçš„xmlå«æœ‰å¤§é‡ç©ºç™½è¡Œ 12345678910111213141516171819202122232425262728293031323334353637383940&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.79&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;31.0.1-jre&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-ext&lt;/artifactId&gt; &lt;/dependency&gt;&lt;!-- endregion --&gt; &lt;/dependencies&gt; å‚è€ƒèµ„æ–™ Remove dom4j library Resulting root pom.xml from archetype generation has additional newlines with JDK11 Multi-modules Archetypesâ€™ Root POM file contains empty lines in Java 11 è§£å†³æ–¹æ¡ˆè¿™æ˜¯maven-archetype-pluginæ’ä»¶çš„BUGï¼Œèµ·å› æ˜¯maven-archetype-plugin:3.1.1ä½¿ç”¨Java XML APIæ›¿æ¢äº†dom4jç”¨ä»¥ç”Ÿæˆxmlï¼Œæ­¤è¡Œä¸ºå¯¼è‡´ä¸åŒçš„Javaç‰ˆæœ¬å°†ä¼šå½±å“æœ€ç»ˆxmlçš„ç”Ÿæˆç»“æœã€‚ æœ€ç»ˆè§£å†³æ–¹æ¡ˆå°±æ˜¯æ¢ç”¨maven-archetype-plugin:3.1.0åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œæˆ–è€…ä½¿ç”¨Java8. åœ¨é¡¹ç›®ä¸­æ·»åŠ .gitignoreæ–‡ä»¶è„šæ‰‹æ¶ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…¶ä¸­ä»¥.å¼€å¤´çš„éšè—æ–‡ä»¶å‡ä¸ºåŒ…å«åœ¨è¾“å‡ºç›®å½•ä¸­ 123456789101112131415161718192021xxx-archetype|- .idea|- src| |- main| |- resources| |- archetype-resources| | |- __rootArtifactId__-common| | |- __rootArtifactId__-data| | |- __rootArtifactId__-proxy| | |- __rootArtifactId__-service| | |- __rootArtifactId__-web| | |- .editorconfig| | |- .gitignore| | |- .gitlab-ci.yml| | |- Dockerfile| | |- lombok.config| | |- pom.xml| |- META-INF| |- maven| |- archetype-metadata.xml|- pom.xml è§£å†³æ–¹å¼ï¼š ä¿®æ”¹pom.xmlå‡çº§maven-archetype-pluginåˆ°3.2.1ç‰ˆæœ¬ï¼Œå¹¶è®¾ç½®å˜é‡useDefaultExcludes=false 12345678&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-archetype-plugin&lt;/artifactId&gt; &lt;version&gt;3.2.1&lt;/version&gt; &lt;configuration&gt; &lt;useDefaultExcludes&gt;false&lt;/useDefaultExcludes&gt; &lt;/configuration&gt;&lt;/plugin&gt; ä¿®æ”¹pom.xmlå‡çº§maven-resources-pluginåˆ°3.2.0ç‰ˆæœ¬ï¼Œå¹¶è®¾ç½®å˜é‡addDefaultExcludes=false 12345678&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;version&gt;3.2.0&lt;/version&gt; &lt;configuration&gt; &lt;addDefaultExcludes&gt;false&lt;/addDefaultExcludes&gt; &lt;/configuration&gt;&lt;/plugin&gt; åœ¨archetype-metadata.xmlä¸­æ·»åŠ éœ€è¦åŒ…å«çš„æ–‡ä»¶ 123456789101112&lt;fileSets&gt; &lt;fileSet filtered=&quot;true&quot; encoding=&quot;UTF-8&quot;&gt; &lt;directory/&gt; &lt;includes&gt; &lt;include&gt;.editorconfig&lt;/include&gt; &lt;include&gt;.gitignore&lt;/include&gt; &lt;include&gt;Dockerfile&lt;/include&gt; &lt;include&gt;lombok.config&lt;/include&gt; &lt;include&gt;.gitlab-ci.yml&lt;/include&gt; &lt;/includes&gt; &lt;/fileSet&gt;&lt;/fileSets&gt; åœ¨archetype-metadata.xmlä¸­å¯ç”¨ä»£ç æç¤º (é€‚ç”¨äºæ‰€æœ‰XML)æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å°†namespaceæ›´æ–°ä¸º1.1.0ç‰ˆæœ¬ï¼Œå¹¶åœ¨ideaä¸­å°†å…‰æ ‡æŒ‡å‘xmlnsé“¾æ¥ç‚¹å‡»è·å–å¤–éƒ¨èµ„æºå³å¯ã€‚ 123456&lt;archetype-descriptor xmlns=&quot;https://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.1.0 http://maven.apache.org/xsd/archetype-descriptor-1.1.0.xsd&quot; name=&quot;xxxxx-archetype&quot; partial=&quot;false&quot;&gt;&lt;/archetype-descriptor&gt;"},{"title":"æ–‡ä»¶è§‚å¯Ÿè€…æ•°é‡è¶…è¿‡ç³»ç»Ÿé™åˆ¶","path":"deepinä¸‹ç³»ç»Ÿç›‘æ§æ–‡ä»¶æ•°é‡è¶…è¿‡é™åˆ¶/","text":"ç—‡çŠ¶1åœ¨ç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨ä¸­æ–°å»ºæ–‡ä»¶æ—¶ä¸ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚ ç—‡çŠ¶2å¯åŠ¨Angularé¡¹ç›®æŠ¥äº†å¦‚ä¸‹é”™è¯¯ï¼š 1234Watchpack Error (watcher): Error: ENOSPC: System limit for number of file watchers reached, watch &#x27;/home/daizc/IdeaProjects/beam/beam-frontend/src/main/angular/node_modules/@webcomponents/webcomponentsjs&#x27;Watchpack Error (watcher): Error: ENOSPC: System limit for number of file watchers reached, watch &#x27;/home/daizc/IdeaProjects/beam/beam-frontend/src/main/angular/node_modules/@webcomponents&#x27;Watchpack Error (watcher): Error: ENOSPC: System limit for number of file watchers reached, watch &#x27;/home/daizc/IdeaProjects/beam/beam-frontend/src/main/angular/node_modules/@types/trusted-types&#x27;Watchpack Error (watcher): Error: ENOSPC: System limit for number of file watchers reached, watch &#x27;/home/daizc/IdeaProjects/beam/beam-frontend/src/main/angular/node_modules/@types&#x27; è§£å†³æ–¹æ¡ˆ:AReact Native Error: ENOSPC: System limit for number of file watchers reached ç»éªŒè¯ï¼Œé‡å¯åä¼šå¤±æ•ˆ 12sudo sysctl fs.inotify.max_user_watches=524288 # æˆ‘è‡ªå·±è®¾ç½®çš„æ˜¯131072sudo sysctl -p è§£å†³æ–¹æ¡ˆ:BInotify ç›‘è§†é™åˆ¶ (Linux) å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°&#x2F;etc&#x2F;sysctl.confæ–‡ä»¶æˆ–ç›®å½•ä¸‹çš„æ–°*.confæ–‡ä»¶ï¼ˆä¾‹å¦‚idea.confï¼‰&#x2F;etc&#x2F;sysctl.d&#x2F;: fs.inotify.max_user_watches = 524288 ç„¶åè¿è¡Œæ­¤å‘½ä»¤ä»¥åº”ç”¨æ›´æ”¹ï¼š sudo sysctl -p --system ç³»ç»Ÿç¯å¢ƒ: OS: Deepin 20.6 apricot Kernel: x86_64 Linux 5.10.101-amd64-desktop"},{"title":"åœ¨K8sä¸­éƒ¨ç½²projector-idea-u","path":"åœ¨K8sä¸­éƒ¨ç½²projector-idea-u/","text":"ç¼–å†™éƒ¨ç½²æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113# æä¾›NodePortä¾›å¤–éƒ¨è®¿é—®apiVersion: v1kind: Servicemetadata: name: idea-u-daizc-nodeport namespace: default labels: app.kubernetes.io/name: idea-u-daizcspec: type: NodePort ports: - port: 8887 targetPort: 8887 nodePort: 31887 selector: app.kubernetes.io/name: idea-u-daizc---# æä¾›ClusterIPä¾›å†…éƒ¨è§£æapiVersion: v1kind: Servicemetadata: name: idea-u-daizc namespace: default labels: app.kubernetes.io/name: idea-u-daizcspec: type: ClusterIP ports: - port: 8887 protocol: TCP name: http selector: app.kubernetes.io/name: idea-u-daizc---# ä½¿ç”¨æœ‰çŠ¶æ€å‰¯æœ¬é›†éƒ¨ç½²apiVersion: apps/v1kind: StatefulSetmetadata: name: idea-u-daizc namespace: default labels: app.kubernetes.io/name: idea-u-daizcspec: selector: matchLabels: app.kubernetes.io/name: idea-u-daizc serviceName: &quot;idea-u-daizc&quot; replicas: 1 # é»˜è®¤å€¼æ˜¯ 1 minReadySeconds: 0 # é»˜è®¤å€¼æ˜¯ 0 template: metadata: labels: app.kubernetes.io/name: idea-u-daizc # å¿…é¡»åŒ¹é… .spec.selector.matchLabels spec: terminationGracePeriodSeconds: 60 containers: - name: idea-u-daizc image: jetbrains/projector-idea-u:2021.3-projector-v1.8.1 ports: - containerPort: 8887 protocol: TCP name: http volumeMounts: - mountPath: /home/projector-user name: idea-u-daizc-volume volumes: - name: idea-u-daizc-volume persistentVolumeClaim: claimName: idea-u-daizc-pvc---# ä½¿ç”¨PVCå£°æ˜éœ€è¦çš„æŒä¹…åŒ–å­˜å‚¨ç©ºé—´apiVersion: v1kind: PersistentVolumeClaimmetadata: name: idea-u-daizc-pvcspec: storageClassName: idea-u-daizc-pv-storage-class-name # éœ€è¦ä¸PVCçš„å¯¹åº”ï¼Œå¦åˆ™æ— æ³•æˆåŠŸç”³é¢†ä¸‹é¢çš„PV accessModes: - ReadWriteMany resources: requests: storage: 10Gi---# ä¸ºPVCæ‰‹åŠ¨åˆ›å»ºPVå·apiVersion: v1kind: PersistentVolumemetadata: name: idea-u-daizc-pvspec: # è®¿é—®æ¨¡å¼ # https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes # ReadWriteOnce å·å¯ä»¥è¢«ä¸€ä¸ªèŠ‚ç‚¹ä»¥è¯»å†™æ–¹å¼æŒ‚è½½ã€‚ ReadWriteOnce è®¿é—®æ¨¡å¼ä¹Ÿå…è®¸è¿è¡Œåœ¨åŒä¸€èŠ‚ç‚¹ä¸Šçš„å¤šä¸ª Pod è®¿é—®å·ã€‚ # ReadOnlyMany å·å¯ä»¥è¢«å¤šä¸ªèŠ‚ç‚¹ä»¥åªè¯»æ–¹å¼æŒ‚è½½ã€‚ # ReadWriteMany å·å¯ä»¥è¢«å¤šä¸ªèŠ‚ç‚¹ä»¥è¯»å†™æ–¹å¼æŒ‚è½½ã€‚ # ReadWriteOncePod å·å¯ä»¥è¢«å•ä¸ª Pod ä»¥è¯»å†™æ–¹å¼æŒ‚è½½ã€‚ å¦‚æœä½ æƒ³ç¡®ä¿æ•´ä¸ªé›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ª Pod å¯ä»¥è¯»å–æˆ–å†™å…¥è¯¥ PVCï¼Œ è¯·ä½¿ç”¨ # ReadWriteOncePod è®¿é—®æ¨¡å¼ã€‚è¿™åªæ”¯æŒ CSI å·ä»¥åŠéœ€è¦ Kubernetes 1.22 ä»¥ä¸Šç‰ˆæœ¬ã€‚ accessModes: - ReadWriteMany capacity: storage: 10Gi # ä½¿ç”¨NFSä½œä¸ºPVæä¾›è€… nfs: # è¿™ä¸ªpathéœ€è¦åœ¨NFSå¤„é…ç½® path: /opt/nfs/idea-u-daizc-pv server: 192.168.21.24 storageClassName: idea-u-daizc-pv-storage-class-name # PVå›æ”¶ç­–ç•¥ # https://kubernetes.io/zh/docs/concepts/storage/persistent-volumes/#reclaim-policy # Retain æ‰‹åŠ¨å›æ”¶ # Recycle åŸºæœ¬æ“¦é™¤ (rm -rf /thevolume/*) # Delete è¯¸å¦‚ AWS EBSã€GCE PDã€Azure Disk æˆ– OpenStack Cinder å·è¿™ç±»å…³è”å­˜å‚¨èµ„äº§ä¹Ÿè¢«åˆ é™¤ persistentVolumeReclaimPolicy: Retain volumeMode: Filesystem ä¿®æ”¹NFSé…ç½® åœ¨éƒ¨ç½²PVæ—¶å†™æ­»çš„nfsè·¯å¾„éœ€è¦çœŸå®å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨éœ€è¦æ–°å»º åœ¨/etc/exportsä¸­æ–°å¢å¯¼å‡ºé¡¹ 1234# é›†ç¾¤åœ°å€æ”¾è¡Œ /opt/nfs/idea-u-daizc-pv 192.168.21.0/24(rw,sync,all_squash)# æœ¬åœ°åœ°å€æ”¾è¡Œ/opt/nfs/idea-u-daizc-pv 192.167.20.38/32(rw,sync,all_squash) éœ€è¦æ³¨æ„NFSç”¨æˆ·æƒé™æ˜ å°„ç›¸å…³é…ç½®ï¼ˆä½¿ç”¨man exportæŸ¥çœ‹ï¼‰ root_squashï¼Œå½“NFSå®¢æˆ·ç«¯ä»¥rootç”¨æˆ·èº«ä»½è®¿é—®æ—¶ï¼Œæ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„nfsnobodyç”¨æˆ· no_root_squashï¼Œå½“NFSå®¢æˆ·ç«¯ä»¥rootèº«ä»½è®¿é—®æ—¶ï¼Œæ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„rootç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯è¦ä¸ºè¶…çº§ç”¨æˆ·ä¿ç•™æƒé™ã€‚è¿™ä¸ªé€‰é¡¹ä¼šç•™ä¸‹ä¸¥é‡çš„å®‰å…¨éšæ‚£ï¼Œä¸€èˆ¬ä¸å»ºè®®é‡‡ç”¨ all_squashï¼Œæ— è®ºNFSå®¢æˆ·ç«¯ä»¥å“ªç§ç”¨æˆ·èº«ä»½è®¿é—®ï¼Œå‡æ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„nfsnobodyç”¨æˆ·å…¶ä¸­é»˜è®¤å€¼æ˜¯root_squashï¼Œå³å½“å®¢æˆ·ç«¯ä»¥rootç”¨æˆ·çš„èº«ä»½è®¿é—®NFSå…±äº«æ—¶ï¼Œåœ¨æœåŠ¡å™¨ç«¯ä¼šè‡ªåŠ¨è¢«æ˜ å°„ä¸ºåŒ¿åè´¦å·nfsnobody ä½¿ç”¨exportfs -ravå‘½ä»¤é‡è½½NFSæœåŠ¡ã€‚ *å¦‚æœæŒ‚è½½æˆåŠŸåpodå†…æŠ¥æƒé™å¼‚å¸¸å°±æŠŠæ•´ä¸ªnfsçš„æŒ‚è½½ç›®å½•æƒé™æ”¹æˆ777 å¼€å§‹éƒ¨ç½² ä½¿ç”¨kubectl apply -f xxxéƒ¨ç½²ä¸Šé¢çš„yml è§‚å¯ŸPVã€PVCæ˜¯å¦ä¸ºç»‘å®šçŠ¶æ€(STATUSä¸ºBound) 123456daizc@KAILIN-DAIZC:/mnt/d/deployment$ kubectl get pvcNAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGEidea-u-daizc-pvc Bound idea-u-daizc-pv 10Gi RWX idea-u-daizc-pv-storage-class-name 3d19hdaizc@KAILIN-DAIZC:/mnt/d/deployment$ kubectl -n ops get pvNAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGEidea-u-daizc-pv 10Gi RWX Retain Bound default/idea-u-daizc-pvc idea-u-daizc-pv-storage-class-name 3d19h è§‚å¯ŸStatefulSetå’ŒPodæ˜¯å¦å¯åŠ¨æˆåŠŸ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160daizc@KAILIN-DAIZC:/mnt/d/deployment$ kubectl describe statefulsets.apps idea-u-daizcName: idea-u-daizcNamespace: defaultCreationTimestamp: Thu, 02 Jun 2022 12:59:00 +0800Selector: app.kubernetes.io/name=idea-u-daizcLabels: app.kubernetes.io/name=idea-u-daizcAnnotations: &lt;none&gt;Replicas: 1 desired | 1 totalUpdate Strategy: RollingUpdate Partition: 0Pods Status: 1 Running / 0 Waiting / 0 Succeeded / 0 FailedPod Template: Labels: app.kubernetes.io/name=idea-u-daizc Containers: idea-u-daizc: Image: jetbrains/projector-idea-u:2021.3-projector-v1.8.1 Port: 8887/TCP Host Port: 0/TCP Environment: &lt;none&gt; Mounts: /home/projector-user from idea-u-daizc-volume (rw) Volumes: idea-u-daizc-volume: Type: PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace) ClaimName: idea-u-daizc-pvc ReadOnly: falseVolume Claims: &lt;none&gt;Events: &lt;none&gt;daizc@KAILIN-DAIZC:/mnt/d/deployment$ kubectl get pod idea-u-daizc-0 -oyamlapiVersion: v1kind: Podmetadata: annotations: cni.projectcalico.org/containerID: bbfe0e4675cece177bd362cd3955995b5b0bc3c4ef55939fbbf845b10fa29505 cni.projectcalico.org/podIP: 10.233.97.107/32 cni.projectcalico.org/podIPs: 10.233.97.107/32 creationTimestamp: &quot;2022-06-02T06:38:10Z&quot; generateName: idea-u-daizc- labels: app.kubernetes.io/name: idea-u-daizc controller-revision-hash: idea-u-daizc-5578c99bf7 statefulset.kubernetes.io/pod-name: idea-u-daizc-0 name: idea-u-daizc-0 namespace: default ownerReferences: - apiVersion: apps/v1 blockOwnerDeletion: true controller: true kind: StatefulSet name: idea-u-daizc uid: 1e13554f-a842-48dc-ab71-f01114c8cb3d resourceVersion: &quot;21106533&quot; selfLink: /api/v1/namespaces/default/pods/idea-u-daizc-0 uid: fa9a121d-278c-477b-bd6c-290401a49840spec: containers: - image: jetbrains/projector-idea-u:2021.3-projector-v1.8.1 imagePullPolicy: IfNotPresent name: idea-u-daizc ports: - containerPort: 8887 name: http protocol: TCP resources: &#123;&#125; terminationMessagePath: /dev/termination-log terminationMessagePolicy: File volumeMounts: - mountPath: /home/projector-user name: idea-u-daizc-volume - mountPath: /var/run/secrets/kubernetes.io/serviceaccount name: kube-api-access-dtdp9 readOnly: true dnsPolicy: ClusterFirst enableServiceLinks: true hostname: idea-u-daizc-0 nodeName: node9 preemptionPolicy: PreemptLowerPriority priority: 0 restartPolicy: Always schedulerName: default-scheduler securityContext: &#123;&#125; serviceAccount: default serviceAccountName: default subdomain: idea-u-daizc terminationGracePeriodSeconds: 60 tolerations: - effect: NoExecute key: node.kubernetes.io/not-ready operator: Exists tolerationSeconds: 300 - effect: NoExecute key: node.kubernetes.io/unreachable operator: Exists tolerationSeconds: 300 volumes: - name: idea-u-daizc-volume persistentVolumeClaim: claimName: idea-u-daizc-pvc - name: kube-api-access-dtdp9 projected: defaultMode: 420 sources: - serviceAccountToken: expirationSeconds: 3607 path: token - configMap: items: - key: ca.crt path: ca.crt name: kube-root-ca.crt - downwardAPI: items: - fieldRef: apiVersion: v1 fieldPath: metadata.namespace path: namespacestatus: conditions: - lastProbeTime: null lastTransitionTime: &quot;2022-06-02T06:38:11Z&quot; status: &quot;True&quot; type: Initialized - lastProbeTime: null lastTransitionTime: &quot;2022-06-02T07:04:13Z&quot; status: &quot;True&quot; type: Ready - lastProbeTime: null lastTransitionTime: &quot;2022-06-02T07:04:13Z&quot; status: &quot;True&quot; type: ContainersReady - lastProbeTime: null lastTransitionTime: &quot;2022-06-02T06:38:11Z&quot; status: &quot;True&quot; type: PodScheduled containerStatuses: - containerID: containerd://d98a22a7534a147c240fb44d93d784090979e524e69a6f4195a908ee8f2609a6 image: docker.io/jetbrains/projector-idea-u:2021.3-projector-v1.8.1 imageID: docker.io/jetbrains/projector-idea-u@sha256:fab2a81caa691ecc92faa20c453e8e911b0cd216793a8d97c3dc2dce579b8424 lastState: terminated: containerID: containerd://c88b860653dac1f3e4680fb62fdefcd5fe73e210780078374d985da55b2cfd39 exitCode: 0 finishedAt: &quot;2022-06-02T07:04:11Z&quot; reason: Completed startedAt: &quot;2022-06-02T06:38:12Z&quot; name: idea-u-daizc ready: true restartCount: 1 started: true state: running: startedAt: &quot;2022-06-02T07:04:12Z&quot; hostIP: 192.168.21.89 phase: Running podIP: 10.233.97.107 podIPs: - ip: 10.233.97.107 qosClass: BestEffort startTime: &quot;2022-06-02T06:38:11Z&quot; ä½¿ç”¨æµè§ˆå™¨ç›´æ¥è®¿é—®æˆ–è€…JetBrains Projectorè¿›è¡Œè¿æ¥ ä½¿ç”¨Chromeè¿æ¥æ—¶,ä¼šé‡åˆ°å„ç§æƒé™é—®é¢˜ ã€å»ºè®®ã€‘ä½¿ç”¨Projectorè¿æ¥ï¼Œåœ¨æ‹·è´å†…å®¹æ—¶ä¸ä¼šè§¦å‘æµè§ˆå™¨è­¦å‘Š"},{"title":"ç ”å‘ç¼–ç è§„èŒƒ","path":"ç ”å‘ç¼–ç è§„èŒƒ-2022å¹´4æœˆ13æ—¥/","text":"ç ”å‘ç¼–ç è§„èŒƒäº§å“-åº”ç”¨å…³ç³»æè¿° äº§å“æ˜¯è¿›è¡Œç¼ºé™·ç®¡ç†ã€éœ€æ±‚ç®¡ç†çš„æœ€å°å•ä½ æŒ‰ç…§ä¸šåŠ¡çº¿ä½œåŒºåˆ† åº”ç”¨æ˜¯è¿›è¡Œä»£ç å¼€å‘çš„æœ€å°å•ä½ ä¸€ä¸ªåº”ç”¨å¯¹åº”ä¸€ä¸ªä»£ç ä»“åº“ äº§å“ä¸åº”ç”¨ä¸ºä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå³ä¸€ä¸ªäº§å“æœ‰å¤šä¸ªåº”ç”¨ã€‚ äº§å“å…·æœ‰ä»¥ä¸‹åŸºæœ¬å±æ€§ displayName æ˜¾ç¤ºåç§°ï¼ˆä¸­æ–‡åç§°ï¼Œä»…åšæ˜¾ç¤ºä¹‹ç”¨ï¼‰ name è‹±æ–‡å…¨ç§° perfix å‰ç¼€ï¼ˆ5ä¸ªå­—ç¬¦ä»¥å†…ï¼‰ åº”ç”¨å…·æœ‰ä»¥ä¸‹åŸºæœ¬å±æ€§ displayName æ˜¾ç¤ºåç§°ï¼ˆä¸­æ–‡åç§°ï¼Œä»…åšæ˜¾ç¤ºä¹‹ç”¨ï¼‰ name è‹±æ–‡å…¨ç§°ï¼ˆé»˜è®¤ä¸ºMavenå·¥ä»¶Idï¼‰ simpleName ç®€çŸ­åç§°ï¼ˆ14ä¸ªå­—ç¬¦ä»¥å†…ï¼‰ å‘½åè§„åˆ™é¡¹ç›®å‘½åè§„åˆ™ Mavené¡¹ç›®åï¼šï¼ˆç”±è„šæ‰‹æ¶è‡ªåŠ¨ç”Ÿæˆï¼‰ é¡¹ç›®å(artifactId)ç»Ÿä¸€ä½¿ç”¨å°å†™ï¼Œä»¥ä¸­åˆ’çº¿-ä½œä¸ºåˆ†éš”ç¬¦ APIæ¨¡å—çš„artifactIdåº”è¯¥ä»¥-apiç»“å°¾ åº”ç”¨æ¨¡å—å¦‚æœä¸APIåŒ…åœ¨åŒä¸€ä¸ªä»“åº“ä¸­ï¼Œåˆ™artifactIdåº”ä»¥â€™-bizâ€™ç»“å°¾ã€‚ åº”ç”¨æ¨¡å—ä½äºå•ç‹¬çš„ä»£ç ä»“åº“ä¸­ï¼Œåˆ™artifactIdæ— éœ€æ·»åŠ åç¼€ã€‚ Javaå•ä½“é¡¹ç›®åè§„åˆ™ï¼š &lt;è¯­è¨€&gt;-&lt;ä¸šåŠ¡åç§°&gt;-&lt;é¡¹ç›®ç±»å‹&gt; è¯­è¨€ java php node ä¸šåŠ¡åç§° auth product resource-center é¡¹ç›®ç±»å‹ cloud boot 123456789å•ä½“é¡¹ç›®java-xxxxx-cloudjava-xxxxx-cloud-apièšåˆé¡¹ç›®ng-xxxxx |- ng-xxxxx-api |- ng-xxxxx-biz Maven GroupIdå¿…é¡»æ»¡è¶³ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼ ^com.kailin.* ç±»å‘½åè§„åˆ™ åŠŸèƒ½ åç¼€ ä¾‹å­ å¤‡æ³¨ è¡¨å - user_detail è¡¨åä»…åšå»ºè®®ï¼Œæ ¹æ®ä¸šåŠ¡å¯è‡ªè¡Œæ·»åŠ å‰ç¼€åç¼€ å¤åˆå®ä½“ - UserDetail ç®€å•CRUDåœºæ™¯ä¸‹ï¼Œç”¨äºä»£æ›¿é¢†åŸŸå¯¹è±¡ã€æ•°æ®å¯¹è±¡çš„åŠŸèƒ½æ— æ³•æ›¿ä»£DTOå’ŒVO é¢†åŸŸå¯¹è±¡ Domian UserDetailDomain èƒ–å®ä½“ï¼Œæ‹¥æœ‰ä¸šåŠ¡ä¸Šçš„æ–¹æ³•ï¼Œæ— æ³•ä»æ•°æ®åº“ç›´æ¥å¾—åˆ°ï¼Œç®€å•CRUDæ— éœ€é¢†åŸŸå¯¹è±¡&#x2F;å¤åˆå®ä½“çš„ï¼Œå¯ä¸DOæ··ç”¨ æ•°æ®å¯¹è±¡ DO UserDetailDO ä»æ•°æ®åº“ä¸­ç›´æ¥æŸ¥è¯¢å¾—åˆ°çš„å¯¹è±¡ï¼Œä¸€èˆ¬ä¼šç±»ä¸Šå­˜åœ¨ORMç›¸å…³çš„æ³¨è§£ç®€å•CRUDåœºæ™¯ä¸‹å¯ç”¨å¤åˆå®ä½“&#x2F;é¢†åŸŸå¯¹è±¡ä»£æ›¿ æ•°æ®ä¼ è¾“å¯¹è±¡ DTO UserDetailDTO ä¸€èˆ¬æ˜¯æ”¾åœ¨ApiåŒ…ä¸­æä¾›å‡ºå» ç”¨ä¸å‰ç«¯å±•ç¤ºçš„POJOç±» VO UserDetailVO - æ•°æ®åº“æ˜ å°„æ¥å£ Mapper UserMapper Mybatisç”¨ æ•°æ®åº“æ˜ å°„æ¥å£ Repository UserRepository JPAç”¨ æ•°æ®Serviceæ¥å£ IService UserDetailIService ä½¿ç”¨MybatisPlusæ—¶ï¼Œç”¨äºåŒºåˆ†ä¸šåŠ¡Serviceå’Œæ•°æ®Service æ•°æ®Serviceå®ç° IServiceImpl UserDetailIServiceImpl - Serviceæ¥å£ Service UserDetailService çœŸå®æä¾›ä¸šåŠ¡çš„Serviceæ¥å£ Serviceå®ç° ServiceImpl UserDetailServiceImpl - webæ¥å£ Controller UserDetailController - webæ¥å£å…¥å‚ Param UserDetailParam æ‰§è¡Œç‰¹å®šä¸šåŠ¡æ—¶æ‰€éœ€çš„å…¥å‚ webæ¥å£æŸ¥è¯¢å¤åˆå‚æ•° Query UserDetailQuery ã€ä»…å»ºè®®ã€‘æ‰§è¡Œç‰¹å®šæŸ¥è¯¢æ—¶æ‰€ç”¨çš„æŸ¥è¯¢å‚æ•° å·¥å…·ç±» Utils DateUtils ä¸€ä¸ªå·¥å…·ç±»æ˜¯ä¸€ä¸ªå·¥å…·é›†ï¼Œå› æ­¤ç”¨å¤æ•° è‡ªå·±ç¼–å†™å·¥å…·ç±»ä¹‹å‰å…ˆçœ‹çœ‹é¡¹ç›®å†…å·²å¼•å…¥å·¥å…·èƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ä½¿ç”¨ä¼˜å…ˆé¡ºåºä¸º commons.lang3 &gt; hutool &gt; spring &gt; è‡ªå·±ç¼–å†™ å¸¸é‡ç±» Constants UserTypeConstants ä¸€ä¸ªå¸¸é‡ç±»ä¸­å«æœ‰å¤šä¸ªå¸¸é‡ï¼Œå› æ­¤ç”¨å¤æ•° æšä¸¾ç±» Enum UserTypeEnum æšä¸¾ä¸æ˜¯ä¸€ä¸ªé›†åˆï¼Œè€Œæ˜¯ä¸€ä¸ªç±»å‹å®šä¹‰ï¼Œ æ•°æ®è®¿é—®å±‚å‘½åè§„åˆ™æ¥å£æ–¹æ³•è§„èŒƒï¼ˆå‚ç…§JPAè§„èŒƒï¼‰ ä½¿ç”¨getã€findã€listã€streamã€updateã€saveã€deleteä½œä¸ºå‰ç¼€ ä½¿ç”¨Byã€OrderByã€GroupByä½œä¸ºè°“è¯ æ–¹æ³•å‘½åè§„åˆ™ï¼š &lt;å‰ç¼€&gt;&lt;å®ä½“åorå­—æ®µå&gt;&lt;è°“è¯1&gt;&lt;å­—æ®µå1&gt;&lt;è°“è¯2&gt;&lt;å­—æ®µå2&gt; å½“æŸ¥è¯¢ç»“æœä¸ºå®ä½“æ—¶ï¼Œå®ä½“åå¯çœç•¥ï¼š å¦‚getUserById()çœç•¥å®ä½“åä¸ºgetById() å½“æŸ¥è¯¢ç»“æœä¸ºå®ä½“çš„æ´¾ç”Ÿå¯¹è±¡æ—¶æ—¶ï¼Œå®ä½“åå¯çœç•¥ä¸ºåç¼€ï¼š å¦‚getUserVOById()çœç•¥å®ä½“åä¸ºgetVOById() å½“æŸ¥è¯¢ç»“æœä¸ºå­—æ®µåæˆ–è€…ç‰¹å®šå¯¹è±¡æ—¶ï¼Œä¸å¯çœç•¥ å¦‚getPasswordById()æ— æ³•çœç•¥ å¦‚getLoginSlatAndPasswordById()æ— æ³•çœç•¥ å‰ç¼€è§„èŒƒ è·å–å•ä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ get åšå‰ç¼€æ—¶ï¼Œè¿”å›Tæˆ–è€…nullã€‚ å¦‚ï¼š UserDetailDO getUserDetailById(); ã€æ¨èã€‘è·å–å•ä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ find åšå‰ç¼€æ—¶ï¼Œè¿”å›Optional&lt;T&gt;ã€‚ å¦‚ï¼š Optional&lt;UserDetailDO&gt; findUserDetailByName()ã€‚ å¦‚ï¼š Optional&lt;UserDetailDO&gt; findUserDetailByName()ã€‚ è·å–å¤šä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ list åšå‰ç¼€æ—¶ï¼Œå®ä½“é‡‡ç”¨å¤æ•°ç»“å°¾ï¼Œè¿”å›&lt;? extend Collection&gt;&lt;T&gt;å³Collectionçš„å­ç±» å¦‚ï¼š List&lt;UserDetailDO&gt; list()(çœç•¥å¯¹è±¡å)ã€‚ å¦‚ï¼š List&lt;UserDetailDO&gt; listUserDetails()ã€‚ å¦‚ï¼š Set&lt;UserDetailDO&gt; listUserDetailsByCreateTime(Date createTime)ã€‚ å¦‚ï¼š Queue&lt;UserDetailDO&gt; listUserDetailsByAge(Long age)ã€‚ ã€æ¨èã€‘è·å–å¤šä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ stream åšå‰ç¼€æ—¶ï¼Œå®ä½“é‡‡ç”¨å¤æ•°ç»“å°¾ï¼Œè¿”å›Stream&lt;T&gt; å¦‚ï¼š Stream&lt;UserDetail&gt; stream()(çœç•¥å¯¹è±¡å)ã€‚ å¦‚ï¼š Stream&lt;UserDetail&gt; streamUserDetails()ã€‚ åˆ†é¡µæŸ¥è¯¢å¯¹è±¡çš„æ–¹æ³•ç”¨ page åšå‰ç¼€ï¼Œå¤æ•°ç»“å°¾ã€‚ å¦‚ï¼š Page&lt;UserDetail&gt; pageUserDetails(PageParam param)ã€‚ ç»Ÿè®¡æ€»æ•°çš„æ–¹æ³•ç”¨ count åšå‰ç¼€ã€‚ å¦‚ï¼š Long countByAge(Long age)ã€‚ æ’å…¥çš„æ–¹æ³•ç”¨ save åšå‰ç¼€ã€‚ è¿”å›ä¿å­˜çš„å®ä½“. å¦‚ï¼š UserDetailDO save(UserDetailDO saveDO)ã€‚ åˆ é™¤çš„æ–¹æ³•ç”¨ delete åšå‰ç¼€ã€‚è¿”å›å—å½±å“è¡Œæ•°ã€‚ å¦‚ï¼š Long deleteById(String id)ã€‚ ä¿®æ”¹çš„æ–¹æ³•ç”¨ update åšå‰ç¼€ã€‚æ‰¹é‡ä¿®æ”¹æ—¶è¿”å›å—å½±å“è¡Œæ•°ï¼Œå•ä¸ªå€¼ä¿®æ”¹æ—¶è¿”å›ä¿®æ”¹åå®ä½“ã€‚ å¦‚ï¼š UserDetailDO|Long updateById(UserDetailDO updateDO)ã€‚ å¦‚ï¼š Long updateByCreateTime(UserDetailDO updateDO,Date createTime)ã€‚ æ‰§è¡Œç‰¹å®šæ“ä½œçš„æ–¹æ³•ä½¿ç”¨å…¶æ“ä½œååšå‰ç¼€ã€‚å¦‚ï¼š sendSms å‘é€çŸ­ä¿¡ï¼ŒnoticeUser é€šçŸ¥ç”¨æˆ·ï¼ŒuploadPic ä¸Šä¼ å›¾ç‰‡ï¼ŒdownloadFile ä¸‹è½½æ–‡ä»¶ æ•°æ®åº“å‘½åè§„åˆ™ æ•°æ®åº“åº“åå‘½åè§„åˆ™ï¼š&lt;äº§å“å‰ç¼€&gt;_&lt;åº”ç”¨ç®€ç§°&gt;å‘½å å¦‚ng_kboss_authï¼Œå…¶ä¸­ng_kbossä¸ºäº§å“å‰ç¼€ï¼Œauthä¸ºåº”ç”¨ç®€ç§°ã€‚ å¦‚hneduexamåº”ä¿®æ”¹ä¸ºhn_edu_examï¼Œå…¶ä¸­hn_eduä¸ºäº§å“å‰ç¼€ï¼Œexamä¸ºåº”ç”¨ç®€ç§°ã€‚ è¡¨åå’Œå­—æ®µåå‡é‡‡ç”¨å°å†™ï¼Œä»¥ä¸‹åˆ’çº¿åˆ†éš”ï¼Œå¦‚collection_accountã€edu_report_operate_loss_record å¦‚æœæ‰‹åŠ¨å»ºç´¢å¼•ï¼Œåç§°éœ€è¦ä½¿ç”¨idx_&lt;è¡¨å/è¡¨åé¦–å­—æ¯ç®€å†™&gt;_&lt;å­—æ®µå&gt;çš„æ¨¡å¼ æ•°æ®åº“ä¸­é‡åˆ°æ—¶é—´å­—æ®µï¼Œéœ€è¦ä½¿ç”¨datetime(3)ç±»å‹,å¦åˆ™ä¼šæŸ¥è¯¢æ—¶ä¼šå­˜åœ¨èˆå…¥é—®é¢˜ è¯·æ³¨æ„ï¼šä¸šåŠ¡çŠ¶æ€å­—æ®µå’Œè½¯åˆ é™¤å­—æ®µéœ€è¦åˆ†ç¦»ï¼Œå³is_deleteå­—æ®µä¸èƒ½è¿›è¡Œä¸šåŠ¡æ§åˆ¶ å…¬å…±å‘½åè§„èŒƒå¦‚ä¸‹è¡¨ å­—æ®µå ç±»å‹ ç©º&#x2F;é»˜è®¤å€¼ æè¿° å¤‡æ³¨ is_delete tinyint(4) DEFAULT â€˜0â€™ è½¯åˆ é™¤å­—æ®µ(0 æœªåˆ é™¤ 1 å·²åˆ é™¤) - create_time datetime(3) DEFAULT CURRENT_TIMESTAMP åˆ›å»ºæ—¶é—´ - update_time datetime(3) DEFAULT CURRENT_TIMESTAMPON UPDATE CURRENT_TIMESTAMP æ›´æ–°æ—¶é—´ - create_user_id varchar(32) DEFAULT NULL åˆ›å»ºè€…id éå¿…éœ€ï¼Œè§†ä¸šåŠ¡è€Œå®š create_user_name varchar(255) DEFAULT NULL åˆ›å»ºè€…åç§° éå¿…éœ€ï¼Œè§†ä¸šåŠ¡è€Œå®š update_user_id varchar(32) DEFAULT NULL ä¿®æ”¹è€…id éå¿…éœ€ï¼Œè§†ä¸šåŠ¡è€Œå®š update_user_name varchar(255) DEFAULT NULL ä¿®æ”¹è€…åç§° éå¿…éœ€ï¼Œè§†ä¸šåŠ¡è€Œå®š ç¼–ç è§„åˆ™ å°½é‡é¿å…ä½¿ç”¨java.sql.Dateï¼Œåº”ä½¿ç”¨java.util.Date å°½é‡é¿å…æ­¢å°†SimpleDateFormatç­‰çº¿ç¨‹ä¸å®‰å…¨çš„ç±»å®šä¹‰ä¸ºé™æ€å˜é‡ã€‚å¦‚æœå®šä¹‰ä¸º staticï¼Œå¿…é¡»åŠ é”ã€‚ ä»£ç å¼€å‘ä»¥åŠåˆ†æ”¯è§„èŒƒåˆ†æ”¯ç±»å‹ ä¸»åˆ†æ”¯ï¼Œå”¯ä¸€ä¸»åˆ†æ”¯ä¸ºmaster åŠŸèƒ½åˆ†æ”¯ï¼Œå®é™…è¿›è¡Œå¼€å‘æ—¶ï¼Œå¼€å‘äººå‘˜å®é™…ç¼–å†™çš„åˆ†æ”¯ï¼Œä»¥feature/&lt;åŠŸèƒ½åç§°&gt;å‘½å çƒ­ä¿®å¤åˆ†æ”¯ï¼Œä»æŸä¸ªå‘å¸ƒåˆ†æ”¯è¿å‡ºï¼Œå®Œæˆä¿®å¤ååˆå¹¶å›å‘å¸ƒåˆ†æ”¯å’Œä¸»åˆ†æ”¯ï¼Œä»¥hotfix/&lt;releaseåˆ†æ”¯ç‰ˆæœ¬å·&gt;/&lt;éœ€è¦ä¿®å¤çš„åŠŸèƒ½&gt;å‘½å ç‰ˆæœ¬å‘½åè§„åˆ™ å‘½åè§„åˆ™ Mavenå·¥ä»¶ Artifact Version &lt;æ¡†æ¶ç‰ˆæœ¬&gt;/&lt;åŠŸèƒ½ç‰ˆæœ¬&gt;/&lt;ä¿®è®¢ç‰ˆæœ¬&gt; æ¡†æ¶ç‰ˆæœ¬: æ¡†æ¶å˜æ›´æ—¶+1åŠŸèƒ½ç‰ˆæœ¬: åŠŸèƒ½è¿­ä»£æ—¶+1 (ç´¯åŠ ï¼Œä¸æ¸…é›¶)ä¿®è®¢ç‰ˆæœ¬: ä¿®å¤BUGæ—¶+1 (ç´¯åŠ ï¼Œä¸æ¸…é›¶) åŠŸèƒ½åˆ†æ”¯ Branch Name feature/&lt;Feature Name&gt;-&lt;Date yyyyMMdd&gt; æµ‹è¯•åˆ†æ”¯ Branch Name test/&lt;Date yyyyMMdd&gt;/&lt;Feature A&gt;/&lt;Feature B&gt; çƒ­å‘å¸ƒåˆ†æ”¯ Branch Name hotfix/&lt;Feature A&gt;/ å‘å¸ƒæ ‡ç­¾ï¼ˆå•ä½“é¡¹ç›®ï¼‰ Release Tag &lt;Artifact Version&gt; å‘å¸ƒæ ‡ç­¾ï¼ˆèšåˆé¡¹ç›®ï¼‰ Release Tag &lt;Artifact Name&gt;/&lt;Artifact Version&gt; åˆ†æ”¯æµç¨‹ä»‹ç»123456789101112flowchart TB subgraph multi[å•åŠŸèƒ½å¼€å‘åˆ†æ”¯æµç¨‹] direction LR s_dev(å¼€å‘) s_feature_test(æµ‹è¯•) s_dev -.-&gt; s_feature_test s_dev --&gt; s_pre s_pre(é¢„å‘\\nmasteråˆ†æ”¯) s_pre_test(é¢„å‘å¸ƒæµ‹è¯•) s_prod(å‘å¸ƒ\\näº§å“éªŒæ”¶\\næ‰“ReleaseTag) s_pre --&gt; s_pre_test --&gt; s_prod end 12345678910111213flowchart TB subgraph multi[å¤šåŠŸèƒ½å¼€å‘åˆ†æ”¯æµç¨‹] direction LR m_fa(å¼€å‘AåŠŸèƒ½\\nfeatureåˆ†æ”¯) m_fb(å¼€å‘BåŠŸèƒ½\\nfeatureåˆ†æ”¯) m_fa -.-&gt; test m_fb -.-&gt; test(åŠŸèƒ½æµ‹è¯•\\nteståˆ†æ”¯) m_fa --&gt; m_pre_a(é¢„å‘AåŠŸèƒ½\\nmasteråˆ†æ”¯) --&gt; m_pord_a(å‘å¸ƒ\\næ‰“ReleaseTag) m_fb --&gt; m_pre_b(é¢„å‘BåŠŸèƒ½\\nmasteråˆ†æ”¯) --&gt; m_pord_b(å‘å¸ƒ\\næ‰“ReleaseTag) end åˆ†æ”¯ä»‹ç»åˆ†æ”¯ç±»å‹ï¼š ä¸»åˆ†æ”¯ï¼Œå”¯ä¸€ä¸»åˆ†æ”¯ä¸ºmaster åŠŸèƒ½åˆ†æ”¯ï¼Œå®é™…è¿›è¡Œå¼€å‘æ—¶ï¼Œå¼€å‘äººå‘˜å®é™…ç¼–å†™çš„åˆ†æ”¯ï¼Œä»¥feature/&lt;åŠŸèƒ½åç§°&gt;å‘½å *æµ‹è¯•åˆ†æ”¯ï¼Œæ‰€æœ‰å«æœ‰test/å‰ç¼€çš„åˆ†æ”¯éƒ½ä¸ºæµ‹è¯•åˆ†æ”¯ï¼Œä»¥test/&lt;å¯¹åº”åŠŸèƒ½åˆ†æ”¯çš„åç§°&gt;å‘½å ä¸»åˆ†æ”¯ masterå¯¹åº”ç¯å¢ƒ: é¢„å‘å¸ƒç¯å¢ƒ-pre *ç”Ÿäº§ç¯å¢ƒ-prod ç”Ÿå‘½å‘¨æœŸ: æ°¸ä¹…æœ‰æ•ˆ åˆ†æ”¯ç‰¹å¾: è¯¥åˆ†æ”¯å—åˆ°ä¿æŠ¤ï¼Œæ— æ³•ç›´æ¥é€šè¿‡pushæäº¤ä»£ç ï¼Œä»…ä»…å¯é€šè¿‡åˆå¹¶PullRequestæ›´æ–° è¯¥åˆ†æ”¯çš„ä»£ç ä¸€å®šæ˜¯ å¯ç”¨çš„ ä»£ç ï¼Œéšæ—¶éšåœ°éƒ½å¯ä»¥é€šè¿‡æµæ°´çº¿å®Œæˆæ„å»º çº¿ä¸Šçš„åº”ç”¨ä¸€å®šæ˜¯é€šè¿‡ä¸»åˆ†æ”¯æ‰“åŒ…å¾—åˆ°çš„ ä¸»åˆ†æ”¯ä¸Šçš„ä»£ç ä¸ä¸€å®šä¸çº¿ä¸Šä»£ç ä¸€è‡´ å¼€å‘äººå‘˜æ— éœ€åœ¨æœ¬åœ°å»ºç«‹åŒååˆ†æ”¯ä»¥è·Ÿè¸ªmaster ï¼ˆå¯é€‰ï¼‰å…¬å…±æµ‹è¯•åˆ†æ”¯ testå»ºè®®å‘½åè§„èŒƒ: test\\&lt;Date yyyyMMdd&gt;\\&lt;åŠŸèƒ½åç§°A&gt;\\&lt;åŠŸèƒ½åç§°B&gt; å¯¹åº”ç¯å¢ƒ: æµ‹è¯•ç¯å¢ƒ-test (åŠŸèƒ½æµ‹è¯•-å¤šåˆ†æ”¯) ç”Ÿå‘½å‘¨æœŸ: å½“å¤šä¸ªåŠŸèƒ½éœ€è¦å¹¶è¡Œè¿›è¡Œæµ‹è¯•æ—¶ï¼Œä»ä»»ä¸€featureåˆ†æ”¯ä¸­è¿å‡ºï¼Œå¹¶mergeæ‰€æœ‰éœ€è¦æµ‹è¯•çš„åˆ†æ”¯ å½“åŠŸèƒ½å‡æµ‹è¯•å®Œæˆæˆ–ä»…å‰©ä¸€ä¸ªåŠŸèƒ½åï¼Œå¯ä»¥åˆ é™¤æ­¤åˆ†æ”¯ åˆ†æ”¯ç‰¹å¾: è¯¥åˆ†æ”¯ç”¨äºæ”¯æŒåŒä¸€é¡¹ç›®åŒæ—¶å¼€å‘ã€æµ‹è¯•å¤šä¸ªæ–°åŠŸèƒ½ åŒä¸€ä¸ªé¡¹ç›®ä¸²è¡Œè¿›è¡Œå¼€å‘ä»»åŠ¡æ—¶ï¼Œæ­¤åˆ†æ”¯æ— éœ€å­˜åœ¨ï¼Œç›´æ¥ç”±featureåˆ†æ”¯ä»£æ›¿æœ¬åˆ†æ”¯åŠŸèƒ½ ç”±äºpreæµ‹è¯•å¹¶ä¸åœ¨æœ¬åˆ†æ”¯ä¸Šè¿è¡Œï¼Œæ‰€ä»¥preç¯å¢ƒåšå‡ºçš„æ”¹åŠ¨ä¸ä¼šåº”ç”¨åˆ°æœ¬åˆ†æ”¯ä¸Šï¼Œæœ¬åˆ†æ”¯çš„ä»£ç ä¸ä¸€å®šå‡†ç¡®ï¼Œéå¿…è¦ä¸ä½¿ç”¨æœ¬åˆ†æ”¯åšæµ‹è¯• è¯¥åˆ†æ”¯ä»…è¿›è¡ŒåŠŸèƒ½æµ‹è¯• è¯¥åˆ†æ”¯ç¦æ­¢åå‘åˆå¹¶åˆ°å…¶ä»–ä»»ä½•åˆ†æ”¯ åŠŸèƒ½åˆ†æ”¯ feature/&lt;åŠŸèƒ½åç§°&gt;-&lt;Date yyyyMMdd&gt;å¯¹åº”ç¯å¢ƒ: å¼€å‘ç¯å¢ƒ-dev æµ‹è¯•ç¯å¢ƒ-test (åŠŸèƒ½æµ‹è¯•-å•åˆ†æ”¯) ç”Ÿå‘½å‘¨æœŸ: å½“å¼€å‘äººå‘˜æ¥åˆ°å¼€å‘ä»»åŠ¡å¹¶å®Œæˆä»»åŠ¡æ‹†è§£åï¼Œæ ¹æ®å…·ä½“çš„ä»»åŠ¡åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ å½“è¯¥åŠŸèƒ½å®Œæˆå‘å¸ƒï¼Œé¡ºåˆ©ä¸Šçº¿å¹¶åˆ›å»ºreleaseåˆ†æ”¯åï¼Œè¯¥åŠŸèƒ½åˆ†æ”¯åº”è¯¥è¢«åˆ é™¤ åˆ†æ”¯ç‰¹å¾: è¯¥åˆ†æ”¯å¿…é¡»ä¹Ÿåªèƒ½ä»masteråˆ†æ”¯ç­¾å‡º è¯¥åˆ†æ”¯çš„ä»£ç ä¸€å®šæ˜¯ æœ€æ–°çš„ ä»£ç ï¼Œç”±å¼€å‘äººå‘˜è‡ªè¡Œå¼€å‘å’Œç»´æŠ¤ ä½¿ç”¨è¯¥åˆ†æ”¯çš„å¼€å‘äººå‘˜å¿…é¡»åœ¨ä¸Šç­å‰å’Œä¸‹ç­å‰ä»masteræ‹‰å–å¹¶åˆå¹¶ä»£ç  æ‹‰å–masterå‘ç”Ÿä»£ç å†²çªæ—¶ï¼Œå¦‚éç‰¹æ„æ›´æ”¹ï¼Œåº”ä»¥masteråˆ†æ”¯ä»£ç ä¸ºå‡† å½“æµ‹è¯•äººå‘˜ä½¿ç”¨æ­¤åˆ†æ”¯è¿›è¡ŒåŠŸèƒ½æµ‹è¯• çƒ­å‘å¸ƒåˆ†æ”¯ hotfix/&lt;releaseåˆ†æ”¯ç‰ˆæœ¬å·&gt;/&lt;éœ€è¦ä¿®å¤çš„åŠŸèƒ½&gt;å¯¹åº”ç¯å¢ƒ: ç”Ÿäº§ç¯å¢ƒ-prod ç”Ÿå‘½å‘¨æœŸ: å½“ç”Ÿäº§ç¯å¢ƒå‡ºç°bugæ—¶ï¼Œç”±å¼€å‘äººå‘˜ä»å¯¹åº”çš„Release Tagä¸­ç­¾å‡º å½“è¯¥bugä¿®å¤å®Œæˆå: ç§»åŠ¨ç­¾å‡ºçš„Release Tagåˆ°å½“å‰åˆ†æ”¯ å°†è¯¥åˆ†æ”¯å¹¶å…¥masteråˆ†æ”¯ä¸­ åˆ é™¤çƒ­å‘å¸ƒåˆ†æ”¯ åˆ†æ”¯ç‰¹å¾: è¯¥åˆ†æ”¯ç”±å¼€å‘äººå‘˜æ–°å»ºï¼Œåªèƒ½ä»å¯¹åº”çš„Release Tagä¸­ç­¾å‡º è¯¥åˆ†æ”¯çš„ä»£ç ä¸€å®šæ˜¯ å‡†ç¡®çš„ å¯ç”¨äºç”Ÿäº§çš„ ä»£ç ï¼Œå¯ä»¥éšæ—¶è¿›è¡Œæ‰“åŒ…ä¸Šçº¿ è¯¥åˆ†æ”¯åº”å§‹ç»ˆè½åæˆ–ç­‰åŒäºmasteråˆ†æ”¯ åˆ†æ”¯ç®¡ç† GitGraphå›¾ä¾‹ æ–¹å—å½¢çŠ¶èŠ‚ç‚¹ï¼š æµ‹è¯•ææµ‹èŠ‚ç‚¹ ä¸­ç©ºåœ†å½¢èŠ‚ç‚¹ï¼š ç”±mergeäº§ç”Ÿçš„commitèŠ‚ç‚¹ è¢«æ ‡ç­¾æ ‡è®°çš„èŠ‚ç‚¹ï¼š å®é™…ç”Ÿäº§ä¸Šçº¿çš„èŠ‚ç‚¹ æœ€ç®€æµç¨‹ åŒæ—¶ä»…æœ‰ä¸€ä¸ªåŠŸèƒ½è¿›è¡Œå¼€å‘æ—¶çš„æœ€ç®€æµç¨‹ï¼Œæ— éœ€teståˆ†æ”¯ï¼Œä¸”æ— preç¯å¢ƒã€‚ %%{init: { 'logLevel': 'debug', 'theme': 'base' ,'startOnLoad': true } }%% gitGraph commit branch feature-a commit commit type:HIGHLIGHT commit type:HIGHLIGHT checkout main merge feature-a commit tag:\"release-A\" Hotfixæµç¨‹ ç”Ÿäº§ä¸Šçº¿åå‡ºç°é‡å¤§Bugéœ€è¦è¿›è¡Œçº¿ä¸Šä¿®å¤çš„æµç¨‹ã€‚ 1234567891011%%&#123;init: &#123; &#x27;logLevel&#x27;: &#x27;debug&#x27;, &#x27;theme&#x27;: &#x27;base&#x27; ,&#x27;startOnLoad&#x27;: true &#125; &#125;%%gitGraphcommit tag:&quot;release-A&quot;branch hotfixcommitcommit tag:&quot;release-A-2&quot;checkout maincommit tag:&quot;release-B&quot;commit tag:&quot;release-C&quot;commitmerge hotfix å¤šåŠŸèƒ½å¹¶è¡Œå¼€å‘æµç¨‹ åŒæ—¶æœ‰å¤šä¸ªåŠŸèƒ½è¿›è¡Œå¹¶è¡Œå¼€å‘æ—¶çš„çš„å¤æ‚ç®¡ç†æµç¨‹ï¼Œéœ€è¦å€ŸåŠ©ä¸€ä¸ªä¸å¯ä¿¡çš„ä¸´æ—¶teståˆ†æ”¯åŒæ—¶è¿›è¡Œå¤šä¸ªåŠŸèƒ½çš„æµ‹è¯•ã€‚ 123456789101112131415161718192021222324252627282930%%&#123;init: &#123; &#x27;logLevel&#x27;: &#x27;debug&#x27;, &#x27;theme&#x27;: &#x27;base&#x27; ,&#x27;startOnLoad&#x27;: true &#125; &#125;%%gitGraphcommitbranch feature-bbranch feature-acommitcommitcheckout feature-bcommitcommitbranch testmerge feature-acommit type:HIGHLIGHTcheckout feature-acommitcommitcheckout testmerge feature-acheckout mainmerge feature-acommit id:&quot;pre-A-a123&quot; type:HIGHLIGHTcheckout feature-acommitcheckout mainmerge feature-acommit id:&quot;pre-A-a124&quot; type:HIGHLIGHTcommit tag:&quot;release-A&quot;merge feature-bcommit id:&quot;pre-B-a125&quot; type:HIGHLIGHTcommit tag:&quot;release-B&quot;"},{"title":"ReleaseNote-202203025","path":"ReleaseNote-202203025/","text":"å°†æµæ°´çº¿ç”±Travis CIåˆ‡æ¢ä¸ºGithub Action åŸŸåç”±note.dreamccc.clubåˆ‡æ¢è‡³note.bequick.run å°†ä¸»é¢˜ Nexmoe çš„éƒ¨ç½²æ–¹å¼ç”±Git-Submodelè¿ç§»è‡³NPM æ–‡ç« å’Œæ ‡é¢˜å›¾ç‰‡ä½¿ç”¨OSSå›æºå åŠ CDNï¼Œæé«˜å¤§é™†åœ°åŒºå¯ç”¨æ€§ åŸºäº hexo-action å®šåˆ¶äº†æ‰“åŒ…é•œåƒç”¨ä»¥è§£å†³å¢ƒå¤–CDNå¯ç”¨æ€§ä¸é«˜çš„é—®é¢˜ æ·»åŠ SiteMapå¹¶æäº¤è‡³ Google Search Console"},{"title":"Angularé¡¹ç›®æ­å»ºï¼ˆä¸‰ï¼‰-é›†æˆclarity","path":"Angularé¡¹ç›®æ­å»ºï¼ˆä¸‰ï¼‰-é›†æˆclarity/","text":"Angularç”Ÿæ€ä¸‹æœ‰å¾ˆå¤šUIæ¡†æ¶å¯ä»¥ä½¿ç”¨ï¼Œå…¶ä¸­ä¸å°‘ä¹Ÿæ˜¯é«˜starçš„ï¼Œä½†æˆ‘æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº†Clarityã€‚ ä¸ºä»€ä¹ˆé€‰Clarityï¼Ÿ Clarityç”±vmwareç»´æŠ¤ï¼Œä»£ç è´¨é‡ç›¸å¯¹æœ‰ä¿éšœã€‚ Harborä¹Ÿæ˜¯åŸºäºClarityå¼€å‘çš„ï¼Œä»£ç å®Œå…¨å¼€æºï¼Œå¯å€Ÿé‰´æ€§å¾ˆé«˜ã€‚ Clarityé™¤äº†ç°æˆçš„UIç»„ä»¶å¯ä»¥æ¬è¿å¤–ï¼Œè¿˜å…·æœ‰ä¸€æ•´å¥—è®¾è®¡åŸåˆ™å’Œå¯¹è®¾è®¡é€»è¾‘çš„è®²è§£ è¿™ç¬¬ä¸‰ç‚¹ï¼Œæ˜¯å…¶ä»–å¼€æºUIæ¡†æ¶æ‰€æ¬ ç¼ºçš„ï¼Œåœ¨é¡¹ç›®åˆæœŸï¼Œéµå¾ªä¸€ä¸ªè‰¯å¥½çš„è®¾è®¡åŸåˆ™æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼Œè€Œè¿™æ­£æ˜¯å¤§å¤šæ•°åç«¯å¼€å‘æ‰€ä¸å…·å¤‡çš„æŠ€èƒ½ï¼ŒClarityå¾ˆå¥½çš„å¼¥è¡¥äº†è¿™ä¸€ç‚¹ã€‚ &#x2F;&#x2F;TODO å¾…ç»­å†™"},{"title":"MIUIæ¸…ç†è‡ªå¸¦åº”ç”¨","path":"MIUIæ¸…ç†è‡ªå¸¦åº”ç”¨/","text":"ç³»ç»Ÿç‰ˆæœ¬ Redmi K30S Ultra MIUI 12.5.5.RJDCNXM ç¨³å®šç‰ˆ æ³¨æ„çš„å‘ ç¦ç”¨&#x2F;åˆ é™¤å®Œåéœ€è¦é‡å¯æ‰‹æœºçœ‹çœ‹æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœå‡ºç°å¡miï¼Œæ¡Œé¢åŠ è½½ä¸å‡ºæ¥ç­‰æƒ…å†µï¼Œéœ€è¦ç«‹å³è¿›å…¥recoveryä¸­è¿æ¥adbä¿®å¤ã€‚ å°ç±³æµè§ˆå™¨åªç¦ç”¨ä¼šå‡ºé—®é¢˜ï¼Œæ¯”å¦‚é€šè¿‡QQç­‰æ‰“å¼€é“¾æ¥è·³è½¬æ—¶ä¼šæ— å“åº”ï¼Œå»ºè®®ç›´æ¥å¸è½½ã€‚ é€šè¿‡adbåˆ é™¤çš„åº”ç”¨å†è¿›è¡Œå¤§ç‰ˆæœ¬æ›´æ–°æ—¶ä¼šè¢«é‡æ–°å®‰è£…ï¼Œå±Šæ—¶éœ€è¦å†æ¬¡æ“ä½œã€‚ åˆ é™¤&#x2F;ç¦ç”¨MIUIç³»ç»Ÿè‡ªå¸¦åº”ç”¨ æ‰‹æœºè¿æ¥ç”µè„‘ï¼ŒåŒæ—¶å¼€å‘è€…æ¨¡å¼ä¸­æ‰“å¼€adbè°ƒè¯•é€‰é¡¹ ç”µè„‘ä¾§å®‰è£…ADB 1sudo scoop install adb -g ç”µè„‘ç¡®è®¤æ‰‹æœºadbè¿æ¥ 1adb devices -l æ­¤æ—¶æ‰‹æœºä¼šå¼¹å‡ºadbè¿æ¥ç¡®è®¤å¼¹çª— (å¯é€‰)æ‰“å°æ‰‹æœºç¨‹åºåŒ…åˆ—è¡¨ 1adb shell pm list packages &gt; miuipackage.txt åˆ é™¤&#x2F;ç¦ç”¨è‡ªå¸¦åº”ç”¨ 1234567891011121314# è¿›å…¥äº¤äº’å¼adb-shelladb shell# ç¦ç”¨ç³»ç»Ÿå¹¿å‘Šapollo:/ $ pm diable-user com.miui.systemAdSolution# ç¦ç”¨è¡Œä¸ºåˆ†æapollo:/ $ pm disable-user com.miui.analytics# ç¦ç”¨æ¸¸æˆä¸­å¿ƒæœåŠ¡apollo:/ $ pm disable-user com.xiaomi.gamecenter.sdk.service # åˆ é™¤å°ç±³æµè§ˆå™¨apollo:/ $ pm uninstall --user 0 com.android.browser# é‡å¯æ‰‹æœºæµ‹è¯•æ˜¯å¦æ­£å¸¸apollo:/ $ reboot å‚è€ƒèµ„æ–™ MIUI å¼ºåˆ¶ä½¿ç”¨è‡ªå¸¦æµè§ˆå™¨ ä½¿ç”¨ADBä¸rootåˆ é™¤å°ç±³MIUIç³»ç»Ÿè‡ªå¸¦åº”ç”¨"},{"title":"Kuberneteså®‰è£…ç¬”è®°","path":"Kuberneteså®‰è£…ç¬”è®°/","text":"æœ¬ç¯‡ä»…çº¯ç¬”è®°ï¼Œè®°å½•å®‰è£…è¸©å‘å’Œä¸€äº›ç»†èŠ‚ï¼Œæœ¬æ¬¡å®‰è£…ä¹Ÿä»…ä»…åªå®‰è£…äº†3å°æœºå™¨ï¼Œç»„å»ºæœ€å°é›†ç¾¤ã€‚ è¸©çš„å°å‘ å®‰è£…æ—¶è¦ä¹ˆå…¨å±€èµ°ä»£ç†ï¼Œè¦ä¹ˆèµ°å›½å†…é•œåƒ(æ¸…åæº&#x2F;é˜¿é‡Œæºç­‰) å®¹å™¨è¿è¡Œæ—¶çš„cGroupDriverä¸€å®šè¦ä¸kubeletçš„é…ç½®ä¸€è‡´ï¼Œå¦åˆ™kubeletèµ·ä¸èµ·æ¥ï¼Œä¼šå½±å“é›†ç¾¤çš„init é›†ç¾¤åˆå§‹åŒ–ç”Ÿæˆçš„åŠ å…¥é›†ç¾¤çš„tokenåªæœ‰24å°æ—¶æœ‰æ•ˆæœŸï¼Œè¿‡æœŸéœ€è¦é‡æ–°ç”Ÿæˆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475# å…³é—­firewallsystemctl stop firewalld.servicesystemctl disable firewalld.service# å®‰è£…bashè¡¥å…¨yum install bash-completion# å®‰è£…yumç®¡ç†å·¥å…·sudo yum install -y yum-utils# æ·»åŠ EPELæºcurl -s -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo# å®‰è£…Dockeryum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repoyum install docker-ce docker-ce-cli containerd.iosystemctl enable dockersystemctl start docker# æ·»åŠ K8sRepo - Google/Aliyunæºcat &lt;&lt;EOF | sudo tee /etc/yum.repos.d/kubernetes.repo \\[kubernetes] \\name=Kubernetes \\# baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-\\$basearch \\baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/ enabled=1 \\gpgcheck=1 \\repo_gpgcheck=1 \\# gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg \\gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg \\exclude=kubelet kubeadm kubectl \\EOF# Set SELinux in permissive mode (effectively disabling it)sudo setenforce 0sudo sed -i &#x27;s/^SELINUX=enforcing$/SELINUX=permissive/&#x27; /etc/selinux/config# å®‰è£…kubeå·¥å…·é›†yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes# å¯åŠ¨kubeletsystemctl enable --now kubelet# é¢„ä¸‹è½½åˆå§‹åŒ–é›†ç¾¤éœ€è¦çš„æº - Aliyunæºkubeadm config images pull --image-repository registry.aliyuncs.com/google_containers -v=7# æ‰“å°ç”¨äºkubeadm initçš„é»˜è®¤é…ç½®kubeadm config print init-defaults &gt; init-default.yml# å¦‚æœ‰å¿…è¦ï¼Œéœ€è¦ä¿®æ”¹é…ç½®vim init-default.yml# #1 å¦‚æœinit-default.ymlé…ç½®äº†cgroupDriver=systemdï¼Œéœ€è¦å°†CRIçš„driveræ”¹ä¸ºç›¸åŒçš„å€¼# https://stackoverflow.com/questions/43794169/docker-change-cgroup-driver-to-systemdcat &lt;&lt;EOF | tee /etc/docker/daemon.json \\&#123; \\ &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;] \\&#125; \\EOFsystemctl restart docker# å¼€å§‹åˆå§‹åŒ–é›†ç¾¤kubeadm init --config init-default.yml -v=7# é…ç½®kubectlmkdir -p $HOME/.kubecp -i /etc/kubernetes/admin.conf $HOME/.kube/configchown $(id -u):$(id -g) $HOME/.kube/config# é…ç½®kubectlè‡ªåŠ¨å®Œæˆ## UserProfileecho &#x27;source &lt;(kubectl completion bash)&#x27; &gt;&gt;~/.bashrc## SystemProfilekubectl completion bash | sudo tee /etc/bash_completion.d/kubectl &gt; /dev/null init-default.ymlç”¨äºé›†ç¾¤åˆå§‹åŒ–çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡kubeadm config print init-defaultså¾—åˆ° 123456789101112131415161718192021222324252627282930313233343536apiVersion: kubeadm.k8s.io/v1beta3bootstrapTokens:- groups: - system:bootstrappers:kubeadm:default-node-token token: abcdef.0123456789abcdef ttl: 24h0m0s usages: - signing - authenticationkind: InitConfiguration---# é…ç½®cgroupDriver æ¨èä½¿ç”¨systemd (#1)# https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/configure-cgroup-driver/kind: KubeletConfigurationapiVersion: kubeadm.k8s.io/v1beta3cgourpDriver: systemd---apiServer: timeoutForControlPlane: 4m0sapiVersion: kubeadm.k8s.io/v1beta3certificatesDir: /etc/kubernetes/pkiclusterName: kubernetescontrollerManager: &#123;&#125;dns: &#123;&#125;etcd: local: dataDir: /var/lib/etcd# æ›´æ¢äº†é•œåƒä»“åº“# imageRepository: k8s.gcr.ioimageRepository: registry.aliyuncs.com/google_containerskind: ClusterConfigurationkubernetesVersion: 1.23.0networking: dnsDomain: cluster.local serviceSubnet: 10.96.0.0/12scheduler: &#123;&#125;"},{"title":"æ¸…ç†linuxç£ç›˜ç©ºé—´","path":"æ¸…ç†linuxç£ç›˜ç©ºé—´/","text":"é¦–å…ˆæŸ¥çœ‹æ˜¯å“ªå—æŒ‚è½½çš„ç£ç›˜æ»¡äº† 1234567891011121314151617181920212223df -hdaizc@DAIZC:~/.local/share/Trash/files$ df -hæ–‡ä»¶ç³»ç»Ÿ å®¹é‡ å·²ç”¨ å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹udev 12G 0 12G 0% /devtmpfs 2.4G 189M 2.2G 8% /run/dev/sdb4 92G 69G 18G 80% /tmpfs 12G 290M 12G 3% /dev/shmtmpfs 5.0M 4.0K 5.0M 1% /run/locktmpfs 4.0M 0 4.0M 0% /sys/fs/cgroup/dev/loop0 128K 128K 0 100% /snap/bare/5/dev/loop1 255M 255M 0 100% /snap/gnome-3-38-2004/106/dev/loop2 62M 62M 0 100% /snap/core20/1518/dev/loop4 92M 92M 0 100% /snap/gtk-common-themes/1535/dev/loop3 401M 401M 0 100% /snap/gnome-3-38-2004/112/dev/loop5 82M 82M 0 100% /snap/gtk-common-themes/1534/dev/sdb2 9.8G 37M 9.3G 1% /recoverytmpfs 2.4G 136K 2.4G 1% /run/user/1000/dev/sda2 224G 168G 57G 75% /media/daizc/è½¯ä»¶/dev/loop6 62M 62M 0 100% /snap/core20/1581/dev/loop7 62M 62M 0 100% /snap/core20/1587/dev/loop8 584M 584M 0 100% /data/uengine/data/rootfsuengine-fuse 92G 69G 18G 80% /data/uengine/å®‰å“åº”ç”¨æ–‡ä»¶ å› ä¸ºæ•´ä¸ªç£ç›˜éƒ½æŒ‚åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ‰€ä»¥åªçŸ¥é“æ ¹ç›®å½•æ»¡äº†ï¼Œä¸çŸ¥é“å…·ä½“æ˜¯æ»¡çš„æ˜¯ä»€ä¹ˆ è¿™é‡Œéœ€è¦ä¸€å±‚ä¸€å±‚å‘ä¸‹æ‰¾ 1234567891011daizc@kl-All-Series:~$ sudo du -h --max-depth=1 |sort -hr |head -n 102.1G .378M ./service223M ./logs187M ./.vscode-server140M ./seata105M ./docker-image13M ./.kube12M ./sandbox8.5M ./.local7.7M ./.cache"},{"title":"Angularåˆå­¦æ’å‘æ—¥è®°ï¼ˆäºŒï¼‰ windowsè½¯é“¾æ¥æƒ¨æ¡ˆ","path":"Angularåˆå­¦æ’å‘æ—¥è®°ï¼ˆäºŒï¼‰windowsè½¯é“¾æ¥æƒ¨æ¡ˆ/","text":"ä¸Šæ–‡è®²åˆ°å·²ç»æˆåŠŸåˆ›å»ºäº†Angularé¡¹ç›®ï¼Œç°åœ¨æ€»å¾—è·‘ä¸‹DEMOæ¥è¯•è¯•æ°´å§ï¼Œäºæ˜¯æ‰“å¼€webstormå¯¼å…¥é¡¹ç›®ï¼Œå•å‡»æ’­æ”¾é”®ã€‚å¥½å®¶ä¼™ï¼Œæ–°é”™è¯¯æ¥äº†ã€‚ 12345678910111213D:\\Users\\Link\\WebstormProjects\\angularDemo\\src\\polyfills.ts - Error: Module build failed (from D:\\Users\\Link\\WebstormPro ojects\\angularDemo\\node_modules\\@ngtools\\webpack\\src\\ivy\\index.js):Error: D:\\Users\\Link\\WebstormProjects\\angularDemo\\src\\polyfills.ts is missing from the TypeScript compilation. Please ma ake sure it is in your tsconfig via the &#x27;files&#x27; or &#x27;include&#x27; property. at D:\\Users\\Link\\WebstormProjects\\angularDemo\\node_modules\\@ngtools\\webpack\\src\\ivy\\loader.js:60:26** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ ** Ã— Failed to compile.âˆš Browser application bundle generation complete. ç¼–è¯‘å¤±è´¥ï¼Œä½†æµè§ˆå™¨å¯åŠ¨æˆåŠŸã€‚å¼¹å‡ºä¸€ä¸ªæ˜æ™ƒæ™ƒçš„Cannot GET /ã€‚ ä»”ç»†çœ‹äº†ä¸‹æŠ¥é”™ï¼Œä½†å®Œå…¨æ²¡æ˜ç™½è¿™ä¸ªæç¤ºçš„æ„æ€ï¼Œæ„Ÿè§‰å°±æ˜¯è¯´src\\polyfills.tsæ²¡æ‰¾åˆ°ï¼Œæ‰€ä»¥tsç¼–è¯‘å¤±è´¥å•¥çš„ï¼Œè®©æˆ‘æ£€æŸ¥tsconfigé‡Œæ˜¯å¦æœ‰é…ç½®filesæˆ–è€…includeå±æ€§ã€‚ 1234567891011121314&#123; &quot;extends&quot;: &quot;./tsconfig.json&quot;, &quot;compilerOptions&quot;: &#123; &quot;outDir&quot;: &quot;./out-tsc/app&quot;, &quot;types&quot;: [] &#125;, &quot;files&quot;: [ &quot;src/main.ts&quot;, &quot;src/polyfills.ts&quot; ], &quot;include&quot;: [ &quot;src/**/*.d.ts&quot; ]&#125; ä½†æ˜¯å¾ˆé—æ†¾çš„æ˜¯ï¼Œé…ç½®é‡Œéƒ½æœ‰é…ï¼Œä½†è¿™ä¸ªé—®é¢˜è¿˜æ˜¯å‡ºç°äº†ï¼Œäºæ˜¯å¼€å§‹googleã€‚ Angular5 :polyfills.ts &amp; \\main.ts is missing from the TypeScript compilationæ„Ÿè§‰å’Œæˆ‘çš„ç—‡çŠ¶å¾ˆç›¸ä¼¼ã€‚è¿™ä½æœ‹å‹å‘Šè¯‰æˆ‘ä»¬ä¿®æ”¹angular.jsonæ·»åŠ ä¸€ä¸ªå±æ€§å°±å¯ä»¥äº†ã€‚lines123456&#123; &quot;projects&quot;: &#123; &quot;anglarDemo2&quot;: &#123; &quot;architect&quot;: &#123; &quot;build&quot;: &#123; &quot;options&quot;: &#123; &quot;preserveSymlinks&quot;: true // ã€Š==========åŠ çš„è¿™è¡Œ å†æ¬¡å¯åŠ¨é¡¹ç›®ï¼Œå·²ç»å¯ä»¥æ­£å¸¸å¯åŠ¨äº†ã€‚éšåæ ¹æ®ä¸Šé¢çš„å±æ€§æœç´¢äº†ä¸€ä¸‹ç›¸å…³çš„èµ„æ–™ï¼Œæ‰¾åˆ°ä¸€ä¸ªissues main.ts is missing from de TypeScript compilation æ€»è€Œè¨€ä¹‹å°±æ˜¯windowsè½¯é“¾æ¥æƒ¹çš„ç¥¸ï¼Œangularéœ€è¦åœ¨é…ç½®é‡Œè®¾ç½®ä¿ç•™é€»è¾‘é“¾æ¥æ‰èƒ½æ­£å¸¸çš„è¯»åˆ°æ–‡ä»¶ã€‚èµ·å› æ˜¯æˆ‘åœ¨è£…ç³»ç»Ÿæ—¶ä¸ºäº†èŠ‚çº¦Cç›˜çš„ç©ºé—´ï¼Œå°†C:\\User\\Linkè¿™ä¸ªç›®å½•é€šè¿‡Symlinkçš„æ–¹å¼æŒ‚è½½åˆ°äº†Dç›˜å¯¼è‡´è§¦å‘äº†è¿™ä¸ªæŠ¥é”™ã€‚"},{"title":"Angularåˆå­¦æ’å‘æ—¥è®°ï¼ˆä¸€ï¼‰cnpmå®‰è£…æƒ¨æ¡ˆ","path":"Angularåˆå­¦æ’å‘æ—¥è®°ï¼ˆä¸€ï¼‰cnpmå®‰è£…æƒ¨æ¡ˆ/","text":"æœ€è¿‘åšä¸­é—´ä»¶å¼€å‘ï¼Œæ¶‰åŠåˆ°ä¸å°‘çš„é¡¹ç›®æ”¹é€ ï¼Œå‘ç°æœ‰ä¸å°‘ä¸­é—´ä»¶çš„å‰ç«¯éƒ½æ˜¯æ‹¿Angularå†™çš„ï¼Œè‡ªå·±çœ‹Angularçœ‹ä¸å¤ªæ‡‚ï¼Œå‰ç«¯åŒäº‹éƒ½æ˜¯vueç©å®¶ï¼Œä¹Ÿä¸å¤ªç©å¾—è½¬è¿™ç©æ„å„¿ï¼Œä½†æ˜¯æ”¹ä¸åŠ¨ä¸­é—´ä»¶çš„å‰ç«¯çš„ç¡®è›®åƒäºï¼Œå†åŠ ä¸Šä¹‹å‰ç¾¤é‡Œæœ‹å‹ç…½é£ç‚¹ç«ï¼Œäºæ˜¯æœ‰äº†æŠ˜è…¾ä¸‹Angularçš„å¿µå¤´ã€‚æ­£å¥½æ‹¿äº†å°æ–°ç”µè„‘æ¥ç©ï¼Œå‡†å¤‡æ•´ä¸ªAngularç©ç©ï¼Œäºæ˜¯ç›´æ¥æ‹¿scoopé…ç¯å¢ƒé…å¥½äº†nodeç¯å¢ƒå’Œnpmã€‚ åˆå§‹ç¯å¢ƒ node:16.13.1 npm:8.1.2 ç›´è¿npmæºä¼šèµ°ä»£ç†ï¼Œä¸‹è½½ç•¥æ…¢ï¼Œäºæ˜¯é¡ºæ‰‹è£…ä¸ªcnpm 1PS C:\\Users\\Link\\WebstormProjects&gt; npm install -g cnpm æ¥ç€è£…angular-cli 1PS C:\\Users\\Link\\WebstormProjects&gt; cnpm install -g @angular/cli æ·˜å®æºè£…ç€å°±æ˜¯å¿«ï¼Œä¸åˆ°10sè£…å¥½äº†ï¼Œæ¥ç€å°±æ˜¯è·Ÿç€å®˜æ–¹æ–‡æ¡£åˆå§‹åŒ–é¡¹ç›® 12345PS C:\\Users\\Link\\WebstormProjects&gt; ng new angulardemo? Would you like to add Angular routing? Yes? Which stylesheet format would you like to use? SCSS [ https://sass-lang.com/documentation/syntax#scss ]setTimeout is not defined ? ä¸çŸ¥ä»€ä¹ˆæƒ…å†µï¼ŒæŠ¥äº†ä¸ªsetTimeoutçš„é”™è¯¯ï¼Œæœ¬èœé¸¡ä¸æ˜¯å¾ˆæ‡‚ï¼Œé‚Googleä¸€ä¸‹ï¼Œè¯´æ˜¯cnpmçš„é—®é¢˜ï¼ˆ*ä¸çŸ¥ä¸ºä½•ä¼šæœ‰è¿™é—®é¢˜ï¼Œæœ‰å¾…æŸ¥éªŒï¼‰ã€‚æ€»ä¹‹å…ˆæŠŠè¿™ä¿©å¸è½½æ‰ã€‚ 123PS C:\\Users\\Link\\WebstormProjects&gt; cnpm uninstall -g @angular/cliPS C:\\Users\\Link\\WebstormProjects&gt; npm uninstall -g cnpmPS C:\\Users\\Link\\WebstormProjects&gt; npm cache clean --force ç„¶ååªå¥½ç”¨npmé‡æ–°å®‰è£…cliã€‚ä½†æ˜¯npmå®‰è£…çš„ç¡®æ˜¯æ…¢ï¼Œè€Œä¸”ä¸ªäººå–œæ¬¢ç”¨yarnåšä¾èµ–ç®¡ç†ï¼Œäºæ˜¯å®‰è£…yarnï¼Œåœ¨é¾Ÿé€Ÿå®‰è£…çš„åŒæ—¶ï¼Œé¡ºä¾¿æ‰¾åˆ°ä¸ªæ¢æºçš„å·¥å…·ã€‚ 123456789101112PS C:\\Users\\Link\\WebstormProjects&gt; scoop install -g yarnPS C:\\Users\\Link\\WebstormProjects&gt; yarn global add yrmPS C:\\Users\\Link\\WebstormProjects&gt; yrm ls* npm ---- https://registry.npmjs.org/ cnpm --- http://r.cnpmjs.org/ taobao - https://registry.npm.taobao.org/ nj ----- https://registry.nodejitsu.com/ rednpm - http://registry.mirror.cqupt.edu.cn/ npmMirror https://skimdb.npmjs.com/registry/ edunpm - http://registry.enpmjs.org/ yarn --- https://registry.yarnpkg.comPS C:\\Users\\Link\\WebstormProjects&gt; yrm use taobao æˆåŠŸè§£å†³é—®é¢˜ 12PS C:\\Users\\Link\\WebstormProjects&gt; yarn global add @angular/cliPS C:\\Users\\Link\\WebstormProjects&gt; ng new angulardemo1"},{"title":"JobDescription-20210916","path":"JobDescription-20210916/","text":"JobDescription-Aæ‹›ä¸ªäººåªæ¥æµç¨‹å¼•æ“ å²—ä½è¦æ±‚: åŠ åˆ†é¡¹ä»»é€‰å…¶ä¸€å³å¯ 3å¹´ä»¥ä¸ŠITäº’è”ç½‘è¡Œä¸šæˆ–è½¯ä»¶è¡Œä¸šåç«¯å¼€å‘å·¥ä½œç»éªŒï¼Œä¼˜ç§€è€…å¯é€‚å½“æ”¾å®½å¹´é™ã€‚ è‰¯å¥½çš„JavaåŸºæœ¬åŠŸï¼Œç†è§£OOPã€DDDç­‰ç¼–ç¨‹æ–¹å¼ã€‚ ç†Ÿæ‚‰BPMN2.0è§„èŒƒï¼Œç†Ÿæ‚‰å¼€æºæµç¨‹å¼•æ“ï¼ˆä¸é™äºflowableï¼‰å·¥ä½œåŸç†ã€‚ ç†Ÿæ‚‰å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå…·å¤‡ä¸€å®šæºç é˜…è¯»èƒ½åŠ›ã€‚ ç†Ÿæ‚‰Linuxç³»ç»Ÿï¼Œèƒ½ç†Ÿç»ƒçš„ä½¿ç”¨Linuxçš„å¸¸ç”¨å‘½ä»¤ã€‚ [åŠ åˆ†é¡¹] èƒ½åˆç†æŠ½ç¦»ä¸šåŠ¡ä»£ç å’Œå¯å¤ç”¨çš„ç»„ä»¶ï¼Œå…·æœ‰å°è£…å†…éƒ¨å·¥å…·çš„ç»éªŒã€‚ [åŠ åˆ†é¡¹] èƒ½ç€æ‰‹ä¼˜åŒ–ç»“æ„ä¸åˆç†çš„sqlè¯­å¥ï¼Œå¹¶èƒ½æ ¹æ®ä¸šåŠ¡åœºæ™¯æå‡ºä¼˜åŒ–æ–¹æ¡ˆã€‚ [åŠ åˆ†é¡¹] èƒ½æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯åˆç†åº”ç”¨ç¼“å­˜(åŒ…æ‹¬ä½†ä¸é™äºRedisã€Memcached)ã€æ¶ˆæ¯(åŒ…æ‹¬ä½†ä¸é™äºRabbitMqã€Kafka)ã€æœç´¢å¼•æ“(Elasticsearchã€solr)ç­‰ä¸­é—´ä»¶ã€‚ å·¥ä½œèŒè´£: è´Ÿè´£åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€ç¼–ç ã€ä¼˜åŒ–å·¥ä½œï¼Œå¹¶ä¸ºå›¢é˜Ÿä¸­å…¶ä»–æˆå‘˜æä¾›æŠ€æœ¯æ”¯æŒã€‚ è¿›è¡Œéœ€æ±‚åˆ†æï¼Œæ‹†åˆ†ä¸šåŠ¡ä»»åŠ¡ï¼Œç¼–å†™æŠ€æœ¯æ–‡æ¡£ã€‚ JobDescription-Bæ‹›ä¸ªäººæ•´ä¸ªä¸­å°ä¸€èµ·æ¥ å²—ä½è¦æ±‚: åŠ åˆ†é¡¹ä»»é€‰å…¶ä¸€å³å¯ 3å¹´ä»¥ä¸ŠITäº’è”ç½‘è¡Œä¸šæˆ–è½¯ä»¶è¡Œä¸šåç«¯å¼€å‘å·¥ä½œç»éªŒï¼Œä¼˜ç§€è€…å¯é€‚å½“æ”¾å®½å¹´é™ã€‚ è‰¯å¥½çš„JavaåŸºæœ¬åŠŸï¼Œç†è§£OOPã€DDDç­‰ç¼–ç¨‹æ–¹å¼ã€‚ ç†Ÿæ‚‰å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå…·å¤‡ä¸€å®šæºç é˜…è¯»èƒ½åŠ›ã€‚ å…·å¤‡ä¼˜ç§€çš„æ¥å£è®¾è®¡èƒ½åŠ›ï¼Œèƒ½åœ¨åˆé€‚çš„ä½ç½®é€‚å½“åœ°é¢„ç•™æ‰©å±•çš„ç©ºé—´ã€‚ å…·å¤‡è‰¯å¥½çš„æŠ½è±¡èƒ½åŠ›ï¼Œèƒ½åˆç†æŠ½ç¦»ä¸šåŠ¡ä»£ç å’Œå¯å¤ç”¨çš„ç»„ä»¶ï¼Œå…·æœ‰å°è£…å†…éƒ¨å·¥å…·çš„ç»éªŒã€‚ ç†Ÿæ‚‰å¾®æœåŠ¡æ¡†æ¶ï¼ˆä¸é™äºSpringCloudï¼‰,åˆ†å¸ƒå¼è®¾è®¡å’Œåº”ç”¨ã€‚ ç†Ÿæ‚‰Linuxç³»ç»Ÿï¼Œèƒ½ç†Ÿç»ƒçš„ä½¿ç”¨Linuxçš„å¸¸ç”¨å‘½ä»¤ã€‚å…·å¤‡gitåˆ†æ”¯ç®¡ç†èƒ½åŠ›ã€‚ [åŠ åˆ†é¡¹] ç†Ÿæ‚‰BPMN2.0è§„èŒƒï¼Œç†Ÿæ‚‰å¼€æºæµç¨‹å¼•æ“ï¼ˆä¸é™äºflowableï¼‰å·¥ä½œåŸç†ã€‚ [åŠ åˆ†é¡¹] èƒ½ç€æ‰‹ä¼˜åŒ–ç»“æ„ä¸åˆç†çš„sqlè¯­å¥ï¼Œå¹¶èƒ½æ ¹æ®ä¸šåŠ¡åœºæ™¯æå‡ºä¼˜åŒ–æ–¹æ¡ˆã€‚ [åŠ åˆ†é¡¹] èƒ½æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯åˆç†åº”ç”¨ç¼“å­˜(åŒ…æ‹¬ä½†ä¸é™äºRedisã€Memcached)ã€æ¶ˆæ¯(åŒ…æ‹¬ä½†ä¸é™äºRabbitMqã€Kafka)ã€æœç´¢å¼•æ“(Elasticsearchã€solr)ç­‰ä¸­é—´ä»¶ã€‚ å·¥ä½œèŒè´£: è´Ÿè´£åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€ç¼–ç ã€ä¼˜åŒ–å·¥ä½œï¼Œå¹¶ä¸ºå›¢é˜Ÿä¸­å…¶ä»–æˆå‘˜æä¾›æŠ€æœ¯æ”¯æŒã€‚ è¿›è¡Œéœ€æ±‚åˆ†æï¼Œæ‹†åˆ†ä¸šåŠ¡ä»»åŠ¡ï¼Œç¼–å†™æŠ€æœ¯æ–‡æ¡£ã€‚"},{"title":"ä¹¦å•æ•´ç†(2021/08/30)","path":"ä¹¦å•æ•´ç†2021-08-30/","text":"å»ºè®®éƒ¨é—¨é‡‡è´­çš„ä¹¦å•ï¼Œæœ‰æ„å‘å¯ä»¥å‚è€ƒä¸€ä¸‹ ä¹¦å•æ•´ç†(2021&#x2F;08&#x2F;30)è‡ªå·±æ•´ç†çš„æŸ¥æ¼è¡¥ç¼º(ç»™éƒ¨é—¨æ‰€æœ‰äººé€‰çš„) ç å†œç¿»èº« å…¥é—¨ç”¨åŸºç¡€ä¹¦ï¼Œé€‚ç”¨2å¹´ä»¥ä¸‹ç»éªŒ å›¾çµç»å…¸è®¡ç®—æœºåŸºç¡€å›¾ä¹¦ å¼ºçƒˆæ¨èä¸‹é¢è¯¥ä¸›ä¹¦ ç½‘ç»œæ˜¯æ€æ ·è¿æ¥çš„ é¢å‘å¯¹è±¡æ˜¯æ€æ ·å·¥ä½œçš„ ç¨‹åºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ è®¡ç®—æœºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ éƒ¨é—¨é¦–é€‰ ä»£ç æ•´æ´ä¹‹é“+ç¨‹åºå‘˜çš„èŒä¸šç´ å…» å¼ºçƒˆæ¨èå‰é¢ä¸€æœ¬ã€‚ åé¢é‚£å§Šå¦¹ä¹¦ä¸»è¦æ˜¯è®²æ•…äº‹çš„ï¼Œå¯é€‰ æ¶æ„æ•´æ´ä¹‹é“ æµç¨‹çš„æ°¸æ’ä¹‹é“ï¼šå·¥ä½œæµåŠBPMæŠ€æœ¯çš„ç†è®ºã€è§„èŒƒã€æ¨¡å¼åŠæœ€ä½³å®è·µ é‡æ„ æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ Javaè¯­è¨€ç‰ˆ æ‰©å±•ä¹¦å•ï¼ˆè‡ªå·±æƒ³è¦çš„ï¼‰ æ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ [Designing Data-Intensive Applications] åˆ†å¸ƒå¼ç³»ç»Ÿåº”ç”¨è®¾è®¡ [Designing Distributed Systems] åç«¯åŒäº‹A æ•°æ®ç»“æ„ä¸ç®—æ³•åˆ†æâ€“javaè¯­è¨€æè¿° æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ(CSAPP) å‰ç«¯åŒäº‹ å‰ç«¯åŒäº‹B ES6æ ‡å‡†å…¥é—¨ï¼ˆç¬¬3ç‰ˆï¼‰ å‰ç«¯åŒäº‹C æ·±å…¥ç†è§£ES6 å‰ç«¯åŒäº‹D JavaScripté«˜çº§ç¨‹åºè®¾è®¡ ç¬¬4ç‰ˆ(å›¾çµå‡ºå“ï¼‰ å‰ç«¯åŒäº‹E TypeScripté¡¹ç›®å¼€å‘å®æˆ˜ [Advanced TypeScript Programming Projects]"},{"title":"[DEBUGæ—¥è®°]Swaggeræ‰«ä¸åˆ°ç±»-Jdkä»£ç†å¯¼è‡´çš„åå°„ç±»å‹æ•…éšœ","path":"[DEBUGæ—¥è®°]Swaggeræ‰«ä¸åˆ°ç±»-Jdkä»£ç†å¯¼è‡´çš„åå°„ç±»å‹æ•…éšœ/","text":"å…ˆè¯´ç»“è®ºjdkä»£ç†çš„é—®é¢˜ï¼Œæ¢ç”¨cglibä»£ç†å°±å¥½äº†ã€‚éšä¾¿æ‰¾ä¸ªé…ç½®ç±»ï¼ŒåŠ ä¸Š @EnableAspectJAutoProxyæ³¨è§£å³å¯è§£å†³ã€‚ æ•´ç†æ¥å£åçªç„¶æš´æ¯™æ•´ç†äº†ä¸€ä¸‹é¡¹ç›®ä¸­çš„Controllerï¼Œç„¶åæœ‰å‡ ä¸ªæ¥å£å°±æ‰«æä¸åˆ°äº†ã€‚æ— è®ºæ€ä¹ˆæ›´æ¢æ‰«ææ³¨è§£éƒ½æ‰¾ä¸åˆ°è¿™äº›æ¥å£ï¼Œç”šè‡³ä½¿ç”¨åŒ…è·¯å¾„æ‰«æéƒ½æ‰¾ä¸åˆ°ï¼Œå¾ˆæ˜¯é­”å¹»ã€‚ å“ªç—›æ²»å“ªä¿—è¯è¯´å“ªé‡Œç—›æ²»å“ªé‡Œï¼Œæ—¢ç„¶swaggeræ‰«ä¸åˆ°æ¥å£ï¼Œå°±å…ˆçœ‹çœ‹swaggeråˆ°åº•æ˜¯æ€ä¹ˆå»æ‰«æ¥å£çš„ å…ˆçœ‹swaggerçš„é…ç½®12345678910111213@Bean(&quot;docket&quot;)public Docket docket() &#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() // æ‰«æå¸¦Apiæ³¨è§£çš„ç±» .apis(RequestHandlerSelectors.withClassAnnotation(Api.class)) .paths(PathSelectors.any()) .build() .securitySchemes(securitySchemes()) .globalOperationParameters(globalOperationParameters()) ;&#125; å†çœ‹ä¸Šæ–‡ä¸­.apis()è¿™ä¸ªæ¥å£çš„æºç 1234public ApiSelectorBuilder apis(Predicate&lt;RequestHandler&gt; selector) &#123; requestHandlerSelector = requestHandlerSelector.and(selector); return this;&#125; çœ‹è¿™æ–¹æ³•ç­¾åï¼Œè¿”å›å€¼æ˜¯thisæ²¡å•¥ç”¨,ç›´æ¥å¿½ç•¥ã€‚å…¥å‚æ˜¯ä¸ªå°†RequestHandlerå¤„ç†æˆå¸ƒå°”å€¼çš„å‡½æ•°ï¼Œ æ ¹æ®å…¶å˜é‡åselectorå¯ä»¥çŒœæµ‹å…¶ä½œç”¨æ˜¯ä¼ å…¥ä¸€ä¸ªRequestHandleråˆ¤æ–­å…¶æ˜¯å¦æ»¡è¶³æ¡ä»¶,è¿™é‡Œçš„æ¡ä»¶æ˜¯æŒ‡å•¥ï¼Ÿå½“ç„¶æ˜¯æŒ‡æˆ‘ä»¬ä»å¤–éƒ¨ä¼ è¿›æ¥çš„RequestHandlerSelectors.withClassAnnotation(Api.class)è¿™ä¸ªç©æ„å„¿å•¦ï¼ åœ¨æ·±å…¥æˆ‘ä»¬ä¼ å…¥çš„RequestHandlerSelectors.withClassAnnotation(Api.class)ä¸­ï¼Œçœ‹ä»–çš„æºç ï¼š123456789/** * Predicate that matches RequestHandler with given annotation on the declaring class of the handler method * * @param annotation - annotation to check * @return this */public static Predicate&lt;RequestHandler&gt; withClassAnnotation(final Class&lt;? extends Annotation&gt; annotation) &#123; return input -&gt; declaringClass(input).map(annotationPresent(annotation)).orElse(false);&#125; è¿™é‡Œæ˜¯åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶çš„å…³é”®ä½ç½®ï¼Œæ¯ä¸€ä¸ªRequestHandler(å°±æ˜¯ä¸Šé¢çš„input)éƒ½ä¼šé€šè¿‡ä¸Šæ–‡çš„è¡¨è¾¾å¼åˆ¤æ–­å¾—åˆ°ä¸€ä¸ªå¸ƒå°”å€¼ å†ç»§ç»­å¾€å‰æ‰¾åˆ°è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„åœ°æ–¹12345678910111213141516171819202122232425262728293031323334353637// ä¸Šé¢ç¬¬äºŒç‚¹çš„ä½ç½®æ˜¯åœ¨ApiSelectorBuilderä¸­ï¼Œè¦æƒ³æ‰¾åˆ°ç¬¬ä¸‰ç‚¹çš„å‡½æ•°çœŸæ­£åœ¨å“ªé‡Œè¢«ä½¿ç”¨äº†ï¼Œéœ€è¦åå‘æ‰¾å›å»// åœ¨springfox.documentation.spi.service.contexts.ApiSelectorä¸­æ‰¾åˆ°äº†æˆ‘ä»¬ä¼ å…¥çš„`private final Predicate&lt;RequestHandler&gt; requestHandlerSelector;`// é€šè¿‡å…¶getteråå‘æ‰¾å›å»// æ‰¾åˆ°äº†springfox.documentation.spring.web.scanners.ApiListingReferenceScanner#scan public ApiListingReferenceScanResult scan(DocumentationContext context) &#123; LOG.info(&quot;Scanning for api listing references&quot;); Map&lt;ResourceGroup, List&lt;RequestMappingContext&gt;&gt; resourceGroupRequestMappings = new HashMap&lt;&gt;(); int requestMappingContextId = 0; ApiSelector selector = context.getApiSelector(); // çœ‹è¿™é‡Œï¼Œè¦æ‰¾çš„ä¸œè¥¿å°±åœ¨è¿™é‡Œ Iterable&lt;RequestHandler&gt; matchingHandlers = context.getRequestHandlers().stream() .filter(selector.getRequestHandlerSelector()).collect(toList()); for (RequestHandler handler : matchingHandlers) &#123; ResourceGroup resourceGroup = new ResourceGroup( handler.groupName(), handler.declaringClass(), 0); RequestMappingContext requestMappingContext = new RequestMappingContext( String.valueOf(requestMappingContextId), context, handler); resourceGroupRequestMappings.putIfAbsent( resourceGroup, new ArrayList&lt;&gt;()); resourceGroupRequestMappings.get(resourceGroup).add(requestMappingContext); ++requestMappingContextId; &#125; return new ApiListingReferenceScanResult(resourceGroupRequestMappings);&#125; æ‰“ä¸Šæ–­ç‚¹å¼€å§‹Debugï¼Œçœ‹çœ‹controlleræœ‰æ²¡æœ‰è¢«swaggeræ‰«åˆ°å‘ç°swaggeræ˜¯ç›´æ¥ä»springä¸­å–å‡ºçš„RequestHandlerï¼Œè€Œæˆ‘ä»¬çš„Controlleræ˜¯è¢«Springæ­£å¸¸æ‰«æçš„(åºŸè¯ï¼Œæ²¡è¢«Springæ‰«åˆ°éƒ½ä¸èƒ½ç”¨äº†å¥½å§) å‰å¾€æ­¥éª¤3å¤„æ‰“ä¸Šæ¡ä»¶æ–­ç‚¹ï¼Ÿï¼Ÿï¼Ÿè¿™æ˜¯å’‹å›äº‹ ç»§ç»­æ’æŸ¥è‰ï¼Œè¿™ä¸ªç±»è¢«jdkä»£ç†äº†ï¼Œè¿™ç›´æ¥å¯¼è‡´åå°„è·å–ç±»å‹çš„æ—¶å€™è·å–åˆ°äº†jdkçš„Proxy$?.classè¿™ä¸ªç±»å‹ï¼Œä»è€Œå¯¼è‡´æ£€æŸ¥æ³¨è§£å¤±è´¥declaringClass()æ–¹æ³•åŸæœ¬åº”è¯¥è·å–åˆ°å£°æ˜ç±»ï¼Œæˆ‘ä»¬é¢„è®¡ä»–åº”è¯¥ä¼šè¿”å›æˆ‘ä»¬Controllerçš„çœŸå®ç±»å‹ï¼Œä½†æ˜¯ç”±äºControllerå®ç°äº†ä¸€ä¸ªæ¥å£ï¼Œå¯¼è‡´Springä½¿ç”¨äº†jdkä»£ç†è¿™ä¸ªå¯¹è±¡ï¼Œä»è€Œå¯¼è‡´è·å–å£°æ˜ç±»æ—¶è·å–åˆ°äº†jdkä»£ç†æ‰€ç”¨çš„ç±»å‹ï¼Œæœ€ç»ˆå¯¼è‡´è·å–æ³¨è§£å¤±è´¥ é—®é¢˜æ¸…æ¥šäº†ï¼Œéƒ½æ˜¯jdkä»£ç†çš„é”…ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰å¤šä¸ªæ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š ä½¿ç”¨ç»§æ‰¿ä»£æ›¿å®ç° ä½¿ç”¨cglibä»£æ›¿jdkProxyè¿›è¡Œä»£ç† æœ€ç»ˆè§£å†³ ç”±äºè¿™é‡Œå®šä¹‰åœ¨Controllerä¸Šçš„çš„æ¥å£æ˜¯ç”±å…¶ä»–æ¨¡å—çš„spiï¼Œä¸ºäº†ä¿è¯è°ƒç”¨å®‰å…¨ï¼Œå› æ­¤é‡‡ç”¨æ–¹å¼2æ¥è§£å†³1234567// éšä¾¿æ‰¾ä¸ªé…ç½®ç±»åŠ æ³¨è§£@EnableAspectJAutoProxy( // ç¤ºä»£ç†åº”ç”± AOP æ¡†æ¶å…¬å¼€ä¸ºThreadLocalä»¥é€šè¿‡org.springframework.aop.framework.AopContextç±»è¿›è¡Œæ£€ç´¢ exposeProxy = true, // æŒ‡ç¤ºæ˜¯å¦è¦åˆ›å»ºåŸºäºå­ç±» (CGLIB) çš„ä»£ç†ï¼Œè€Œä¸æ˜¯åŸºäºæ ‡å‡† Java æ¥å£çš„ä»£ç† proxyTargetClass = true ) é‡‡ç”¨jdkçš„æ–¹å¼ä»£ç†ä¼šæ›´å¿«ï¼Œç›¸è¾ƒäºcglibä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æå‡ï¼Œä½†åº”è¯¥ä»…åœ¨å¯åŠ¨æ—¶æœ‰æå‡ï¼Œç±»åŠ è½½å®Œæ¯•Beanæ³¨å†Œå®Œæˆååº”è¯¥éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéšå£BBä¸€å¥æ²¡æœ‰éªŒè¯è¿‡æ˜¯å¦æ­£ç¡®ã€‚ æœ€åä¸Šä¸ªå›¾å¯¹æ¯”ä¸€ä¸‹"},{"title":"PDFç–‘éš¾æ‚ç—‡","path":"PDFç–‘éš¾æ‚ç—‡ä»¥åŠæ²»ç–—æ–¹æ³•æ€»ç»“/","text":"PDFæ˜¯ä¸€ä¸ªç”±Adobeç¼–å†™ç°ç”±å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ (ISO) ç»´æŠ¤çš„ä¸€ä¸ªå¼€æ”¾å¼æ ‡å‡†ï¼ŒPDF æ–‡æ¡£å¯ä»¥åŒ…å«é“¾æ¥å’ŒæŒ‰é’®ã€è¡¨å•åŸŸã€éŸ³é¢‘ã€è§†é¢‘å’Œä¸šåŠ¡é€»è¾‘ã€‚è¿™ç§æ–‡ä»¶å¯è¿›è¡Œç”µå­ç­¾åï¼Œå› æ­¤æ”¿åºœæœºæ„å¤§é‡åœ¨ç”¨ï¼Œä½†æ˜¯ä»ç„¶æ˜¯ä¸ªç…ç¬”æ ¼å¼ã€‚ ç¼–è¾‘PDFç›¸å…³çš„å»ºè®® ITextæœ‰ä¸€æ•´å¥—pdfæ¨¡æ¿ç”Ÿæˆ-å¡«å……-ç­¾åçš„å·¥å…·é“¾ï¼Œå¦‚æœå…¬å¸æ„¿æ„å¯ä»¥ç›´æ¥ä¹°æœåŠ¡ï¼Œå¦‚æœä¸æ„¿æ„ä½¿ç”¨ï¼Œé‚£è‡³å°‘åœ¨pdfæ¨¡æ¿åˆ¶ä½œæ—¶éœ€è¦ç»Ÿä¸€PDFç¼–è¾‘å·¥å…·ã€‚ ITextå·¥å…·é›†ä¸­åŒ…å«ä¸€ä¸ªitext-rupsï¼Œè¯¥å·¥å…·èƒ½å±•ç¤ºpdfçš„ç»“æ„æ ‘ï¼Œæ–¹ä¾¿debug æ¨èä½¿ç”¨çš„pdfç¼–è¾‘å·¥å…·ä¸ºPDF-XChange Editorå’ŒAdobe Acrobat DC å¡«å……PDFå®¹æ˜“é‡åˆ°çš„é—®é¢˜æ–‡æœ¬åŸŸæ— æ³•å¡«å……ä¸­æ–‡æ£€æŸ¥æ–‡æœ¬æ¡†ä¸­ä½¿ç”¨çš„å­—ä½“æ˜¯å¦å†…åµŒåœ¨Pdfä¸­,å¦‚æœæ²¡æœ‰å†…åµŒï¼Œé‚£ä¹ˆéšä¾¿æ‰¾ä¸€ä¸ªæ–‡å­—ï¼Œå°†è¯¥æ–‡å­—çš„å­—ä½“è®¾ç½®ä¸ºéœ€è¦å†…åµŒçš„å­—ä½“å¹¶ä¿å­˜å³å¯ å‡å°pdfçš„ä½“ç§¯å¯ä»¥ä½¿ç”¨ç¼–è¾‘å·¥å…·ä¼˜åŒ–pdfï¼Œå°†æœªä½¿ç”¨çš„å­—ä½“éƒ½æ¸…ç†å‡ºpdfï¼Œpdfå°†åªä¿ç•™ä½¿ç”¨è¿‡çš„å­—å½¢ï¼Œè¿™å¯èƒ½ä¼šå½±å“ä¸å¸¦å­—ä½“çš„æ–‡æœ¬åŸŸå¡«å…… æ–‡æœ¬åŸŸå¡«å……å›¾ç‰‡åœ¨pdfæ ‡å‡†ä¸­æœªå®šä¹‰å›¾ç‰‡æ–‡æœ¬åŸŸï¼Œå½“ä¸‹çš„å›¾ç‰‡æ–‡æœ¬åŸŸéƒ½æ˜¯åŸºäºButtonFieldå˜å½¢çš„ï¼Œæ‰€ä»¥åªéœ€è¦ç»™è¿™ä¸ªButtonè®¾ç½®èƒŒæ™¯å›¾ç‰‡æˆ–è€…ç›´æ¥è®¾ç½®å€¼ä¸ºBase64å³å¯ æŒ‰é’®å¡«å……æ ·å¼å¼‚å¸¸pdfå¹¶æœªé€šè¿‡ç±»å‹åŒºåˆ†å•é€‰/å¤é€‰æ¡†ï¼Œè€Œæ˜¯ä¸ºæŒ‰é’®å®šä¹‰äº†ä¸€ç³»åˆ—çš„å±æ€§æ¥å†³å®šå…¶è¡Œä¸ºå’Œæ ·å¼ å…¶ä¸­æœ‰ä¸€ä¸ªæ ·å¼åˆ—è¡¨ï¼Œå½“æŒ‰é’®çš„valueå‘½ä¸­æ ·å¼åˆ—è¡¨çš„keyæ—¶ï¼Œå°±ä¼šåº”ç”¨æ ·å¼åˆ—è¡¨é¢„å®šä¹‰çš„æ ·å¼ å› æ­¤ç›´æ¥æ£€æŸ¥ä¸ºæŒ‰é’®å¡«å……çš„å€¼æ˜¯å¦ä¸pdfå·¥å…·ä¸­å®šä¹‰`æŒ‰é’®å€¼`ä¸€è‡´å³å¯ *éœ€è¦æ³¨æ„æ ·å¼åˆ—è¡¨çš„keyä¸èƒ½æ˜¯ä¸­æ–‡ï¼Œåœ¨`Acrobat`ä¸­`æŒ‰é’®å€¼`è¢«è®¾ç½®ä¸ºä¸­æ–‡æ—¶ï¼Œä¼šå°†`æŒ‰é’®å€¼`å®šä¹‰åœ¨è¯¥æŒ‰é’®çš„optå±æ€§ä¸­ï¼Œåœ¨æ ·å¼åˆ—è¡¨ä¸­å®šä¹‰key`&quot;0&quot;`ï¼Œå†å°†optçš„å±æ€§æ˜ å°„è¿‡å»ï¼Œè¿™ç§æƒ…å†µå¹¶ä¸å—å¤§éƒ¨åˆ†PDFçš„æ“ä½œå·¥å…·çš„æ”¯æŒï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥å°†æŒ‰é’®å€¼å¡«å……ä¸º`&quot;0&quot;`æ¥è§£å†³è¿™ä¸ªé—®é¢˜"},{"title":"è§£å†³ç”±httpsè½¬å‘å¯¼è‡´çš„SpringCloudGatewayè½¬å‘å¼‚å¸¸","path":"è§£å†³ç”±httpsè½¬å‘å¯¼è‡´çš„SpringCloudGatewayè½¬å‘å¼‚å¸¸/","text":"é”™è¯¯æ—¥å¿—å¦‚ä¸‹: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546472021-07-27 15:51:31.302 WARN [TID:TID-1419928421240946688][PID:1][or-http-epoll-2] r.netty.http.client.HttpClientConnect [299]: [id: 0xe9859259, L:/10.42.8.227:41228 ! R:10.42.4.120/10.42.4.120:8080] The connection observed an errorio.netty.handler.codec.DecoderException: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 485454502f312e31203430302042616420526571756573740d0a436f6e74656e742d4c656e6774683a20300d0a436f6e6e656374696f6e3a20636c6f73650d0a0d0a at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:477) at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.lang.Thread.run(Thread.java:748)Caused by: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 485454502f312e31203430302042616420526571756573740d0a436f6e74656e742d4c656e6774683a20300d0a436f6e6e656374696f6e3a20636c6f73650d0a0d0a at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1213) Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:Error has been observed at the following site(s): |_ checkpoint Ã¢â€¡Â¢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain] |_ checkpoint Ã¢â€¡Â¢ com.alibaba.csp.sentinel.adapter.spring.webflux.SentinelWebFluxFilter [DefaultWebFilterChain] |_ checkpoint Ã¢â€¡Â¢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain] |_ checkpoint Ã¢â€¡Â¢ HTTP GET &quot;/æŸä¸ªservice/v2/api-docs&quot; [ExceptionHandlingWebHandler]Stack trace: at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1213) at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1280) at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507) at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446) at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) at java.lang.Thread.run(Thread.java:748) é—®é¢˜æè¿°è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„åªåœ¨æµ‹è¯•ç¯å¢ƒå­˜åœ¨çš„å¼‚å¸¸ã€‚ç”Ÿäº§ç¯å¢ƒä¸€åˆ‡æ­£å¸¸ï¼Œæµ‹è¯•ç¯å¢ƒè®¿é—®ä»¥httpè®¿é—®æ­£å¸¸ï¼Œä»¥httpsè®¿é—®å‡ºç°å‡ºç°500é”™è¯¯ã€‚ å¼€å‘æ¶æ„ spring-boot:2.3.12.RELEASE spring-cloud:Hoxton.SR8 spring-cloud-alibaba:2.2.5.RELEASE ç”Ÿäº§ç¯å¢ƒé“¾è·¯ï¼š1è®¿é—®åŸŸå =å…¬ç½‘dns=&gt; äº‘æœåŠ¡å•†slb =lb&amp;httpsè½¬http=&gt; ingress-nginx =lb=&gt; service-gateway =lb=&gt; service æµ‹è¯•ç¯å¢ƒé“¾è·¯ï¼š1è®¿é—®åŸŸå =å†…ç½‘dns=&gt; ingress-nginx =lb&amp;httpsè½¬http=&gt; service-gateway =lb=&gt; service Debugæ€è·¯ æŸ¥çœ‹åº”ç”¨æ—¥å¿—å‘ç°serviceå¹¶æœªæ”¶åˆ°è¯¥è¯·æ±‚ï¼Œè¯·æ±‚åœ¨service-gatewayå·²ç»å¤±è´¥äº†ï¼Œåˆ¤æ–­æ˜¯ç½‘å…³é—®é¢˜ã€‚ æŸ¥çœ‹ç½‘å…³æ—¥å¿—å‘ç°æŠ¥é”™ï¼ˆè§æ–‡ç« ä¸€å¼€å§‹å¤„çš„æ—¥å¿—ï¼‰ã€‚ è¯·æ±‚åœ¨nettyClientå¤„çš„SSLHandleræŠ¥é”™ï¼Œè¯´æ˜ç½‘å…³çš„filteræµç¨‹å·²ç»èµ°å®Œ æœ€ç»ˆå¼‚å¸¸æ˜¯NotSslRecordExceptionï¼Œç›´è¯‘ä¸ºéSSLè®°å½•å¼‚å¸¸ï¼Œä¸çŸ¥é“ä¸ºå•¥ä¼šæŠ›å‡ºè¿™ä¸ªå¼‚å¸¸ åœ¨ç½‘å…³ä¸­åŠ æ—¥å¿—èµ°ä¸€æ³¢ï¼Œæ‰“å°è¿™ä¸ªè¯·æ±‚çš„æ‰€æœ‰HttpHeaderï¼Œå¯¹æ¯”é—®é¢˜è¯·æ±‚ä¸æ­£å¸¸è¯·æ±‚çš„ç‰¹å¾ æŸ¥çœ‹é—®é¢˜è¯·æ±‚çš„Header 123456789header: Host: &quot;aaa-bbb-test.xxx.com&quot;, X-Scheme: &quot;https&quot; X-Request-ID: &quot;37cd98713db6b101d813171e0be609a&quot;, X-Forwarded-For: &quot;aaa-bbb-test.xxx.com&quot;, X-Forwarded-Port: &quot;443&quot;, X-Forwarded-Proto: &quot;https&quot;, referer: &quot;https://aaa-bbb-test.xxx.com/doc.html&quot;, ....æ­¤å¤„ç•¥è¿‡ContentTypeã€Accept Headerä¸­æœ‰è½¬å‘æ¥æºçš„éƒ¨åˆ†å¤´éƒ¨ï¼Œå…ˆå°è¯•åœ¨Filterä¸­é™¤æ‰è¿™äº›å¤´éƒ¨è¯•è¯• 1234567891011public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) &#123; ServerHttpRequest serverHttpRequest = exchange.getRequest().mutate() .headers(h -&gt; &#123; h.remove(&quot;X-Forwarded-For&quot;); h.remove(&quot;X-Forwarded-Port&quot;); h.remove(&quot;X-Forwarded-Proto&quot;); &#125;) .build(); return chain.filter(exchange.mutate().request(serverHttpRequest).build());&#125; ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œå¼‚å¸¸ä¾æ—§ã€‚ æ ¹æ®å¼‚å¸¸å †æ ˆå¯çŸ¥ï¼Œæ˜¯åœ¨å‘èµ·è¯·æ±‚æ—¶å‡ºç°é—®é¢˜ï¼Œå°è¯•æ‰¾åˆ°è¯·æ±‚å‘èµ·ç±» ç”±äºç½‘å…³ä½¿ç”¨webfluxå¯¼è‡´é€šè¿‡æ—¥å¿—æŸ¥çœ‹çš„å †æ ˆçš„ä¿¡æ¯ä¸å¤Ÿå…¨é¢ï¼Œé€šè¿‡æœ¬åœ°è°ƒè¯•æ­£å¸¸è¯·æ±‚æŸ¥çœ‹å¼‚æ­¥å †æ ˆè·Ÿè¸ªåˆ°è¯·æ±‚å‘èµ·ç±»NettyRoutingFilter 110è¡Œå¤„å‘ç°ä¸€ä¸ªåè®®åˆ¤æ–­çš„ä»£ç  123456789101112131415 public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) &#123; URI requestUrl = exchange.getRequiredAttribute(GATEWAY_REQUEST_URL_ATTR); String scheme = requestUrl.getScheme(); if (isAlreadyRouted(exchange) || (!&quot;http&quot;.equals(scheme) &amp;&amp; !&quot;https&quot;.equals(scheme))) &#123; return chain.filter(exchange); &#125; setAlreadyRouted(exchange); ... ``` - è¿™ä¸ª`scheme`æ§åˆ¶äº†ç½‘å…³å‘å…¶ä»–æœåŠ¡çš„è½¬å‘åè®®ï¼Œå†³å®šè¿™ä¸ªå˜é‡çš„æ˜¯`requestUrl`- `requestUrl`æ˜¯ä»exchangeå–å‡ºæ¥çš„ï¼Œé€šè¿‡æŸ¥çœ‹`GATEWAY_REQUEST_URL_ATTR`è¿™ä¸ªå¸¸é‡çš„å¼•ç”¨ï¼Œæ‰¾åˆ°äº†`requestUrl` çš„æ¥æº`ReactiveLoadBalancerClientFilter#filter[113]`- å‘ç°æºç æ³¨é‡Š // if the `lb:&lt;scheme&gt;` mechanism was used, use `&lt;scheme&gt;` as the default, // if the loadbalancer doesn&#39;t provide one. 1- æ ¹æ®æºç æ³¨é‡Šä¿®æ”¹ç½‘å…³çš„é…ç½® ä¿®æ”¹å‰: [ &#123; &quot;id&quot;: &quot;service-a&quot;, &quot;name&quot;: &quot;AæœåŠ¡&quot;, &quot;predicates&quot;: [&quot;Path=/service-a/**&quot;], &quot;filters&quot;: [], &quot;uri&quot;: &quot;lb://service-a&quot; &#125; ] ä¿®æ”¹å: [ &#123; &quot;id&quot;: &quot;service-a&quot;, &quot;name&quot;: &quot;AæœåŠ¡&quot;, &quot;predicates&quot;: [&quot;Path=/service-a/**&quot;], &quot;filters&quot;: [], &quot;uri&quot;: &quot;lb:http://service-a&quot; &#125; ] 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647 4. æœåŠ¡æ¢å¤æ­£å¸¸äº†## æ‰¾åˆ°æ ¹æœ¬åŸå›  #### æ•´ç†å‡ºSpringCloudGatewayçš„è¯·æ±‚å¤„ç†æµç¨‹çš„å…³é”®ç±»ï¼š 1. ç”±LoadBalancerUriToolsè®¡ç®—schemeã€hostã€portã€‚å…¶ä¸­schemeç”±`overrideScheme`å’Œ`` 1. `org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter#filter[108]` 2. `org.springframework.cloud.client.loadbalancer.LoadBalancerUriTools#doReconstructURI[100]` 2. å…±äº« GATEWAY_REQUEST_URL_ATTR å˜é‡ç»™å…¶ä»–çš„Filter 1. `org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter#filter[113]` 2. `org.springframework.cloud.gateway.filter.NettyRoutingFilter#filter[108]` 3. äº¤ç”±Nettyå‘èµ·è¯·æ±‚ 1. `org.springframework.cloud.gateway.filter.NettyRoutingFilter#filter[108]`#### é—®é¢˜å‘ç”Ÿåœ¨ç¬¬ä¸€æ­¥ï¼šç”±LoadBalancerUriToolsè®¡ç®—schemeã€hostã€port 1. åœ¨ReactiveLoadBalancerClientFilterä¸­ï¼Œä¸»è¦é€»è¾‘å¦‚ä¸‹ ```java return choose(exchange).doOnNext(response -&gt; &#123; if (!response.hasServer()) &#123; throw NotFoundException.create(properties.isUse404(), &quot;Unable to find instance for &quot; + url.getHost()); &#125; URI uri = exchange.getRequest().getURI(); // if the `lb:&lt;scheme&gt;` mechanism was used, use `&lt;scheme&gt;` as the default, // if the loadbalancer doesn&#x27;t provide one. String overrideScheme = null; if (schemePrefix != null) &#123; overrideScheme = url.getScheme(); &#125; DelegatingServiceInstance serviceInstance = new DelegatingServiceInstance( response.getServer(), overrideScheme); URI requestUrl = reconstructURI(serviceInstance, uri); if (log.isTraceEnabled()) &#123; log.trace(&quot;LoadBalancerClientFilter url chosen: &quot; + requestUrl); &#125; exchange.getAttributes().put(GATEWAY_REQUEST_URL_ATTR, requestUrl); &#125;).then(chain.filter(exchange)); æ­¤å¤„çš„overrideSchemeå°±æ˜¯åˆšæ‰é…ç½®ä¸­æ·»åŠ çš„http:,è¿™æ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„é…ç½® ç„¶åresponse.getServer()å’ŒoverrideSchemeè¢«é€å…¥å§”æ´¾ç±»DelegatingServiceInstanceä¸­ï¼Œé¡¹ç›®ä¸­ServiceInstanceçš„å®ç°ç±»æ˜¯NacosServiceInstance ç´§æ¥ç€reconstructURI(serviceInstance, uri);è¢«æ‰§è¡Œï¼Œé‡å»ºåçš„URIçš„schemeã€hostã€portéƒ½æ˜¯ä»ServiceInstanceä¸­è·å–çš„ ç”±äºNacosServiceInstanceæ²¡å®ç°getScheme()ï¼Œå› æ­¤è¿›å…¥æ¥å£çš„defaultæ–¹æ³•è¿”å›nullå€¼ org.springframework.cloud.gateway.support.DelegatingServiceInstance#getScheme[76] org.springframework.cloud.client.ServiceInstance#getScheme[71] ç”±äºè·¯ç”±é…ç½®å’ŒæœåŠ¡å®ä¾‹ä¸­éƒ½æ²¡æœ‰å–åˆ°schemeæœ€ç»ˆé€‰å–äº†åŸå§‹URIä¸­çš„scheme org.springframework.cloud.client.loadbalancer.LoadBalancerUriTools#computeScheme NettyRoutingFilterå°†ResponseåŸæ ·é€å‡ºï¼Œåè®®æ˜¯httpså†…å®¹æ˜¯httpï¼Œå› æ­¤å¯¼è‡´åœ¨å»ºç«‹TLSé“¾æ¥æ—¶å‘ç”Ÿäº†å¼‚å¸¸ org.springframework.cloud.gateway.filter.NettyRoutingFilter#filter[147]"},{"title":"å‘ç å¹³å°ç»“æ„è®¾è®¡","path":"å‘ç å¹³å°ç»“æ„è®¾è®¡/","text":"åŒäº‹æ¥åˆ°ä¸ªä»»åŠ¡è¦åšä¸€ä¸ªå‘ç å¹³å°ï¼Œä½†äº§å“æ²¡è¯´æ¸…æ¥šæ€ä¹ˆåšï¼Œä¹Ÿä¸é€ è¦åšæˆä»€ä¹ˆæ ·å­ã€‚è™½ç„¶è·Ÿæˆ‘æ²¡å…³ç³»ï¼Œä½†ç”±äºä¹‹å‰å°±å¯¹å‘ç å¹³å°çš„å®ç°é€»è¾‘æ„Ÿå…´è¶£ï¼Œå› æ­¤åŸºäºå…´è¶£è¿›è¡Œäº†ä¸šåŠ¡è®¾è®¡ï¼Œè¿™é‡Œç®€å•è®°å½•ä¸ªäººçš„ä¸€äº›æƒ³æ³•ã€‚ éœ€æ±‚çŒœæµ‹å¦‚æœåªæ˜¯ä¸ºäº†ä¿è¯å…¬å¸å†…æ‰€æœ‰çš„åˆ¸ç çš„å”¯ä¸€æ€§ï¼Œé‚£æˆ‘è§‰å¾—åšä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨å°±è¶³å¤Ÿäº†ï¼Œåšæˆå¹³å°çº§çš„åŠŸèƒ½æ²¡æœ‰æ„ä¹‰ï¼ŒåŸºäºæ­¤è¿›è¡Œéœ€æ±‚çŒœæµ‹ï¼š å”¯ä¸€æ€§ä¿è¯ï¼šä¿è¯ä¸šåŠ¡å¹³å°å†…åˆ¸ç å”¯ä¸€æ€§ åˆ¸ç ç”Ÿæˆç®¡ç†ï¼šèƒ½æŸ¥çœ‹æ¯ç§ä¼˜æƒ åˆ¸çš„ç”Ÿæˆä»¥åŠä½¿ç”¨æƒ…å†µ æ‰¹é‡ç”Ÿæˆåˆ¸ç ï¼šä¸€æ¬¡è¿”å›é™é‡çš„åˆ¸ç ç»™ä¸šåŠ¡ç«¯ åˆ¸ç æ ¸é”€ï¼šæ ¸é”€å¹¶åŒæ­¥å›è°ƒä¸šåŠ¡ç«¯ã€‚ å”¯ä¸€æ€§ä¿è¯ç¼©çŸ­é›ªèŠ±ä½æ•°è¿™ä¸ªå¥½è¯´ã€‚ä¿è¯å”¯ä¸€æ€§çš„ç®—æ³•å¤šå¾—å¾ˆï¼Œå¬åˆ°è¿™ä¸ªéœ€æ±‚å°±æƒ³åˆ°ä½¿ç”¨é›ªèŠ±IDã€‚ä½†äº§å“å†’å‡ºæ¥è¯´è¦æ±‚åˆ¸ç é•¿åº¦åœ¨10ä½ä»¥å†…ï¼Œè¿™ä¸ªéœ€è¦æ–Ÿé…Œä¸€ä¸‹ã€‚æƒ³äº†ä¸€ä¸‹ï¼Œé›ªèŠ±IDæ˜¯64ä½äºŒè¿›åˆ¶æ•°,å¦‚æœæŠŠbaseæé«˜ï¼Œé‚£ä¹ˆä½æ•°å°±ä¼šä¸‹é™ã€‚éšä¾¿åšä¸ªæµ‹è¯•ï¼š 1234public static void main(String[] args) &#123; System.out.println(Long.toString(SnowflakeIdUtil.generateId(), 32));&#125;// output =&gt; gjnk3gf62400 32è¿›åˆ¶ä¸‹åªæœ‰12ä¸ªå­—ç¬¦äº†ï¼ŒåŠ æŠŠåŠ²æŠŠè¿›åˆ¶å¼„æˆ64è¯•è¯•ï¼š 1234public static void main(String[] args) &#123; System.out.println(Long.toString(SnowflakeIdUtil.generateId(), 64));&#125;// output =&gt; 598684081116483584 è¾“å‡ºå˜æˆåè¿›åˆ¶äº†ï¼Œæ„Ÿè§‰æœ‰é—®é¢˜ï¼Œè¿›å»çœ‹çœ‹ä»£ç ï¼š 12345678java.util.Long: public static String toString(long i, int radix) &#123; // Look Hereï¼ MIN_RADIX = 2 MAX_RADIX = 36 if (radix &lt; Character.MIN_RADIX || radix &gt; Character.MAX_RADIX) radix = 10; if (radix == 10) return toString(i); ...... Longè¿™ä¸ªç±»ä¸­çš„toStringåšäº†é™åˆ¶ï¼Œåªèƒ½å°†numberè¡¨ç¤ºä¸º2-36è¿›åˆ¶ç¼–ç çš„å­—ç¬¦ä¸²,å› ä¸º(0-9)+(a-z)åˆšå¥½36ä¸ªå­—ç¬¦ã€‚è¿™é‡Œæ²¡æœ‰è€ƒè™‘åˆ°å¤§å†™å­—ç¬¦ä¹Ÿå¯ä»¥æ¥åšç¼–ç ï¼Œå¦‚æœåŠ ä¸ŠA-Zçš„å¤§å†™å­—ç¬¦ï¼Œå°±æœ‰62ä¸ªå­—ç¬¦å¯ç”¨ï¼Œå¯ä»¥å°†è¿™ä¸ªlongè¡¨ç¤ºä¸º62è¿›åˆ¶çš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²å†…æ— ç‰¹æ®Šå­—ç¬¦ï¼Œæ—¢å¥½çœ‹åˆä¸ç”¨è€ƒè™‘è½¬ä¹‰ã€‚ æµ‹è¯•Base62ï¼š 12345ä½¿ç”¨hutoolçš„Base62ï¼špublic static void main(String[] args) &#123; System.out.println(Base62.encode(Longs.toByteArray(nextId)));&#125;// output =&gt; iDzwMuZe76 éœ€æ±‚æ»¡è¶³ï¼ ä¸è¿ç»­æ€§è¿™ä¸ªç€å®æœ‰ç‚¹å¤´ç–¼ï¼Œæ€è€ƒäº†ä¸€ä¸‹æŠŠè¿™ä¸ªæ‹†è§£ä¸ºä¸¤ä¸ªéƒ¨åˆ† ä¸šåŠ¡çº¿éš”ç¦»æ€»çš„æ¥è¯´å°±æ˜¯è¦è®©åŒä¸€æ—¶é—´å†…æ¯ä¸ªä¸šåŠ¡çº¿ç”Ÿæˆçš„IDä¸è¿ç»­ï¼Œè¿™æ ·å¯ä»¥å……åˆ†é™ä½æ¯ä¸ªä¸šåŠ¡çº¿ä¹‹é—´åˆ¸ç å†²çªçš„å¯èƒ½æ€§ï¼ˆè™½ç„¶é›ªèŠ±IDæœ¬æ¥å°±ä¸å†²çªï¼Œåªè¦æ—¶é—´ä¸è¢«NTPå›è°ƒï¼‰ã€‚ ä»SnowFlakeç±»æœ¬èº«ç€æ‰‹ï¼Œç”±äºæˆ‘ä»¬åº”ç”¨è·‘åœ¨k8så†…ï¼Œæœ¬èº«å°±æœ‰å…¨ç³»ç»Ÿå”¯ä¸€çš„æ ‡è¯†ï¼Œä¸”å®ä¾‹æ•°ä¹Ÿä¸ä¼šå¤§äº32ï¼Œæ‰€ä»¥è¿™é‡Œè¿‘ä¼¼çš„ä»»åŠ¡SnowFlakeä¸­çš„datacenterIdå’ŒworkIdæ²¡å¿…è¦éƒ½ç”¨ï¼Œè¿™é‡Œå°†å®¹å™¨çš„Idå¯¹32å–ä½™ä½œä¸ºdatacenterId(æ­¤å¤„å¯èƒ½ä¼šå¯¼è‡´å†²çªï¼ŒåæœŸå¯ä»¥ä¸è¿ç»´åå•†ä¸ºå®¹å™¨ç¼–å·ï¼Œè¿™é‡Œä½¿ç”¨ç¼–å·å³å¯)ï¼Œå†å¯¹ä¸šåŠ¡æ–¹æä¾›çš„ä¸šåŠ¡Idå¯¹32å–ä½™ä½œä¸ºworkIdï¼Œè¿™æ ·åŸºæœ¬è¾¾æˆäº†é€šè¿‡ä¸šåŠ¡çº¿éš”ç¦»Idçš„è¦æ±‚ã€‚11101010111101100010010110000000000 åŒä¸€æ‰¹åˆ¸ç éš”ç¦»è™½è¯´åŒä¸€æ‰¹åˆ¸ç ç”Ÿæˆä¹‹é—´ä¸å†²çªï¼Œä½†æ˜¯ç”±äºé›ªèŠ±IDå°¾æ•°æ˜¯ä¸ªåºåˆ—ï¼ŒåŒä¸€æ‰¹åˆ¸ç ç”Ÿæˆå‡ºæ¥å°¾æ•°æ˜¯è¿ç»­çš„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç›¸é‚»çš„åˆ¸ç è¢«ç›—ç”¨ï¼Œå› æ­¤åŒä¸€æ‰¹åˆ¸ç éš”ç¦»ä¹Ÿæ˜¯æœ‰å¿…è¦çš„ã€‚ è¿˜æ˜¯æ‰“ç®—ä»SnowFlakeç±»ç€æ‰‹ï¼Œ64ä½æ•°ï¼Œæ¯ä¸€ä½éƒ½æœ‰ç”¨å¤„ï¼Œå…¶ä¸­æ—¶é—´æˆ³å ç”¨çš„ç©ºé—´æ¯”è¾ƒå¤§ï¼Œå ç”¨äº†æ•´æ•´11ä½ã€‚è¦æƒ³è…¾ç©ºé—´ï¼Œå°±åªæœ‰æ‹¿æ—¶é—´æˆ³å¼€åˆ€äº†ã€‚ é¦–å…ˆæˆ‘ä»¬è®¡ç®—1å¹´çš„æ—¶é—´ç”¨æ—¶é—´æˆ³è¡¨ç¤ºéœ€è¦å¤šé•¿ï¼š 123456789101112131415161718192021æ¯«ç§’*ç§’*åˆ†*æ—¶*å¤©1000*60*60*24*365 = 31536000000 = 0b111010101111011000100101100000000001å¹´æ—¶é—´éœ€è¦35ä¸ªäºŒè¿›åˆ¶ä½è¡¨ç¤ºï¼Œå‰©ä¸‹6ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå¯ä»¥æä¾›å‡º0b111111(64)ä¸ªä½ç½®31536000000*3 = 0b10110000001110001001110000100000000003å¹´çš„æ—¶é—´éœ€è¦37ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºï¼Œå‰©ä¸‹4ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå¯ä»¥æä¾›å¤„0b1111(16)ä¸ªä½ç½®ç»™ç”¨æˆ·çŒœæµ‹31536000000*5 = 0b100100101101100111010111011100000000005å¹´çš„æ—¶é—´éœ€è¦38ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºï¼Œå‰©ä¸‹3ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå¯ä»¥æä¾›å¤„0b111(8)ä¸ªä½ç½®ç»™ç”¨æˆ·çŒœæµ‹æ„Ÿè§‰å·®ä¸å¤šäº†ï¼Œå°±ç”¨38ä¸ªäºŒè¿›åˆ¶ä½:38ä¸ªäºŒè¿›åˆ¶ä½0b11111111111111111111111111111111111111 = 274877906943274877906943/1000/3600/24 çº¦ 3181.46å¤© åˆ 8.7å¹´ å¦‚æ­¤è¿™èˆ¬ï¼Œä¾¿çœä¸‹æ¥3ä¸ªäºŒè¿›åˆ¶ä½å’Œæ—¶é—´æˆ³å‰é¢çš„ç¬¦å·ä½ä¸€èµ·ç»„æˆ4ä¸ªäºŒè¿›åˆ¶ä½ç”¨äºæ”¾çŒœè§£ï¼Œå¯ä»¥æä¾›16ç§ç»„åˆ è¿™é‡Œåæ§½ä¸€ä¸‹ï¼Œè¿™ä¸ªé™åˆ¶10ä½è¦æ±‚å…¨å±€å”¯ä¸€è¦æ±‚ç”Ÿæˆæ€§èƒ½é«˜è¿˜è¦æŠ—çŒœè§£çœŸçš„æœ‰ç‚¹è¿‡åˆ†ï¼Œå½“ç„¶é›ªèŠ±ç®—æ³•ä¹Ÿå¹¶ä¸ç‰¹åˆ«é€‚åˆè¿™ç§åœºæ™¯ï¼Œæœ‰å…¶ä»–å¥½çš„æ–¹æ¡ˆå°±æ›´å¥½äº†ã€‚ åç»­é‡å†™Snowflakeç±»ï¼Œé‡æ–°è®¾ç½®ä½ç§»ä½æ•°å¹¶æ–°å¢æŠ—çŒœè§£ä½æ•°å°±å¯ä»¥äº†ã€‚ ä¸šåŠ¡ä»¥åŠè¡¨ç»“æ„è®¾è®¡è¿™ä¸ªåŠŸèƒ½è¯´æ¥ç®€å•ï¼Œå…¶å®ä¹Ÿæœ‰ä¸æ˜ç¡®çš„ç‚¹ï¼š ä¸€æ¬¡è¦ç”Ÿæˆå¤šå°‘å¼ åˆ¸ï¼Ÿæ¯ä¸€æ‰¹åˆ¸éœ€ä¸éœ€è¦è®°å½•æ‰¹æ¬¡ï¼Ÿ æ˜¯å³æ—¶ç”Ÿæˆè¿˜æ˜¯ä»…è®°å½•æ•°é‡ç”¨æ—¶å†å–ï¼Ÿ éœ€è¦ç®¡ç†ä»€ä¹ˆå­—æ®µï¼Ÿ å°±ä¸ªäººæƒ³æ³•æ¥è¯´ï¼Œå…ˆå‡è®¾æ¯ä¸ªç³»ç»Ÿä¼šæœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œç³»ç»Ÿæ”¶åˆ°é’±åä¼šç”Ÿæˆè®¢å•ï¼Œæ ¹æ®è®¢å•æ•°é¢ï¼Œæ‰¾æœ¬ç³»ç»Ÿæ·»åŠ å¯¹åº”æ•°é‡çš„åˆ¸ç ã€‚ä½†æ˜¯ç”±äºç”Ÿæˆçš„æ•°é‡è¾ƒå¤šï¼Œå› æ­¤åœ¨è¿™é‡Œå¹¶ä¸ä¼šçœŸæ­£åœ°ç”Ÿæˆåˆ¸ç ï¼Œåªä¼šè®°å½•è¯¥ç³»ç»Ÿæ‹¥æœ‰å¯¹åº”æ•°é‡çš„åˆ¸ç é¢åº¦ã€‚éšåè°ƒç”¨è·å–åˆ¸ç æ¥å£æ—¶ï¼Œå†ç”Ÿæˆåˆ¸ç ï¼Œå†é€šè¿‡é™åˆ¶è¯¥æ¥å£çš„è°ƒç”¨é¢‘ç‡å’Œæœ€å¤§åˆ¸ç æ•°æ¥æ§åˆ¶æ€§èƒ½æ¶ˆè€—ã€‚ æœ€ç»ˆäº¤äº’è®¾è®¡å›¾å¦‚ä¸‹ï¼š ç”Ÿæˆç®¡ç†è¡¨è®¾è®¡(çœç•¥å¤§å®¶éƒ½æœ‰çš„å­—æ®µ) generate_manage field(é©¼å³°&#x2F;ä¸‹åˆ’çº¿è„‘å†…è‡ªè¡Œè½¬æ¢) type function id varchar(32) - systemId varchar(32) å…·ä½“ä¸šåŠ¡çº¿Id systemName varchar(128) ä¸šåŠ¡ç³»ç»Ÿåå†—ä½™åœ¨æ­¤é¿å…è¿œç¨‹æŸ¥è¡¨ type varchar(64) è¿™æ‰¹åˆ¸ç çš„ç”Ÿæˆæ–¹å¼(SNOWFLAKE_LITE&#x2F;UUID) total bigint è¯¥æ‰¹æ¬¡æ‹¥æœ‰çš„åˆ¸ç æ€»æ•° current bigint è¯¥æ‰¹æ¬¡å·²ç”Ÿæˆçš„åˆ¸ç æ€»æ•°ï¼ˆä¿è¯åŸå­æ€§ï¼‰ systemName varchar(128) ä¸šåŠ¡ç³»ç»Ÿåå†—ä½™åœ¨æ­¤é¿å…è¿œç¨‹æŸ¥è¡¨ businessTypeTemplate varchar(64) [æ¨¡æ¿]æä¾›ç»™ä¸šåŠ¡æ–¹å­˜å‚¨ä¸šåŠ¡ä¸Šçš„ç±»å‹åœ¨è·å–åˆ¸ç æ—¶å¯ä»¥è¦†ç›–è¯¥å€¼å¯èƒ½æ˜¯ä»¥ååšæŸ¥è¯¢çš„æ¡ä»¶ businessDataTemplate json [æ¨¡æ¿]æä¾›ç»™ä¸šåŠ¡æ–¹å­˜å‚¨è¯¥æ‰¹æ¬¡åˆ¸ç çš„å…¬æœ‰å±æ€§åœ¨è·å–åˆ¸ç æ—¶å¯ä»¥è¦†ç›–è¯¥å€¼åˆ¸ç è¢«æ¶ˆè´¹æ—¶å°†è¿”ç»™ä¸šåŠ¡æ–¹ callbackTemplate json [æ¨¡æ¿]åˆ¸ç è¢«æ¶ˆè´¹å›è°ƒåœ°å€åœ¨è·å–åˆ¸ç æ—¶å¯ä»¥è¦†ç›–è¯¥å€¼ createTime date(3) - ç”Ÿæˆæ“ä½œè®°å½•è¡¨è®¾è®¡(çœç•¥å¤§å®¶éƒ½æœ‰çš„å­—æ®µ) generate_operation field(é©¼å³°&#x2F;ä¸‹åˆ’çº¿è„‘å†…è‡ªè¡Œè½¬æ¢) type function id varchar(32) - manageId varchar(32) å…³è”generate_manage total bigint è¯¥æ‰¹æ¬¡æ‹¥æœ‰çš„åˆ¸ç æ€»æ•° original bigint æ¶ˆè´¹å‰æ•°é‡ consumption bigint æœ¬æ¬¡æ¶ˆè´¹æ•°é‡ remaining bigint å‰©ä½™æ¶ˆè´¹æ•°é‡ createTime date(3) - åˆ¸ç è¡¨è®¾è®¡ coupon field(é©¼å³°&#x2F;ä¸‹åˆ’çº¿è„‘å†…è‡ªè¡Œè½¬æ¢) type function id varchar(32) - manageId varchar(32) å…³è” generate_manage operationId varchar(32) å…³è” generate_operation systemId varchar(32) [å†—ä½™ä»¥é¿å…è¿è¡¨]å…·ä½“ä¸šåŠ¡çº¿Id systemName varchar(128) [å†—ä½™ä»¥é¿å…è¿è¡¨]ä¸šåŠ¡ç³»ç»Ÿåå†—ä½™åœ¨æ­¤é¿å…è¿œç¨‹æŸ¥è¡¨ generateTime date(3) [å†—ä½™ä»¥é¿å…è¿è¡¨]åˆ¸ç ç”Ÿæˆæ—¶é—´ code varchar(32) è¿™ä¸ªæ‰æ˜¯åˆ¸ç  businessType varchar(32) æä¾›ç»™ä¸šåŠ¡æ–¹å­˜å‚¨ä¸šåŠ¡ä¸Šçš„ç±»å‹å¯èƒ½æ˜¯ä»¥ååšæŸ¥è¯¢çš„æ¡ä»¶ businessData json æä¾›ç»™ä¸šåŠ¡æ–¹å­˜å‚¨è¯¥æ‰¹æ¬¡åˆ¸ç çš„å…¬æœ‰å±æ€§åˆ¸ç è¢«æ¶ˆè´¹æ—¶å°†è¿”ç»™ä¸šåŠ¡æ–¹ callback json åˆ¸ç è¢«æ¶ˆè´¹å›è°ƒåœ°å€ï¼Œæ ¼å¼ä¸ºmapä¸ºå‡çº§é¢„ç•™ç©ºé—´Map&lt;String callbackUrl,String callbackVersion&gt; createTime date(3) - ç”Ÿæˆ&#x2F;è·å–åˆ¸ç APIrequest field(é©¼å³°&#x2F;ä¸‹åˆ’çº¿è„‘å†…è‡ªè¡Œè½¬æ¢) type function manageId String å…³è” generate_manage businessType String â€” businessData JSONObject â€” callback Map&lt;String,String&gt; â€” response field(é©¼å³°&#x2F;ä¸‹åˆ’çº¿è„‘å†…è‡ªè¡Œè½¬æ¢) type function operation GenerateOperation coupons List&lt;Coupon&gt;"},{"title":"å®šåˆ¶Jacksonæ³¨è§£å®ç°å­—æ®µè„±æ•","path":"å®šåˆ¶jacksonæ³¨è§£/","text":"åŠŸèƒ½åœ¨ä¿è¯jacksonåŸæ³¨è§£ä¸å¤±æ•ˆçš„å‰æä¸‹ï¼Œé€šè¿‡è‡ªå®šä¹‰æ³¨è§£å¯¹POJOä¸­éƒ¨åˆ†æŒ‡å®šçš„å­—æ®µè¿›è¡Œè‡ªå®šä¹‰å¤„ç† å®Œæˆæ ·å¼1234567891011121314151617181920212223242526272829public class Test &#123; public static void main(String[] args) throws JsonProcessingException &#123; ObjectMapper objectMapper = new ObjectMapper(); objectMapper.setAnnotationIntrospector(new EnhanceJacksonAnnotationIntrospector()); A a = new A(); a.setAge(10); a.setName(&quot;ASDASDASD&quot;); a.setRemark(&quot;REMARK!&quot;); a.setMobile(&quot;17600000000&quot;); System.out.println(objectMapper.writeValueAsString(a)); &#125; @Data static class A &#123; private String name; private Integer age; private String remark; @JsonMask(a = &quot;&quot;,b = &quot;&quot;,c = &quot;&quot;) private String mobile; &#125;&#125; è¿è¡Œç»“æœ1&#123;&quot;name&quot;:&quot;ASDASDASD&quot;,&quot;age&quot;:10,&quot;remark&quot;:&quot;REMARK!&quot;,&quot;mobile&quot;:&quot;1760****000&quot;&#125; æ ¸å¿ƒé€»è¾‘å®ç°é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œæ ¸å¿ƒç±»åªæœ‰ä¸¤ä¸ª: Jacksonæ³¨è§£æ‹¦æˆªå™¨ com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector Jsonåºåˆ—åŒ–å™¨ com.fasterxml.jackson.databind.JsonSerializer Jacksonåºåˆ—åŒ–é€»è¾‘: é¦–å…ˆçœ‹åˆ°è¿™é‡Œcom.fasterxml.jackson.databind.ObjectMapper#_configAndWriteValueï¼Œè¿™ä¸ªæ–¹æ³•æ ¹æ®objectMapperå®ä¾‹ä¸­çš„configåˆ›å»ºå¯¹åº”çš„JsonGeneratorå¹¶åºåˆ—åŒ–valueã€‚ è¿½è¸ªåˆ°com.fasterxml.jackson.databind.ser.DefaultSerializerProvider#serializeValueæ ¹æ®æºç å¯çŸ¥ï¼Œåœ¨åºåˆ—åŒ–æ—¶ä½¿ç”¨å“ªä¸ªJsonSerializeræ˜¯ç”±com.fasterxml.jackson.databind.SerializerProvider#findTypedValueSerializerå†³å®šçš„ï¼ŒSerializerProvider.findTypedValueSerializerå°±æ˜¯åºåˆ—åŒ–å™¨æä¾›è€….æ ¹æ®valueç±»å‹æŸ¥æ‰¾åºåˆ—åŒ–å™¨ã€‚ !(ä¸‰å¥æºç æ³¨é‡Š)[]æ ¹æ®ä¸‰å¥æºç æ³¨é‡Šå¯çŸ¥ï¼Œjacksonåœ¨è¿™é‡Œç»´æŠ¤äº†ä¸€ä¸ªæœ¬åœ°ç¼“å­˜ä¸€ä¸ªå…±äº«ç¼“å­˜ï¼Œåœ¨ä¸¤ä¸ªç¼“å­˜éƒ½æ²¡æ‰¾åˆ°çš„æ—¶å€™å†é€šè¿‡com.fasterxml.jackson.databind.SerializerProvider#findValueSerializerè·å–æ–°çš„åºåˆ—åŒ–å™¨å¹¶å­˜å…¥ç¼“å­˜ã€‚ è¿›å…¥åˆ°com.fasterxml.jackson.databind.SerializerProvider#findValueSerializerå†…éƒ¨ï¼Œå†æ¬¡è¿›è¡Œäº†ç¼“å­˜æŸ¥æ‰¾ï¼Œåœ¨éƒ½æ²¡æœ‰å‘½ä¸­çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨com.fasterxml.jackson.databind.SerializerProvider[521]çš„_createAndCacheUntypedSerializerå»åˆ›å»ºåºåˆ—åŒ–å™¨ã€‚ å¿«è¿›åˆ°com.fasterxml.jackson.databind.ser.BeanSerializerFactory#createSerializer,è¿™é‡Œæ˜¯æ„å»ºåºåˆ—åŒ–å™¨çš„çœŸå®é€»è¾‘ã€‚æ³¨æ„ä¸‹findSerializerFromAnnotation(prov, beanDesc.getClassInfo())è¿™ä¸ªæ–¹æ³•ï¼Œæ ¹æ®æ–¹æ³•åç›´è¯‘å°±æ˜¯æ ¹æ®æ³¨è§£è·å–åºåˆ—åŒ–å™¨ã€‚ è¿›å…¥åˆ°com.fasterxml.jackson.databind.ser.BasicSerializerFactory#findSerializerFromAnnotationå†…éƒ¨ï¼Œå‘ç°Jacksonè·å–åºåˆ—åŒ–å™¨åˆ†ä¸ºä¸¤æ­¥: è°ƒç”¨prov.getAnnotationIntrospector().findSerializer(a)æ‰¾åˆ°åºåˆ—åŒ–å™¨çš„classï¼Œéšååœ¨prov.serializerInstance(a, serDef)ä¸­å®ä¾‹åŒ–æ”¹åºåˆ—åŒ–å™¨ è°ƒç”¨prov.getAnnotationIntrospector().findSerializer(a)ç›´æ¥è·å–JsonSerializerç±»å‹çš„å®ä¾‹ï¼Œéšååœ¨prov.serializerInstance(a, serDef)ä¸­å¼ºè½¬ä¸ºJsonSerializer&lt;?&gt; å¿«è¿›åˆ°com.fasterxml.jackson.databind.AnnotationIntrospector#findSerializerï¼Œè¿™é‡Œå…·ä½“ä½¿ç”¨çš„æ˜¯JacksonAnnotationIntrospectorç±»ã€‚è¿™ä¸ªç±»ä¸­å®šä¹‰äº†jacksonä¸­çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœ‰å…³çš„æ³¨è§£åŠå…¶å¯¹åº”çš„å¤„ç†æ–¹å¼ã€‚ è¿›å…¥åˆ°com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector.findSerializerï¼Œå‘ç°è¿™é‡Œå¤„ç†äº†ä¸¤ä¸ªæ³¨è§£@JsonSerializeã€@JsonRawValueï¼Œæ‰¾åˆ°æ³¨è§£çš„æƒ…å†µä¸‹newå‡ºäº†å¯¹åº”çš„åºåˆ—åŒ–å™¨ï¼Œæ²¡æœ‰æ‰¾åˆ°ä»»ä½•æ³¨è§£è¿”å›äº†nullã€‚ åˆ°æ­¤ä¸ºæ­¢&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; æ ¹æ®ä¸Šé¢æ•´ç†çš„é€»è¾‘ã€‚è¦æƒ³jacksonå¤„ç†è‡ªå®šä¹‰æ³¨è§£ï¼Œå°±å¿…é¡»ç»™jacksoné…ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„AnnotationIntrospectorï¼Œå¦‚æœè¿™é‡Œæ‰‹åŠ¨å®ç°AnnotationIntrospectoræ¥å£ï¼Œé‚£ä¹ˆjacksonè‡ªå¸¦çš„æ³¨è§£éƒ½ä¼šå¤±æ•ˆï¼Œå› æ­¤é€‰æ‹©ç»§æ‰¿åŸæœ‰çš„JacksonAnnotationIntrospectorç±»ã€‚åœ¨è¿™ä¸ªç±»ä¸­ï¼Œå¯ä»¥é€šè¿‡è¿”å›ä¸åŒçš„åºåˆ—åŒ–å™¨æ¥æ§åˆ¶åºåˆ—åŒ–çš„å…·ä½“è¡Œä¸ºï¼Œå…¶æ–¹æ³•å…¥å‚Annotatedç±»å®é™…ä¸Šæ˜¯å¯¹è¢«åºåˆ—åŒ–å­—æ®µçš„ç±»å‹çš„åŒ…è£…ã€‚ä½†æ³¨æ„ï¼Œåœ¨AnnotationIntrospectorä¸­æ˜¯æ— æ³•æ‹¿åˆ°è¢«åºåˆ—åŒ–çš„å€¼æœ¬èº«çš„ï¼Œåªèƒ½æ‹¿åˆ°å­—æ®µçš„ç›¸å…³ä¿¡æ¯ã€‚ é‡å†™é‡å†™JacksonAnnotationIntrospector å¢å¼ºJacksonæ³¨è§£å¤„ç†å™¨1234567891011121314151617181920212223242526272829/** * &lt;h2&gt;å¢å¼ºJacksonæ³¨è§£å¤„ç†å™¨&lt;/h2&gt; * * @author Daizc-kl * @date 2020/12/9 17:27 */public class EnhanceJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector &#123; @Override public Object findSerializer(Annotated a) &#123; // è°ƒç”¨çˆ¶ç±»é€»è¾‘ä¿è¯åŸæ³¨è§£ç»§ç»­ç”Ÿæ•ˆ Object serializer = super.findSerializer(a); // JacksonåŸè£…è¿›å£æ³¨è§£ä¼˜å…ˆ if (serializer == null) &#123; // åªå¯¹Getterç”Ÿæ•ˆ if (a instanceof AnnotatedMethod) &#123; // è¿”å›å€¼ç±»å‹ä¸ºString if (a.getType().getRawClass().equals(String.class)) &#123; // å¤´ä¸Šæœ‰MaskPropertyæ³¨è§£ JsonMask jsonMask = a.getAnnotation(JsonMask.class); if (null != jsonMask) &#123; // å®ä¾‹åŒ–å‡ºè‡ªå·±çš„åºåˆ—åŒ–å™¨å¹¶è¿”å› return new MaskMethodSerializer(jsonMask); &#125; &#125; &#125; &#125; return serializer; &#125;&#125; é‡å†™JsonSerializer åºåˆ—åŒ–å™¨12345678910111213141516171819202122/** * &lt;h2&gt;xxxæ–¹æ³•åºåˆ—åŒ–å™¨&lt;/h2&gt; * * @author Daizc-kl * @date 2020/12/9 18:23 */public class MaskMethodSerializer extends JsonSerializer&lt;String&gt; &#123; // å­—æ®µä¸Šçš„æ³¨è§£æœ¬èº« private final JsonMask jsonMask; public MaskMethodSerializer(JsonMask jsonMask) &#123; this.jsonMask = jsonMask; &#125; @Override public void serialize(String value, JsonGenerator gen, SerializerProvider serializers) throws IOException &#123; // è‡ªå®šä¹‰åºåˆ—åŒ–è¡Œä¸º // ç•¥...... gen.writeString(&quot;...æœ€ç»ˆè¾“å‡ºçš„å­—ç¬¦ä¸²...&quot;); &#125;&#125;"},{"title":"[ESP8266]02_LuaåŸºç¡€","path":"[ESP8266]02_LuaåŸºç¡€/","text":""},{"title":"[ESP8266]01_åˆ·å†™æµ‹è¯•ATå›ºä»¶","path":"[ESP8266]01_åˆ·å†™æµ‹è¯•ATå›ºä»¶/","text":""},{"title":"æ”¹é€ Spring-data-redis ä¼˜é›…è®¾ç½®è¿‡æœŸæ—¶é—´","path":"æ”¹é€ Spring-data-redis/","text":"Spring-data-redisæ˜¯ä¸€ä¸ªæ¯”è¾ƒä¼˜é›…çš„ç¼“å­˜è§£å†³æ–¹æ¡ˆï¼Œåªéœ€è¦åœ¨å¯¹åº”çš„æ–¹æ³•ä¸Šæ‰“ä¸Šæ³¨è§£å°±å¯ä»¥ä¾¿æ·çš„å°†æ•°æ®æ”¾å…¥redisã€‚ ä½†Spring-data-redisä¸­é…ç½®TTLåªèƒ½æŒ‰ç…§cacheNameçš„ç»´åº¦è¿›è¡Œé…ç½®ï¼Œå¹¶ä¸èƒ½ç²¾ç¡®åˆ°å…·ä½“çš„æ¥å£ä¸Šã€‚ æ¯”å¦‚ä»¥ä¸‹éœ€æ±‚å°±ä¸èƒ½ä¼˜é›…çš„å®ç°ï¼š 1234567891011121314public interface CacheDemo&#123; // è¿™ä¸ªæ¥å£åªç¼“å­˜30min @Cacheable(value = &quot;user&quot;, keyGenerator = &quot;xxxx&quot;) List&lt;User&gt; listByQuery(UserQuery query); // è¿™ä¸ªæ¥å£åªç¼“å­˜1min @Cacheable(value = &quot;user&quot;, keyGenerator = &quot;xxxx&quot;) List&lt;User&gt; takeUserFromObj(Object obj); // è¿™ä¸ªæ¥å£ç¼“å­˜180min @Cacheable(value = &quot;user&quot;, keyGenerator = &quot;xxxx&quot;) List&lt;User&gt; getByUserId(String userId);&#125; è¿™ç¯‡æ–‡ç« å°±å°†ä»¥å®šåˆ¶Cacheå…·ä½“å®ç°ç±»çš„æ–¹å¼ä¼˜é›…çš„å®ç°è¿™ä¸ªåŠŸèƒ½."},{"title":"Death_Standing","path":"Death_Standing/","text":"å‰è¨€ ä¸‰ä¸ªæœˆå‰ã€Šæ­»äº¡ææµ…ã€‹å‘å”®æ—¶ï¼Œæ²¡æœ‰äººæƒ³åˆ°é‡Œé¢è¿‘æœªæ¥çš„ä¸–ç•Œè§‚ï¼Œä¼šæˆä¸ºä¸­å›½å½“ä¸‹çš„ç°å®ã€‚å„åœ°é™åˆ¶äº¤é€šï¼Œå°åŸæ–­è·¯ï¼Œæˆ‘ä»¬æˆäº†United Cities of Chinaã€‚äººä»¬ç¦»ç¾¤ç´¢å±…ï¼Œææƒ§æ— å£°è”“å»¶ï¼Œç—…æ¯’æœ‰å¦‚å¤©ä¸Šæ·…æ·…æ²¥æ²¥çš„æ—¶é—´é›¨ï¼Œåå™¬ç€å¸Œæœ›å’Œå¿«ä¹ã€‚ä¸€æ—¦æ­»å»ï¼Œå°¸ä½“å¿…é¡»é©¬ä¸Šå°±è¿‘ç«åŒ–ï¼Œç”Ÿè€…æ— æ³•ä¸¾è¡Œä»»ä½•ä»ªå¼ã€‚å°±è¿æŠ¢å¤ºè´§ç‰©å›¤ç§¯åœ¨è‡ªå·±è¥åœ°çš„ç±³å°”äººä¹ŸçœŸå®åœ°è¿˜åŸäº†ã€‚å¿«é€’å‘˜å­¤ç‹¬åœ°åœ¨è·¯ä¸Šå¥”æ³¢ç€ï¼Œé€è¯ç‰©ï¼Œé€å£ç½©ï¼Œé€é£Ÿå“â€”â€”ä¸€å¦‚æ¸¸æˆé‡Œçš„æŠ«è¨å’Œé¦™æ§Ÿã€‚è´§ç‰©è¢«ç•™åœ¨å†·å†°å†°çš„ä¸°å·¢ï¼Œå°åŒºé—¨å£çš„æ¡Œå­ä¸Šã€‚å› ä¸ºæ²¡æœ‰3DæŠ•å½±ï¼Œä¸‹å•çš„äººä»¬ç”šè‡³ä¸èƒ½å’Œå¿«é€’å‘˜è¯´ä¸€å¥èµç¾å’Œæ„Ÿè°¢ã€‚ä¸çŸ¥é“è¿™æ ·çš„æ—¥å­è¿˜è¦è¿‡å¤šä¹…ï¼Œå¦‚æœæœ‰PS4ï¼Œä¸å¦¨ä¹°ä¸€ä»½ã€Šæ­»äº¡ææµ…ã€‹ï¼Œæ„Ÿå—ä¸€ä¸‹å¦ä¸€ä¸ªç›¸ä¼¼çš„ä¸–ç•Œã€‚å³ä½¿åœ¨æœ€å†°å†·å’Œå­¤ç‹¬çš„è’é‡ï¼Œä¹Ÿèƒ½å“èµ·Low Roarçš„æ­Œã€‚â€”â€”â€”è½¬è‡ªweibo:lilimarleen å…ˆå¹ä¸€æ³¢ ä¸–ç•Œè§‚åºå¤§ä¸”ä¸¥è°¨ï¼Œéšç€ä¸»çº¿æ¨è¿›é€æ¸è§£é”ä¸–ç•Œçš„çœŸç›¸ã€‚ æ¸¸æˆå†…å®¹é‡å¤ä½†å´ä¸æ¯ç‡¥ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªä»»åŠ¡ï¼Œä¹Ÿæœ‰æ— æ•°ç§ä¸åŒçš„å®Œæˆæ–¹å¼ã€‚ ä¼˜ç¾çš„é£æ™¯è¾…ä»¥æ‚ æ‰¬çš„éŸ³ä¹å®åœ¨æ˜¯ç”»é¾™ç‚¹ç›ä¹‹ç”¨ã€‚ æ‰€æœ‰å‡ºåœºçš„äººç‰©è§’è‰²éƒ½æ˜¯æ ¹æ®çœŸäºº3Då»ºæ¨¡çš„ï¼Œåœ¨å‰§æƒ…ä¸­æœ‰å¾ˆå¤§çš„ä»£å…¥æ„Ÿã€‚ ä¸è¶³ä¹‹å¤„ é¡½äººçš„ä¼ç¬”è¿˜æ²¡æ”¶å‘¢ï¼Œæ˜¯è¦å‡ºç»­ä½œçš„èŠ‚å¥ï¼Ÿ éš¾åº¦è®¾ç½®ä¸å‡è¡¡ï¼Œå‰ä¸‰ç« ç¼ºä¹æœ‰æ•ˆæŠ—BTæ­¦å™¨ï¼ˆå…¶å®å‰ä¸‰ç« éƒ½æ˜¯æ–°æ‰‹æ•™ç¨‹ï¼ŒçœŸå®çš„èµ°è·¯æ¨¡æ‹Ÿå™¨ï¼‰ï¼Œå®¹æ˜“åŠé€€æ–°ç©å®¶ã€‚å·¦ä¸‹é›ªå±±åŒºéš¾åº¦ä¹Ÿååˆ†åŠé€€ã€‚ ç¼ºä¹äº’åŠ¨æ€§ï¼Œè¯¥ä½œåªèƒ½ä¸å…¶ä»–ç©å®¶å»ºé€ çš„å»ºç­‘äº’åŠ¨ï¼Œæ— æ³•å’Œå…¶ä»–å¿«é€’å‘˜ä¸€èµ·é£™è½¦è¿˜æ˜¯è›®é—æ†¾çš„ã€‚ å°å½©è›‹ åœ¨ç‚¹èµæ•°æ¯”è¾ƒå¤šçš„å°çŸ³å †ä¼‘æ¯ä¼šåŠ å¿«ä½“åŠ›æ¢å¤é€Ÿåº¦ã€‚ åœ¨ç‚¹èµæ•°æ¯”è¾ƒå¤šçš„è˜‘è‡å †æ—èƒ½æ‰åˆ°éšç”Ÿè™«ï¼Œæ‰å®Œè®°å¾—æµ‡èŠ±ã€‚ åœ¨ç‚¹èµæ•°æ¯”è¾ƒå¤šçš„å°çŸ³å †å’Œè˜‘è‡å †æ—å‘¼å–Šèƒ½å¤Ÿå¾—åˆ°ä¸æ˜äººå‘˜çš„å›åº”å’Œç¥ç¦ï¼ è¿é€mamaå’Œå¼€ç½—å°”è‰ºæœ¯å®¶çš„æ—¶å€™å¯ä»¥ç»•é“å’Œå¦¹å­ä¸€èµ·å»æ³¡æ¸©æ³‰ï¼ï¼ å¦‚æœåœ¨ç”Ÿæ—¥é‚£å¤©é€å¿«é€’ï¼Œå¯¹å‘¨å›´å‘¼å–Šæ—¶ä¼šæœ‰ä¸æ˜äººå‘˜ç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼ï¼ï¼ ç™½é‡‘æ„Ÿè¨€æ•´ä¸ªä½œå“ç»™äººæœ€å¤§çš„å°è±¡å°±æ˜¯å¹²å‡€ã€‚å‰§æƒ…ä¸­æœ‰ä¸€ä¸ªç›¸å½“é‡è¦çš„æ„è±¡ï¼šç»³å­ã€‚ç»³å­è±¡å¾ç€è¿æ¥ï¼Œå°†å„åœ°å­¤ç«‹æ— æ´çš„äººä»¬è¿åœ¨ä¸€èµ·ã€äº’ç›¸å¸®åŠ©ï¼Œå…±åŒå¯¹æŠ—æœ«æ—¥ã€‚è€Œæ•´éƒ¨æ¸¸æˆæ›´æ˜¯å®£æ‰¬çš„äººæ€§è‡³å–„,ä¸ç®¡èµ°åˆ°å“ªé‡Œï¼Œéƒ½ä¼šå¾—åˆ°å…¶ä»–ç©å®¶çš„å¸®åŠ©ï¼Œåªè¦å¸®åŠ©è¿‡åˆ«äººï¼Œä¾¿èƒ½æ”¶è·ä»–äººçš„èµèµä¸æ¿€åŠ±ã€‚è¿™ç§å—åˆ°ä»–äººèµç¾ä¸æ„Ÿè°¢çš„æ„Ÿè§‰çœŸæ˜¯ä»¤äººæ²‰è¿·å…¶ä¸­ã€‚ è¿™æ¬¾æ¸¸æˆçš„ç¥å¥‡ä¹‹å¤„å°±åœ¨äºï¼šå¹¶éç©å®¶æŒ‘é€‰æ¸¸æˆï¼Œè€Œæ˜¯è®©æ¸¸æˆæ¥æŒ‘é€‰ç©å®¶ï¼ å¯¹äºä¹ æƒ¯äºå¿«èŠ‚å¥å¯¹æŠ—çš„ç©å®¶æ¥è¯´ï¼Œè¿™æ¬¾æ¸¸æˆææœ‰å¯èƒ½ä¸ä»–ä»¬æ— ç¼˜â€”â€”è¢«åŠé€€äºå‰ä¸¤ç« çš„æ–°æ‰‹æ•™ç¨‹ï¼Œè€Œç•™å­˜ä¸‹æ¥çš„ç©å®¶åˆ™æ˜¯é€‚åˆæ…¢èŠ‚å¥å¤§ç‰‡æ—¶é—´æ¸¸ç©çš„ç©å®¶ï¼Œåªæœ‰è¢«ç­›é€‰å‡ºæ¥çš„ç©å®¶æ‰æœ‰æœºä¼šå°½æƒ…äº«å—è¿™æ¬¾æ¸¸æˆå¸¦æ¥çš„éœ‡æ’¼ä¸æ„ŸåŠ¨ã€‚ ä¸€å¥è¯æ€»ç»“è¿™ä¸ªä½œå“å‰æ— å¤äººï¼Œä¸çŸ¥é“åæ˜¯å¦æœ‰æ¥è€…ã€‚"},{"title":"java8å‡½æ•°è®¾è®¡[1]-åœ¨filterä¸­æ ¹æ®Keyå»é‡çš„å‡½æ•°","path":"java8å‡½æ•°è®¾è®¡[1]-åœ¨filterä¸­æ ¹æ®Keyå»é‡çš„å‡½æ•°/","text":"å‡½æ•°æ¥å£æ˜¯å¦‚ä½•å†™å‡ºæ¥çš„ï¼Ÿ javaå‡½æ•°æ¥å£è®¾è®¡åœ¨filterä¸­æ ¹æ®Keyå»é‡çš„å‡½æ•° StreamUtil.distinctByKey()å…·ä½“ä½¿ç”¨æ–¹æ³• è¯¥å‡½æ•°ç”¨äºåœ¨filterä¸­æ ¹æ®ä¼ å…¥å‚æ•°çš„æŸä¸€å±æ€§è¿›è¡Œè¿‡æ»¤ï¼Œä»¥ä¿è¯åœ¨æ”¶é›†ä¸ºmapçš„æƒ…å†µä¸‹ä¸ä¼šå‡ºç°é‡å¤ä¸»é”® 1234List&lt;entry&lt;string, string=&quot;&quot;&gt;&amp;gt; simpleList = baseProjects.stream() .filter(StreamUtil.distinctByKey(BaseProject::getTypeDic)) .map(StreamUtil.entry(BaseProject::getTypeDic, BaseProject::getTypeStr)) .collect(Collectors.toList()); æ¥å£è®¾è®¡123456789101112/** * &lt;h3&gt;distinctByKey&lt;/h3&gt; * &lt;p&gt;å¯ç”¨äºåœ¨filterä¸­æ ¹æ®å±æ€§è¿‡æ»¤&lt;/p&gt; * * @param function æ¥å—ä¸€ä¸ª æ¥å— ç±»å‹A è¿”å› ç±»å‹B çš„å‡½æ•°å¼æ¥å£ * @return Predicate è¿”å›ä¸€ä¸ª æ¥å— ç±»å‹A è¿”å› Booleanå‹ çš„å‡½æ•°å¼æ¥å£ */public static &lt;t&gt; Predicate&lt;t&gt; distinctByKey(Function&lt;!--? super T, ?--&gt; function) &#123; Map filterMap = Maps.newConcurrentMap(); return t -&amp;gt; filterMap.putIfAbsent(function.apply(t), Boolean.TRUE) == null;&#125; è®¾è®¡æ€è·¯ è§‚å¯ŸStream.filter()æ¥å£ å¯¹æ¥Stream.filter()æ¥å£ å®ç°å»é‡åŠŸèƒ½ å‚æ•°ä¼˜åŒ– å¼€å§‹ç¼–å†™è§‚å¯ŸStream.filter()æ¥å£ &amp;&amp; å¯¹æ¥Stream.filter()æ¥å£ Stream.filter()æ¥å£:Stream&lt;t&gt; filter(Predicate&lt;!--? super T--&gt; predicate) é¦–å…ˆå¯ä»¥çœ‹åˆ°filteræ¥å£éœ€è¦æ¥æ”¶ä¸€ä¸ªç±»å‹ä¸ºPredicate&lt;!--? super T--&gt;çš„å‡½æ•°,è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°è¿”å›ä¸€ä¸ªbooleanç±»å‹ã€‚ æ ¹æ®ä»¥ä¸Šä¿¡æ¯å…ˆå†™ä¸€ä¸ªå‡½æ•°å‡ºæ¥ 123456789public static &lt;e&gt; Predicate&lt;e&gt; distinctByKey2() &#123; return new Predicate&lt;e&gt;() &#123; @Override public boolean test(E e) &#123; return false; &#125; &#125;; &#125; è¿™ä¸ªå‡½æ•°è™½ç„¶å¯ä»¥è¢«filteræ­£å¸¸æ¥æ”¶ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰å½¢å‚ï¼Œå› æ­¤æ— æ³•ä¼ é€’å‚æ•° 123456public static void main(String[] args) &#123; Lists.newArrayList() .stream() .filter(StreamUtil.distinctByKey2()) .collect(Collectors.toList()); &#125; ç°åœ¨ä¸é¢„æœŸçš„æ•ˆæœæ¯”å¯¹ä¸€ä¸‹ å¯¹æ¯” å‡½æ•° ç›®å‰æ•ˆæœ .filter(StreamUtil.distinctByKey2()) é¢„æœŸçš„æ•ˆæœ .filter(StreamUtil.distinctByKey2(Xxxxx:getId)) æœ‰ç‚¹ä¸å¯¹ï¼Ÿï¼è¿™ä¸ªå‡½æ•°è™½ç„¶å¯ä»¥è¢«filteræ­£å¸¸æ¥æ”¶ï¼Œä½†æ˜¯å»æ— æ³•ä¼ å…¥å‚æ•°ã€‚å› æ­¤è¦ç»™distinctByKey2()æ–¹æ³•åŠ ä¸Šä¼ å…¥çš„å‚æ•°ã€‚ é€šè¿‡è§‚å¯Ÿé¢„æœŸæ•ˆæœï¼Œæ˜¯éœ€è¦ä¼ å…¥çš„å‚æ•°åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°çš„ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªTç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªä¸çŸ¥é“ä»€ä¹ˆç±»å‹çš„å‚æ•°ã€‚ Function&lt;t, r=&quot;&quot;&gt;å‡½æ•°æ¥æ”¶ä¸€ä¸ªTç±»å‹ï¼Œè¿”å›ä¸€ä¸ªRç±»å‹ï¼Œå¯ä»¥æ»¡è¶³è¿™ä¸ªéœ€æ±‚ã€‚ ç»§ç»­è§‚å¯Ÿé¢„æœŸæ•ˆæœï¼Œè¿™ä¸ªä¸çŸ¥é“ä»€ä¹ˆç±»å‹çš„å‚æ•°å®é™…ä¸Šå°±æ˜¯distinctByKey2æ–¹æ³•ä¸­newå‡ºæ¥Predicate&lt;e&gt;#test(E e)ä¸­çš„é‚£ä¸ªeï¼Œè¯´äººè¯å°±æ˜¯Function&lt;t,r&gt;ä¸­çš„Råœ¨æ­¤å¤„å°±æ˜¯Predicate&lt;e&gt;ä¸­çš„Eã€‚ é‚£ä¹ˆè¡¥ä¸Šæˆ‘ä»¬çš„å½¢å‚ 123456789public static &lt;e,r&gt; Predicate&lt;e&gt; distinctByKey2(Function&lt;e,r&gt; function) &#123; return new Predicate&lt;e&gt;() &#123; @Override public boolean test(E t) &#123; return false; &#125; &#125;; &#125; å®ç°å»é‡åŠŸèƒ½ç°åœ¨ä¸é¢„æœŸæ•ˆæœä¸€è‡´äº†ï¼Œéœ€è¦å®ç°å»é‡åŠŸèƒ½ å»é‡åŠŸèƒ½å¯ä»¥ç”¨Setæˆ–è€…ConcurrentMapå®ç°ä½¿ç”¨ConcurrentMapå­˜å‚¨functionè¿”å›å€¼çš„çŠ¶æ€æ ¹æ®ConcurrentMap.putIfAbsent(xxx)çš„ç‰¹æ€§ å¦‚æœmapä¸­å·²ç»æœ‰åŒæ ·çš„keyå’Œvalueå°±è¿”å›nullï¼Œæ ¹æ®è¿”å›å€¼æ˜¯å¦ä¸ºnullæ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è¢«è¿‡æ»¤ 12345678910111213141516public static &lt;e,r&gt; Predicate&lt;e&gt; distinctByKey2(Function&lt;e,r&gt; function) &#123; Map filterMap = Maps.newConcurrentMap(); return new Predicate&lt;e&gt;() &#123; @Override public boolean test(E t) &#123; // è°ƒç”¨æ–¹ä¼ å…¥å‡½æ•°çš„ç»“æœ R apply = function.apply(t); // putIfAbsent åœ¨é¦–æ¬¡å…³è”K,Væ—¶è¿”å›null éé¦–æ¬¡çš„æ—¶å€™ä¸æ‰§è¡Œput()æ–¹æ³• ç›´æ¥è¿”å›ä¹‹å‰çš„å€¼ Boolean isNullIsDuplicate = filterMap.putIfAbsent(apply, Boolean.TRUE); // isNullIsDuplicate==nullæ—¶ Kå°±æ²¡é‡å¤ å‡½æ•°è¿”å›true return isNullIsDuplicate == null; &#125; &#125;; &#125; å‚æ•°ä¼˜åŒ–æŠŠåŒ¿åå†…éƒ¨ç±»ä½¿ç”¨lambdaæ›¿æ¢æ‰ï¼Œåœ¨æŠŠå†—ä½™ä»£ç inlineï¼Œæœ€åè°ƒæ•´ä¸€ä¸‹æ³›å‹å‚æ•° åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­`Function&lt;e,r&gt;`ä¸­ Ræ˜¯è°ƒç”¨è€…å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œä»…ä»…è¢«å½“åškeyä½¿ç”¨ï¼Œæœ¬èº«æ˜¯ä»€ä¹ˆç±»å‹ä¸é‡è¦ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å»æ‰è¿™ä¸ªRæ³›å‹ï¼Œç”±?ä»£æ›¿ Eæ˜¯è°ƒç”¨è€…å‡½æ•°çš„å½¢å‚ç±»å‹ï¼Œå‡½æ•°è°ƒç”¨æ–¹åœ¨å‡½æ•°ä¸­å¯èƒ½ä¼šæ˜¾å¼å£°æ˜å‚æ•°ç±»å‹`[æ³¨1]`ï¼Œä»¥è¾¾åˆ°å¼ºè½¬å½¢å‚ç±»å‹çš„ç›®çš„ï¼Œå› æ­¤å°†Eä¿®æ”¹ä¸º &lt;!--? super E--&gt; 1234567891011121314public static &lt;e&gt; Predicate&lt;e&gt; distinctByKey2(Function&lt;!--? super E, ?--&gt; function) &#123; Map filterMap = Maps.newConcurrentMap(); return e -&amp;gt; filterMap.putIfAbsent(function.apply(e), Boolean.TRUE) == null; &#125; //[æ³¨1] public static void main(String[] args) &#123; List collect = Lists.newArrayList() .stream() // æ˜¾å¼å¼ºè½¬å½¢å‚ç±»å‹ .filter(StreamUtil.distinctByKey2(baseEntity -&amp;gt; baseEntity)) .collect(Collectors.toList()); &#125;"},{"title":"[Zookeeperå­¦ä¹ -ç¬¬ä¸€ç« ]zkç¯å¢ƒæ­å»º[å•æœº+æ§åˆ¶å°]","path":"[Zookeeperå­¦ä¹ -ç¬¬ä¸€ç« ]zkç¯å¢ƒæ­å»º[å•æœº+æ§åˆ¶å°]/","text":"ç³»ç»Ÿç¯å¢ƒä¸º Centos ï¼Œç”±äºé¡¹ç›®éœ€è¦ï¼Œå‡†å¤‡æ­å»º zookeeper-3.5.5 + ç”¨äºæ–¹ä¾¿å±•ç¤ºèŠ‚ç‚¹çš„zookeeperAdminç”¨ä½œå…¬å¸å¼€å‘ä¹‹ç”¨ zookeeper-3.5.5ä¸‹è½½å‰å¾€å¼€æºé¡¹ç›®ä¸‹è½½é¡µé¢æ ¹æ®éœ€è¦ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ï¼ˆæ³¨æ„è¦ä¸‹è½½æ–‡ä»¶ååé¢å¸¦â€-binâ€çš„åŒ…ï¼‰æ‡’äººé“¾æ¥ 123456789101112131415161718192021222324[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# tar -zxvf ./apache-zookeeper-3.5.5-bin.tar.gz[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# cd ./apache-zookeeper-3.5.5-bin.tar.gz[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# lltotal 44drwxr-xr-x 2 2002 2002 4096 Apr 9 19:13 bindrwxr-xr-x 2 2002 2002 4096 Sep 20 14:00 confdrwxr-xr-x 5 2002 2002 4096 May 3 20:07 docsdrwxr-xr-x 2 root root 4096 Sep 20 13:40 lib-rw-r--r-- 1 2002 2002 11358 Feb 15 2019 LICENSE.txtdrwxr-xr-x 2 root root 4096 Sep 20 13:43 logs-rw-r--r-- 1 2002 2002 432 Apr 9 19:13 NOTICE.txt-rw-r--r-- 1 2002 2002 1560 May 3 19:41 README.md-rw-r--r-- 1 2002 2002 1347 Apr 2 21:05 README_packaging.txt[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# ll[root@iZuf6imeqt5e7fo9jw7918Z apache-zookeeper-3.5.5-bin]# cd conf[root@iZuf6imeqt5e7fo9jw7918Z conf]# lltotal 16-rw-r--r-- 1 2002 2002 535 Feb 15 2019 configuration.xsl-rw-r--r-- 1 2002 2002 2712 Apr 2 21:05 log4j.properties-rw-r--r-- 1 2002 2002 922 Feb 15 2019 zoo_sample.cfg[root@iZuf6imeqt5e7fo9jw7918Z conf]# cp ./zoo_sample.cfg ./zoo.cfg[root@iZuf6imeqt5e7fo9jw7918Z conf]# cd ../bin/[root@iZuf6imeqt5e7fo9jw7918Z conf]# éœ€è¦ç•™æ„çš„å¦‚æœåœ¨è¿™é‡Œç›´æ¥å¯åŠ¨çš„è¯å¯èƒ½ä¼šå¯åŠ¨ä¸æˆåŠŸï¼Œå› ä¸ºapache-zookeeperé»˜è®¤ç›‘å¬äº†8080ç«¯å£ä½œä¸ºè‡ªå·±çš„zookeeper-serverçš„æœåŠ¡ç«¯ã€‚æœ€å¥½æ˜¯è‡ªå·±åœ¨.&#x2F;conf&#x2F;zoo.cfgä¸­é…ç½®ä¸€ä¸‹admin.serverPort=[è‡ªå·±éšä¾¿æ”¹ä¸ªç«¯å£]ï¼Œå¯¹çš„ï¼Œé…ç½®æ–‡ä»¶é‡Œé»˜è®¤æ˜¯æ²¡æœ‰è¿™è¡Œçš„ï¼Œè¿™ä¸ªæ¯”è¾ƒå‘ã€‚ å¯åŠ¨12345678910111213141516[root@iZuf6imeqt5e7fo9jw7918Z bin]# ./zkServer.sh start/usr/bin/javaZooKeeper JMX enabled by defaultUsing config: /app/zookeeper/apache-zookeeper-3.5.5-bin/bin/../conf/zoo.cfgStarting zookeeper ... STARTED[root@iZuf6imeqt5e7fo9jw7918Z bin]# ./zkServer.sh start/usr/bin/javaZooKeeper JMX enabled by defaultUsing config: /app/zookeeper/apache-zookeeper-3.5.5-bin/bin/../conf/zoo.cfgStarting zookeeper ... already running as process 29414.[root@iZuf6imeqt5e7fo9jw7918Z bin]# ./zkServer.sh status/usr/bin/javaZooKeeper JMX enabled by defaultUsing config: /app/zookeeper/apache-zookeeper-3.5.5-bin/bin/../conf/zoo.cfgClient port found: 2181. Client address: localhost.Mode: standalone zookeeper-adminè¿™æ˜¯ä¸€ä¸ªgithubä¸Šçš„å°é¡¹ç›®åŠŸèƒ½ä¸å¤šï¼Œåˆšåˆšå¤Ÿç”¨å°±è¡Œï¼Œä¸æ•´é‚£äº›èŠ±é‡Œèƒ¡å“¨çš„ï¼Œæ”¯æŒç›´æ¥ä½¿ç”¨dockeræ„å»ºï¼Œéå¸¸æ–¹ä¾¿ 12345[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# docker run --name zookeeper-admin -p 80:2182 docker.io/ahoowang/zookeeper.admin[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# docker container lsCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES56bf5522f4fe 4232addbc345 &quot;dotnet ZooKeeper....&quot; About an hour ago Up 2 minutes 0.0.0.0:2182-&amp;gt;80/tcp zookeeper-admin ç•Œé¢çœ‹ä¸Šå»è¿˜ä¸é”™ã€‚ ç„¶è€Œå¥½æ™¯ä¸é•¿ï¼Œè·‘äº†ä¸€é˜µå‘ç°æ— æ³•è®¿é—®äº†ã€‚ 12[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# docker container lsCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ??? æ€ä¹ˆåœæ­¢äº†ï¼Œçœ‹çœ‹æ—¥å¿—æ€ä¹ˆè¯´ 1234567891011121314151617181920[root@iZuf6imeqt5e7fo9jw7918Z zookeeper]# docker logs 56bf5522f4feHosting environment: ProductionContent root path: /appNow listening on: http://+:80Application started. Press Ctrl+C to shut down.Application is shutting down...Hosting environment: ProductionContent root path: /appNow listening on: http://+:80Application started. Press Ctrl+C to shut down.Unhandled Exception: System.InvalidOperationException: Collection was modified; enumeration operation may not execute. at System.ThrowHelper.ThrowInvalidOperationException(ExceptionResource resource) at System.Collections.Generic.Dictionary`2.ValueCollection.Enumerator.MoveNext() at ZooKeeper.Admin.ZooKeeperManager.&lt;dispose&gt;d__9.MoveNext() in E:\\ZooKeeper-Admin\\ZooKeeper.Admin\\ZooKeeperManager.cs:line 55--- End of stack trace from previous location where exception was thrown --- at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state) at System.Threading.QueueUserWorkItemCallback.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem() at System.Threading.ThreadPoolWorkQueue.Dispatch()"},{"title":"[Zookeeperå­¦ä¹ -ç¬¬äºŒç« ]ç”¨ä½œSpringCloudçš„æ³¨å†Œä¸­å¿ƒ","path":"[Zookeeperå­¦ä¹ -ç¬¬äºŒç« ]ç”¨ä½œSpringCloudçš„æ³¨å†Œä¸­å¿ƒ/","text":"å¤ªé•¿æ‡’å¾—å†™äº† ç”¨ä½œæ³¨å†Œä¸­å¿ƒ-&gt;æ‰‹åŠ¨ç»´æŠ¤èŠ‚ç‚¹-&gt;èŠ‚ç‚¹æ ‘æ“ä½œ æœ€åé…åˆfeignå®ŒæˆæœåŠ¡åŠ¨æ€è°ƒç”¨"},{"title":"è®¡åˆ’ä»»åŠ¡çš„Springå®ç°ä¸æ‰‹åŠ¨å®ç°","path":"è®¡åˆ’ä»»åŠ¡çš„Springå®ç°ä¸æ‰‹åŠ¨å®ç°/","text":"æ‰‹å†™è®¡åˆ’ä»»åŠ¡å½“ç„¶æ¯”ä¸è¿‡ç®€å•åˆå¥½ç”¨çš„SpringScheduled ä½¿ç”¨Spring Scheduledçš„è®¡åˆ’ä»»åŠ¡å…³é”®æ–¹æ³• è®¡ç®—ä¸‹ä¸€æ¬¡åŒ¹é…CRONè¡¨è¾¾å¼çš„æ—¶é—´ new CronSequenceGenerator(&quot;1 1 0 1 * ?&quot;).next(new Date()); è¯¥æ–¹æ³•ç”¨äºè®¡ç®—ä¸‹ä¸€æ¬¡è¿è¡Œçš„åˆ°ç°åœ¨æ—¶é—´çš„æ—¶é—´å·® org.springframework.scheduling.concurrent.ReschedulingRunnable#schedule(); å®ç°ä»£ç 12345678910111213141516171819/** * &lt;h2&gt;ScheduleConfig&lt;/h2&gt; * &lt;p&gt;å®šæ—¶ä»»åŠ¡é…ç½®&lt;/p&gt; * * @author Daizc * @date 2019/12/10 */@Component@EnableSchedulingpublic class ScheduleConfig &#123; // æ¯æœˆç¬¬ä¸€å¤©çš„0åˆ†0ç§’æ‰§è¡Œ public static final String CRON_EXPRESSION = &quot;0 0 0 1 * ?&quot;; @Scheduled(cron = CRON_EXPRESSION, zone = &quot;Asia/Shanghai&quot;) public void generateFormJob() &#123; System.out.println(new Date().toString() + &quot; &amp;gt;&amp;gt;è®¡åˆ’ä»»åŠ¡æ‰§è¡Œ....&quot;); &#125;&#125; è‡ªå·±å†™çš„è®¡åˆ’ä»»åŠ¡æ€è·¯ ä½¿ç”¨ä¸€ä¸ªé˜»å¡é˜Ÿåˆ— ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å»æ¶ˆè´¹é˜Ÿåˆ— ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹åœ¨è®¡ç®—ç°åœ¨åˆ°ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´çš„æ—¶é—´å·®å¹¶ç¡åˆ°ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´å°†Runableæ”¾å…¥é˜Ÿåˆ—ä¸­æ¶ˆè´¹ å®ç°ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940/** * è‡ªå·±å†™çš„è®¡åˆ’ä»»åŠ¡ */private LinkedBlockingQueue&lt;runnable&gt; queue = new LinkedBlockingQueue&amp;lt;&amp;gt;();private Runnable task = () -&amp;gt; &#123; System.out.println(new Date().toString() + &quot; &amp;gt;&amp;gt;è®¡åˆ’ä»»åŠ¡æ‰§è¡Œ....&quot;);&#125;;@SuppressWarnings(&#123;&quot;all&quot;, &quot;AlibabaAvoidManuallyCreateThread&quot;&#125;)public ScheduleConfig() &#123; Thread take = new Thread(() -&amp;gt; &#123; try &#123; while (true) &#123; Runnable runnable = runnable = queue.take(); runnable.run(); &#125; &#125; catch (InterruptedException ignored) &#123;&#125; &#125;); take.setDaemon(true); take.setName(&quot;schedule-take&quot;); Thread put = new Thread(() -&amp;gt; &#123; Runnable runnable = null; try &#123; while (true) &#123; // è®¡ç®—ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´ Date next = new CronSequenceGenerator(CRON_EXPRESSION).next(new Date()); Thread.sleep(next.getTime() - System.currentTimeMillis()); queue.put(task); &#125; &#125; catch (InterruptedException ignored) &#123;&#125; &#125;); put.setDaemon(true); put.setName(&quot;schedule-put&quot;); take.start(); put.start();&#125;"},{"title":"[MXCHIP-2]çœŸæœºè°ƒè¯•","path":"[MXCHIP-2]çœŸæœºè°ƒè¯•/","text":"ç¦»ä¸Šä¸€ç¯‡æ–‡ç« å‘å¸ƒå·²ç»æ—¶éš”å¾ˆä¹…äº†ï¼Œæ•´ç†äº†ä¸€ä¸‹æœ€è¿‘å­¦ä¹ çš„æ“ä½œåšä¸ªè®°å½•å…å¾—å¿˜æ‰äº†ã€‚ çœŸæœºè°ƒè¯•æœ¬æ¬¡çš„ä¸»è§’ Xè®¯TC1æ’æ’ é€šè¿‡ä»”ç»†è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œåœ¨PCBä¸Šé¢„ç•™äº†2ç»„(8ä¸ª)è§¦ç‚¹ï¼Œä¸€ç»„ä¸Šé¢æ ‡æœ‰RX&#x2F;TXå­—æ ·ï¼Œé‚£è‚¯å®šå°±æ˜¯UARTæ¥å£äº†ã€‚ å¦ä¸€ç»„æ ‡æœ‰CLKã€BIOå­—æ ·ï¼Œåº”è¯¥æ˜¯ç”¨äºåˆ·æœºçš„SWDæ¥å£ã€‚ å¼•ç”¨çš„èµ„æ–™ æ¨¡å—æ–‡æ¡£ä»å®˜ç½‘ç¿»åˆ°äº†æ¨¡å—çš„å‚æ•°ä¿¡æ¯DS0021CN_EMW3031_V1.4"},{"title":"SpringBootä¸­çš„rediså¯†ç é—®é¢˜","path":"SpringBootä¸­çš„rediså¯†ç é—®é¢˜/","text":"ç”±äºç«™ç‚¹è¿ç§»å¯¼è‡´çš„æ•°æ®ä¸¢å¤±ï¼Œè¯¥æ–‡ç« å·²åšå½’æ¡£å¤„ç†ç›´æ¥è¯´ç»“è®ºï¼š ä½¿ç”¨ spring.redis.url æ—¶ï¼Œéœ€è¦æŠŠå¯†ç æ‹¼åœ¨urlä¸Šï¼Œä¸‹æ–¹çš„passwordæ­¤æ—¶ä¸èµ·ä½œç”¨ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; åŸæ­£æ–‡ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; å¾ˆç®€å•çš„ä¸€ä¸ªé—®é¢˜ï¼ŒèŠ±äº†å¤§åŠ›æ°”å»è§£å†³ã€‚é‡è¦çš„æ˜¯è§£å†³é—®é¢˜çš„æ–¹å¼å’Œæ€è·¯ã€‚ å‡ºç°é—®é¢˜å‡ºé—®é¢˜çš„é…ç½®å¦‚ä¸‹ application.yml 123456789101112spring: redis: # REDIS_URL url: redis://192.168.1.233:6379 # å¦‚æœæœ‰å¯†ç  password: testpassword123 # å­˜å‚¨åˆ°åˆ†åŒº1 database: 1 # é»˜è®¤è¶…æ—¶2000 timeout: 3000 æŠ¥é”™çš„æ—¥å¿— 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586[20190827 20:42:53] ERROR 7900 --- [nio-8086-exec-2] c.z.v.d.a.c.mvc.GlobalExceptionHandler : Unable to connect to Redis; nested exception is io.lettuce.core.RedisCommandExecutionException: NOAUTH Authentication required.org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisCommandExecutionException: NOAUTH Authentication required. at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1092) at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1065) at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:865) at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:340) at org.springframework.data.redis.cache.DefaultRedisCacheWriter.execute(DefaultRedisCacheWriter.java:238) at org.springframework.data.redis.cache.DefaultRedisCacheWriter.get(DefaultRedisCacheWriter.java:109) at org.springframework.data.redis.cache.RedisCache.lookup(RedisCache.java:82) at org.springframework.cache.support.AbstractValueAdaptingCache.get(AbstractValueAdaptingCache.java:58) at org.springframework.cache.interceptor.AbstractCacheInvoker.doGet(AbstractCacheInvoker.java:73) at org.springframework.cache.interceptor.CacheAspectSupport.findInCaches(CacheAspectSupport.java:554) at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:519) at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:401) at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) at com.zunchen.video.dmp.service.impl.onvif.OnvifDeviceCacheServiceImpl$EnhancerBySpringCGLIB$913f47a3.connectOnvifDevice(&lt;generated&gt;) at com.zunchen.video.dmp.admin.api.ConnectDeviceApiController.connect(ConnectDeviceApiController.java:36) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:215) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:142) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:890) at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:154) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:122) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:107) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:748)Caused by: io.lettuce.core.RedisCommandExecutionException: NOAUTH Authentication required. at io.lettuce.core.ExceptionFactory.createExecutionException(ExceptionFactory.java:135) at io.lettuce.core.LettuceFutures.awaitOrCancel(LettuceFutures.java:122) at io.lettuce.core.AbstractRedisAsyncCommands.select(AbstractRedisAsyncCommands.java:1194) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at io.lettuce.core.FutureSyncInvocationHandler.handleInvocation(FutureSyncInvocationHandler.java:57) at io.lettuce.core.internal.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:80) at com.sun.proxy.$Proxy206.select(Unknown Source) at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1087) ... 69 common frames omitted æŸ¥è¯¢èµ„æ–™ spring boot é…ç½®redis æŠ¥é”™ NOAUTH Authentication required springbootæ•´åˆredisæŠ¥é”™NOAUTH Authentication required.è§£å†³æ–¹æ¡ˆ å½’çº³ å¤§å¤šè§£å†³æ–¹æ¡ˆéƒ½æ˜¯é€šè¿‡é…ç½®æ³¨å…¥çš„RedisConfigæ¥setPasswordè§£å†³çš„ï¼ŒSpringBootæœªæ³¨å…¥å¯†ç çš„åŸå› ä»ç„¶ä¸æ˜ã€‚ åŸå› æ¢ç©¶åŸå› åˆ†æ ç”±æŠ¥é”™ä¿¡æ¯å¯ä»¥çœ‹å‡ºï¼Œæœ€ç»ˆæŠ›å‡ºçš„å¼‚å¸¸æ˜¯io.lettuce.core.RedisCommandExecutionExceptionï¼Œå…¶ä¸­lettuceä¸çŸ¥é“æ˜¯ä»€ä¹ˆã€‚ é€šè¿‡æŸ¥é˜…èµ„æ–™ é«˜çº§çš„ Redis Java å®¢æˆ·ç«¯ Lettuce å¾—çŸ¥lettuceæ˜¯springboot2.0ä¸­ç”¨æ¥ä»£æ›¿jedisçš„æ–°çš„rediså®¢æˆ·ç«¯ã€‚ é‚£ä¸ºä½•lettuceä¸ºä½•ä¼šæŠ¥é”™å‘¢ï¼Ÿè¿™æ˜¯æˆ‘æœ€å¤§çš„ç–‘æƒ‘ï¼Œæˆ‘å†³å®šå»spring.redisçš„è‡ªåŠ¨é…ç½®ç±»ä¸­çœ‹çœ‹åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ æºç è·Ÿè¸ª&gt; spring.redisçš„è‡ªåŠ¨é…ç½®åŒ…ï¼šorg.springframework.boot.autoconfigure.data.redis çœ‹ç€è¿™ä¸ªç›®å½•ç»“æ„ï¼Œç¬¬ä¸€ååº”ç›´å¥”LettuceConnectionConfigurationä¸­å»çœ‹æºç ã€‚ åœ¨å…¶æ„é€ æ–¹æ³•å¤„æ‰“æ–­ç‚¹å‘ç°æ˜¯æ‹¿åˆ°äº†å¯†ç çš„ï¼Œå‘ç°åŒç±»ä¸‹æœ‰ä¸€æ–¹æ³•createLettuceConnectionFactory();æ˜æ˜¾æ˜¯åˆ›å»ºè¿æ¥å·¥å‚çš„æ–¹æ³•ï¼Œæ–­ç‚¹å¥—ä¸Šå»ã€‚ è¿™ä¸ªæ–¹æ³•ä¸­å¹²äº†å•¥ï¼Œå®ƒçœ‹äº†çœ‹é…ç½®æ–‡ä»¶ä¸­æœ‰æ²¡æœ‰åŒ…å«${spring.redis.sentinel}å’Œ${spring.redis.cluster}çš„é…ç½®ï¼Œå¦‚æœæœ‰å°±æ‹¿å¯¹åº”çš„é…ç½®å»åˆ›å»ºè¿æ¥å·¥å‚ã€‚ä½†æ˜¯ymlä¸­æ—¢æ²¡æœ‰é…ç½®å“¨å…µæ¨¡å¼ä¹Ÿæ²¡æœ‰é…ç½®é›†ç¾¤æ¨¡å¼ï¼Œæ‰€ä»¥è¿›å…¥ç‹¬ç«‹æ¨¡å¼getStandaloneConfig(); é¡ºæ‰‹è®¡ç®—ä¸€ä¸‹ï¼Œçœ‹çœ‹standaloneConfigé•¿ä»€ä¹ˆæ ·å­â€¦..å—¯???!!!â€¦â€¦å¯†ç å‘¢ï¼Ÿâ€¦â€¦å‘ç”Ÿäº†å•¥ï¼Ÿ é—®é¢˜æ‰¾åˆ°äº†ï¼Œæ„Ÿè§‰è‡ªå·±å¥½è ¢ã€‚ è§£å†³é—®é¢˜ä¿®æ”¹é…ç½®1234567891011121314spring: redis: # REDIS_URL ä¸­è‡ªå·±å¸¦ä¸Šå¯†ç  # Connection URL. Overrides host, port, and password. User is ignored. Example: # redis://user:password@example.com:6379 # url: redis://UserIsIgnored:testpassword123@192.168.1.233:6379 # HOST å’Œ PASSWORD æ˜¯ä¸€å¥—é…ç½® host: 192.168.1.233 # å¦‚æœæœ‰å¯†ç  ï¼ˆç”¨äºRedisTemplate ï¼ŒLettuceä¸ä¼šæ‹¿è¿™ä¸ªpasswordï¼‰ password: testpassword123 # å­˜å‚¨åˆ°åˆ†åŒº1 database: 1 # é»˜è®¤è¶…æ—¶2000 timeout: 3000 ä¿®æ”¹åå¯åŠ¨ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273[20190828 03:15:04] ERROR 8564 --- [nio-8086-exec-2] c.z.v.d.a.c.mvc.GlobalExceptionHandler : Unable to connect to Redis; nested exception is io.lettuce.core.RedisCommandExecutionException: NOAUTH Authentication required.org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisCommandExecutionException: NOAUTH Authentication required. at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1092) at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1065) at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:865) at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:340) at org.springframework.data.redis.cache.DefaultRedisCacheWriter.execute(DefaultRedisCacheWriter.java:238) at org.springframework.data.redis.cache.DefaultRedisCacheWriter.get(DefaultRedisCacheWriter.java:109) at org.springframework.data.redis.cache.RedisCache.lookup(RedisCache.java:82) at org.springframework.cache.support.AbstractValueAdaptingCache.get(AbstractValueAdaptingCache.java:58) at org.springframework.cache.interceptor.AbstractCacheInvoker.doGet(AbstractCacheInvoker.java:73) at org.springframework.cache.interceptor.CacheAspectSupport.findInCaches(CacheAspectSupport.java:554) at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:519) at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:401) at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) at com.zunchen.video.dmp.service.impl.onvif.OnvifDeviceCacheServiceImpl$EnhancerBySpringCGLIB$b001f767.connectOnvifDevice(&lt;generated&gt;) at com.zunchen.video.dmp.admin.api.ConnectDeviceApiController.connect(ConnectDeviceApiController.java:36) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:215) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:142) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:890) at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:154) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:122) at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:107) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:748) ä»ç„¶åœ¨æŠ¥é”™ï¼Œè¿™ä¸‹å°´å°¬äº†ã€‚ å†æ¬¡è§£å†³é—®é¢˜ å¾„ç›´æ¥åˆ°æŠ¥é”™ä¿¡æ¯æç¤ºçš„åœ°æ–¹ï¼Œä¼°è®¡æ˜¯çº¢æ¡†å‡ºå‡ºç°äº†å¼‚å¸¸ã€‚æ­¤å¤„è°ƒç”¨çš„æ˜¯æ¥å£æ–¹æ³•ï¼Œä¸çŸ¥é“è¿›äº†é‚£ä¸ªæ–¹æ³•ï¼Œæ²¡å…³ç³»ï¼Œæ‰“ä¸ªæ–­ç‚¹å¼ºåˆ¶æ­¥å…¥ã€‚ æœ‰ç‚¹æ‡’ï¼Œä¸æƒ³è§£é‡Šäº†ï¼Œç›´æ¥ç”»å›¾ï¼Œå‘ç°æ˜¯redisURISupplierä¸­çš„passwordä»ç„¶æ˜¯ç©ºçš„ã€‚ä¸æƒ³çŸ¥é“ä¸ºä»€ä¹ˆäº†ï¼Œæˆ‘åªæƒ³è§£å†³é—®é¢˜ã€‚æºç ç‚¹è¿‡å»çœ‹ä¸‹ã€‚ æŸ¥çœ‹è¯¥ç±»çš„æ„é€ æ–¹æ³•ï¼Œè¿™ä¸ªä¸œè¥¿æ­£åœ¨è§£æRedisURIï¼Œé‚£RedisURIå“ªå„¿æ¥çš„å‘¢ï¼Ÿé…ç½®é‡Œé…çš„å‘—ã€‚ æˆåŠŸè§£å†³é—®é¢˜1234567891011121314spring: redis: # REDIS_URL ä¸­è‡ªå·±å¸¦ä¸Šå¯†ç  # Connection URL. Overrides host, port, and password. User is ignored. Example: # redis://user:password@example.com:6379 url: redis://UserIsIgnored:testpassword123@192.168.1.233:6379 # HOST å’Œ PASSWORD æ˜¯ä¸€å¥—é…ç½® # host: 192.168.1.233 # å¦‚æœæœ‰å¯†ç  ï¼ˆç”¨äºRedisTemplate ï¼ŒLettuceä¸ä¼šæ‹¿è¿™ä¸ªpasswordï¼‰ # password: testpassword123 # å­˜å‚¨åˆ°åˆ†åŒº1 database: 1 # é»˜è®¤è¶…æ—¶2000 timeout: 3000 è¿™æ¬¡å¥½äº†ï¼ŒredisæˆåŠŸè¿æ¥ã€‚å¤§åŠŸå‘Šæˆã€‚"},{"title":"æ³›å‹ä¸Šä¸‹ç•Œ","path":"æ³›å‹ä¸Šä¸‹ç•Œ/","text":"javaçš„æ³›å‹åŸºäºç±»å‹æ“¦é™¤æœºåˆ¶ super ç±»å‹ä¸‹ç•Œé€šé…ç¬¦ Listä¸­åªèƒ½å­˜å‚¨ä¸€ç§å…ƒç´ ï¼Œæ­¤å¤„å£°æ˜çš„&lt;!--? super BaseDemoEntity--&gt;,è¡¨æ˜è¿™ä¸ªListä¸­å­˜æ”¾çš„å…ƒç´ å±äº BaseDemoEntity å…¶ä¸­ä¸€ç§ çˆ¶ç±»ç±»å‹ BaseDemoEntityçš„çˆ¶ç±»å¯èƒ½æœ‰å¤æ•°ä¸ªï¼Œæ¯”å¦‚ Objectï¼ŒBaseEntityã€‚å–å‡ºæ—¶ä¸çŸ¥é“åˆ°åº•Listé‡Œåˆ°åº•è£…çš„å•¥ï¼Œä½†ä¸€å®šæ˜¯ç»§æ‰¿äºObjectï¼Œæ‰€ä»¥ç»Ÿä¸€å¼ºè½¬ä¸ºObjectç±»å‹ å­˜å…¥æ—¶åªèƒ½æ”¾å…¥ BaseDemoEntity å’Œå®ƒçš„å­ç±»ï¼Œå› ä¸ºå£°æ˜çš„&lt;!--? super BaseDemoEntity--&gt;ï¼ŒBaseDemoEntity å¯ä»¥è¢«å®‰å…¨çš„å¼ºè½¬ä¸º&lt;!--? super BaseDemoEntity--&gt;æ­¤å¤„å¦‚æœä¼ å…¥BaseDemoEntityçš„çˆ¶ç±»ï¼Œé‚£ä¹ˆè¿è¡Œæ—¶jvmå°†ä¼ å…¥çš„ç±»å‹è½¬ä¸º&lt;!--? super BaseDemoEntity--&gt;æ—¶å¯èƒ½ä¼šå› ä¸ºç±»å‹ä¸ä¸€è‡´æŠ¥é”™ 123456789@RequestMapping(&quot;/superBaseDemoEntity&quot;)public void superBaseDemoEntity() &#123; List&lt;!--? super BaseDemoEntity--&gt; appList = new ArrayList&amp;lt;&amp;gt;(); appList.add(new Music()); appList.add(new BaseDemoEntity()); Object object1 = appList.get(0);&#125; extends ç±»å‹ä¸Šç•Œé€šé…ç¬¦ &lt;!--? extends BaseDemoEntity--&gt; &#x3D;&gt; BaseDemoEntityçš„ä»»æ„ä¸€ç§å­ç±» Listä¸­åªèƒ½å­˜å‚¨ä¸€ç§å…ƒç´ ï¼Œæ­¤å¤„å£°æ˜çš„&lt;!--? extends BaseDemoEntity--&gt;è¡¨æ˜è¿™ä¸ªListä¸­å­˜æ”¾çš„å…ƒç´ å¯èƒ½æ˜¯ç»§æ‰¿ä¸ BaseDemoEntity çš„ å…¶ä¸­ä¸€ç§ å…ƒç´  å–å‡ºæ—¶å¯ä»¥è¢«å®‰å…¨çš„å¼ºè½¬ä¸º BaseDemoEntity å­˜å…¥æ—¶ç”±äºä¸çŸ¥é“ä½ å­˜å…¥çš„ç±»å‹æ˜¯å¦è·Ÿ&lt;!--? extends BaseDemoEntity--&gt;ç±»å‹æ˜¯ä¸€ä¸ªç±»å‹ï¼Œå› æ­¤ä¸èƒ½å­˜å…¥ 1234567 @RequestMapping(&quot;/extendsBaseDemoEntity&quot;)public void extendsBaseDemoEntity() &#123; List&lt;!--? extends BaseDemoEntity--&gt; appList2 = new ArrayList&amp;lt;&amp;gt;(); BaseDemoEntity baseDemoEntity = appList2.get(0);&#125;"},{"title":"å¥½ç”¨å¸¸ç”¨äººäººéƒ½è¦ä¼šçš„æœ€åŸºæœ¬çš„Mavenæ’ä»¶æ”¶é›†","path":"å¥½ç”¨å¸¸ç”¨äººäººéƒ½è¦ä¼šçš„æœ€åŸºæœ¬çš„Mavenæ’ä»¶æ”¶é›†/","text":"æŠŠæ‰‹ä¸Šçš„å¥½å‡ ä¸ªé¡¹ç›®çš„pomæ•´ç†äº†ä¸€é è§„èŒƒäº†ä¸€ä¸‹model æ•´ç†å‡ºäº†ä¸€äº›æ’ä»¶ æ–¹ä¾¿æ–°æ‰‹ä»¬å…¥é—¨maven å¥½ç”¨å¸¸ç”¨äººäººéƒ½è¦ä¼šçš„æœ€åŸºæœ¬çš„Mavenæ’ä»¶æ”¶é›†å¤§éƒ¨åˆ†çš„æ’ä»¶å…¶å®éƒ½å¯ä»¥ä»MAVENå®˜æ–¹çš„å¯ç”¨æ’ä»¶åˆ—è¡¨ä¸­ç›´æ¥æ‰¾åˆ°åœ¨è¿™é‡Œå–äº†æ¯”è¾ƒå¸¸ç”¨å¹¶ä¸”å®ç”¨çš„å‡ ä¸ªæ’ä»¶åšä¸€ç‚¹è¯´æ˜å¤§å¤šæ•°ä½¿ç”¨åœºæ™¯æ— éæ˜¯ï¼š è¦è‡ªå®šä¹‰æ‰“åŒ…çš„åç§° è¦å°†æ‰“åŒ…åçš„jaråŒ…è‡ªåŠ¨å¤åˆ¶åˆ°æŸå¤„ è¦å°†å¤–ç½®libç›®å½•å’Œmavenä¾èµ–ä¸€èµ·æ‰“è¿›å» è¦æ ¹æ®ç¯å¢ƒå¤åˆ¶å¯¹åº”çš„é…ç½®æ–‡ä»¶ è¿™é‡Œé€‰å‡ºçš„æ’ä»¶è¶³ä»¥åº”å¯¹å¤§éƒ¨åˆ†æƒ…å†µäº† Mavenä¾èµ–ç®¡ç†æ’ä»¶maven-dependency-pluginä¸»è¦ç”¨äºç®¡ç†ä¾èµ–ï¼Œæ¯”å¦‚å¼•å…¥æŸä¸ªç‰¹æ®Šçš„jaråŒ…ï¼Œæˆ–è€…ä»æŸä¸ªjaråŒ…ä¸­æå–æ–‡ä»¶treeå‘½ä»¤å’Œdisplay-ancestorså‘½ä»¤åœ¨æ­å»ºå·¥ç¨‹æ—¶æ˜¯æ¯”è¾ƒå¥½ç”¨çš„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰¾å‡ºé‡å¤ä¾èµ–é¡¹ï¼Œä¿è¯ä¾èµ–ç‰ˆæœ¬ä¸€è‡´ å¸¸ç”¨åŠŸèƒ½ list åˆ—å‡ºçš„ä¾èµ–å…³ç³» tree ä»¥æ ‘å‹ç»“æ„åˆ—å‡ºçš„ä¾èµ–å…³ç³» copy-dependencies æ‹·è´æŸä¸ªä¾èµ–é¡¹ unpack-dependencies è§£åŒ…æŸä¸ªä¾èµ–é¡¹ display-ancestors æ˜¾ç¤ºæ‰€æœ‰çˆ¶ä¾èµ– Mavenæ„å»ºå°åŠ©æ‰‹ build-helper-maven-pluginä¸»è¦ç”¨äºä¸ºPOMç”Ÿæˆå„ç§å±æ€§,æ¯”å¦‚æ‰“åŒ…æ—¶é—´ã€IPåœ°å€ä¹‹ç±»çš„ï¼ŒåŠŸèƒ½æ¯”è¾ƒå¤šå°±ä¸ä¸Šä»£ç äº†ã€‚ å¸¸ç”¨åŠŸèƒ½ add-source å°†æ›´å¤šsourceç›®å½•æ·»åŠ åˆ°POM add-test-source å°†æ›´å¤štest sourceç›®å½•æ·»åŠ åˆ°POM add-resource å°†æ›´å¤šresource directoriesç›®å½•æ·»åŠ åˆ°POM add-test-resource å°†æ›´å¤štest resource directoriesç›®å½•æ·»åŠ åˆ°POM attach-artifact Attach additional artifacts to be installed and deployed. ä¸çŸ¥é“???å¹²å•¥çš„ maven-version è·å–Mavenæ ¸å¿ƒç‰ˆæœ¬ regex-property ä½¿ç”¨æ­£åˆ™ç”ŸæˆæŸä¸ªå±æ€§ regex-propertiesä½¿ç”¨æ­£åˆ™ç”Ÿæˆå±æ€§ released-version Resolve the latest released version of this project. parse-version Parse the version into different properties. remove-project-artifact ç”¨äºåœ¨æ„å»ºè¿‡ç¨‹ä¸­åˆ é™¤æŸä¸ªä½œä¸ºä¾èµ–çš„é¡¹ç›®ä»¥èŠ‚çœç©ºé—´ reserve-network-port ä¿ç•™ä¸€ä¸ªæœªä½¿ç”¨çš„ç«¯å£å·çš„éšæœºåˆ—è¡¨ local-ip è·å–å½“å‰ä¸»æœºIP cpu-count è·å–å½“å‰ä¸»æœºCPUæ ¸å¿ƒæ•° timestamp-property ç”Ÿæˆä¸€ä¸ªäº‹ä»¶æ”¾å…¥æŒ‡å®šå±æ€§ä¸­ å¸¸ç”¨äºåœ¨åŒ…åä¸Šé™„åŠ æ‰“åŒ…æ—¶é—´ uptodate-property æ£€æŸ¥æŸä¸ªå±æ€§æ ¹æ®æ£€æŸ¥ç»“æœè®¾ç½®å…¶ä»–å±æ€§ uptodate-properties æ£€æŸ¥å¤šä¸ªå±æ€§æ ¹æ®æ£€æŸ¥ç»“æœè®¾ç½®å¤šä¸ªå…¶ä»–å±æ€§ rootlocation é‡å®šä¹‰å¤šæ¨¡å—æ„å»ºçš„æ ¹ç›®å½• å¤åˆ¶å¹¶é‡å‘½åæ’ä»¶ Copy Rename Maven PluginåŠŸèƒ½å­—å¦‚å…¶å,å°±æ˜¯ç”¨æ¥å¤åˆ¶å’Œé‡å‘½åçš„ï¼Œå¯ä»¥ç”¨æ¥å¤åˆ¶æ‰“åŒ…å¥½çš„jaråŒ…ï¼Œä¹Ÿå¯ä»¥åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­å¤åˆ¶æ–‡ä»¶ã€‚ å¸¸ç”¨åŠŸèƒ½ copy å¤åˆ¶ rename é‡å‘½å æ²¡äº† ä¸€ä¸ªå°æ —å­123456789101112131415161718&lt;plugin&gt; &lt;groupid&gt;com.coderplus.maven.plugins&lt;/groupid&gt; &lt;artifactid&gt;copy-rename-maven-plugin&lt;/artifactid&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;copy-file&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;copy&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;sourcefile&gt;target/$&#123;project.build.finalName&#125;.jar&lt;/sourcefile&gt; &lt;destinationfile&gt;/xingyi/$&#123;project.build.finalName&#125;.jar&lt;/destinationfile&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; Mavenç¼–è¯‘æ’ä»¶ maven-compiler-pluginä¸»è¦ç”¨äºè®¾å®šç¼–è¯‘ç¯å¢ƒå’Œç¼–è¯‘å™¨çš„å±æ€§,æ˜¯æ¯”è¾ƒåŸºç¡€çš„æ’ä»¶ 123456789101112131415161718192021222324252627282930 &lt;plugin&gt; &lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt; &lt;artifactid&gt;maven-compiler-plugin&lt;/artifactid&gt; &lt;version&gt;3.8.0&lt;/version&gt; &lt;configuration&gt; &lt;!-- ä¸€èˆ¬è€Œè¨€ï¼Œtargetä¸sourceæ˜¯ä¿æŒä¸€è‡´çš„ï¼Œä½†æ˜¯ï¼Œæœ‰æ—¶å€™ä¸ºäº†è®©ç¨‹åºèƒ½åœ¨å…¶ä»–ç‰ˆæœ¬çš„jdkä¸­è¿è¡Œ(å¯¹äºä½ç‰ˆæœ¬ç›®æ ‡jdkï¼Œæºä»£ç ä¸­ä¸èƒ½ä½¿ç”¨ä½ç‰ˆæœ¬jdkä¸­ä¸æ”¯æŒçš„è¯­æ³• )ï¼Œä¼šå­˜åœ¨targetä¸åŒäºsourceçš„æƒ…å†µ --&gt; &lt;!-- æºä»£ç ä½¿ç”¨çš„JDKç‰ˆæœ¬ --&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;!-- éœ€è¦ç”Ÿæˆçš„ç›®æ ‡classæ–‡ä»¶çš„ç¼–è¯‘ç‰ˆæœ¬ --&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;!-- å­—ç¬¦é›†ç¼–ç  --&gt; &lt;encoding&gt;UTF-8&lt;/encoding&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;showwarnings&gt;true&lt;/showwarnings&gt; &lt;!-- è¦ä½¿compilerVersionæ ‡ç­¾ç”Ÿæ•ˆï¼Œè¿˜éœ€è¦å°†forkè®¾ä¸ºtrueï¼Œç”¨äºæ˜ç¡®è¡¨ç¤ºç¼–è¯‘ç‰ˆæœ¬é…ç½®çš„å¯ç”¨ --&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;!-- æŒ‡å®šæ’ä»¶å°†ä½¿ç”¨çš„ç¼–è¯‘å™¨çš„ç‰ˆæœ¬ --&gt; &lt;compilerversion&gt;1.5&lt;/compilerversion&gt; &lt;!-- ç¼–è¯‘å™¨ä½¿ç”¨çš„åˆå§‹å†…å­˜ --&gt; &lt;meminitial&gt;128m&lt;/meminitial&gt; &lt;!-- ç¼–è¯‘å™¨ä½¿ç”¨çš„æœ€å¤§å†…å­˜ --&gt; &lt;maxmem&gt;512m&lt;/maxmem&gt; &lt;!--ä½¿ç”¨æŒ‡å®šçš„javacå‘½ä»¤ï¼Œä¾‹å¦‚ï¼š&lt;executable&gt;$&#123;JAVA_1_4_HOME&#125;/bin/javac&lt;/executable&gt; --&gt; &lt;executable&gt;&lt;!-- path-to-javac --&gt;&lt;/executable&gt; &lt;!-- è·³è¿‡æµ‹è¯• --&gt; &lt;skiptests&gt;true&lt;/skiptests&gt; &lt;!-- è¿™ä¸ªé€‰é¡¹ç”¨æ¥ä¼ é€’ç¼–è¯‘å™¨è‡ªèº«ä¸åŒ…å«ä½†æ˜¯å´æ”¯æŒçš„å‚æ•°é€‰é¡¹--&gt; &lt;compilerargument&gt;-verbose -bootclasspath $&#123;java.home&#125;\\lib\\rt.jar&lt;/compilerargument&gt; &lt;/configuration&gt;&lt;/plugin&gt; SpringBootMavenæ’ä»¶spring-boot-maven-pluginconfiguration.layout&#x3D;ZIP çš„ç”¨å¤„èµ„æ–™ How to really package and deploy a Spring Boot application ä½œç”¨å°†è¯¥å·¥ç¨‹çš„å¸ƒå±€æ”¹ä¸ºZIPå¸ƒå±€ï¼Œæ‰€æœ‰çš„libå°†å¤–ç½®åˆ°jaråŒ…å¤–ï¼Œåœ¨æ‰“åŒ…æ—¶å°†com.example:demoä¸‹çš„æ‰€æœ‰ä¾èµ–æ”¾å…¥å¤–ç½®çš„libç›®å½• 1234567891011121314151617&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt; &lt;artifactid&gt;spring-boot-maven-plugin&lt;/artifactid&gt; &lt;configuration&gt; &lt;layout&gt;ZIP&lt;/layout&gt; &lt;/configuration&gt; &lt;includes&gt; &lt;include&gt; &lt;groupid&gt;com.example&lt;/groupid&gt; &lt;artifactid&gt;demo&lt;/artifactid&gt; &lt;/include&gt; &lt;/includes&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;"},{"title":"[MXCHIP-1]å¼€å‘æ¿åˆ°æ‰‹","path":"[MXCHIP-1]å¼€å‘æ¿åˆ°æ‰‹/","text":"è¿™æ˜¯ä¸€ä¸ªä»æ²¡ç©è¿‡å•ç‰‡æœºå¼€å‘çš„èœé¸¡é—²æš‡æ—¶é—´çæŠ˜è…¾çš„æ•…äº‹ èµ·å› æ˜¯18å¹´æ–è®¯å‡ºäº‹çš„æ—¶å€™ç‚’äº†ä¸€æ³¢åº•ï¼Œä¹°å›æ¥ä¸€å †æ–è®¯çš„è®¾å¤‡ï¼Œä»¥tc1æ’çº¿ç›’å±…å¤šï¼Œä½†æ˜¯éšç€æ–è®¯çº¿ä¸ŠæœåŠ¡çš„å…³é—­ï¼Œè¿™äº›åŸæœ¬çš„æ™ºèƒ½æ’çº¿ç›’å˜å¾—ä¸æ™ºèƒ½äº†ï¼Œæ­£å¥½ç½‘ä¸Šæœ‰ç½‘å‹å¼€å‘äº†ä¸€æ³¢TC1çš„å›ºä»¶ï¼Œæ­£å¥½è‡ªå·±ä¹ŸæŒºæ„Ÿå…´è¶£ï¼Œä¾¿å¼€å§‹æŠ˜è…¾èµ·äº†è¿™äº›ç©æ„å„¿ã€‚ ä½œæ¡ˆå·¥å…· åº†ç§‘EMW3031å¼€å‘æ¿ åº†ç§‘EMW3165å¼€å‘æ¿ åº†ç§‘MICOKIT-EXTä¸Šå±‚æ‰©å±•æ¿ USBè½¬TTLå·¥å…· JLINKä»¿çœŸå™¨ PSï¼š3165å’Œæ‰©å±•æ¿æ˜¯åœ¨é—²é±¼ç›´æ¥50åŒ…é‚®æ”¶çš„ï¼Œæ„Ÿè§‰èµšå¾—é£èµ·ã€‚usb-ttlä¸€å¼€å§‹ä¸çŸ¥é“éœ€è¦è¿™ä¸ªï¼Œåå¤çœ‹æ–‡æ¡£æ‰å‘ç°å·®è¿™ç©æ„å„¿ï¼Œ5å—çš„ä¸œè¥¿å‘äº†20çš„é¡ºä¸°æ‰é€åˆ°ã€‚ å¼€å‘ç”Ÿæ€ä»¥å‰ä»æ¥æ²¡ç©è¿‡å¦‚æ­¤é«˜å¤§ä¸Šçš„ç©æ„å„¿ï¼Œè¿™æ¬¡å°±ç®—æ‹¿åˆ°æ‰‹ä¹Ÿæ˜¯ä¸€è„¸è’™è”½ï¼Œä¸çŸ¥ä»ä½•ä¸‹æ‰‹ï¼Œå…¥æ‰‹è‡ªé—²é±¼ä¹Ÿæ²¡æœ‰ä»»ä½•èµ„æ–™ï¼Œåªå¥½å…ˆç¿»ä¸€ç¿»åº†ç§‘çš„å®˜ç½‘çœ‹çœ‹ã€‚ æ”¶é›†çš„éƒ¨åˆ†æœ‰ç”¨çš„é“¾æ¥ åº†ç§‘å®˜ç½‘ å¼€å‘è€…ä¸­å¿ƒ å®˜æ–¹è®ºå› å¼€å‘è€…æ”¯æŒç¤¾åŒº å¯åŠ¨åˆ°bootloaderç‰©ç†æ¥çº¿ 123456789ç¬¬ä¸€æ¡æ¥çº¿ [ç”¨æˆ·ä¸²å£] å¯¹åº”é©±åŠ¨æ˜¯USB-TTLçš„é©±åŠ¨ USB-SERIAL CH340 PC USBæ¥å£ =======&gt; USB-TTL =======&gt; å¼€å‘æ¿UARTæ¥å£ |â€”â€” GND |â€”â€” GND |â€”â€” RXD |â€”â€” TXD |â€”â€” TXD |â€”â€” RXD |â€”â€” 5V0 |â€”â€” 5V0 ç¬¬äºŒæ¡æ¥çº¿ [è°ƒè¯•ä¸²å£] å¯¹åº”é©±åŠ¨æ˜¯å¼€å‘æ¿çš„é©±åŠ¨ USB Serial Port PC USBæ¥å£ =======&gt; å¼€å‘æ¿microUsbæ¥å£ PSï¼šè¿™é‡Œä¹Ÿè¢«å¡äº†ä¸å°‘æ—¶é—´ï¼ŒåŸå› å°±æ˜¯ä¸çŸ¥é“RXDå’ŒTXDéœ€è¦åç€æ¥ã€‚å®˜ç½‘æ–‡æ¡£é‡Œæ²¡æœ‰ä»»ä½•è¯´æ˜ï¼Œæˆ‘åœ¨USB-TTLçš„æ·˜å®é¡µé¢é‡Œæ‰¾åˆ°çš„èµ„æ–™æ‰æåˆ°è¿™ä¸€ç‚¹ é©±åŠ¨ç®¡ç†é¦–å…ˆï¼Œæˆ‘å®Œå…¨æ˜¯ä¸ªé—¨å¤–æ±‰ï¼Œæˆ‘çŒœæµ‹è¿™ä¸¤é©±åŠ¨çš„ä½œç”¨å¯èƒ½æ˜¯ä¸€æ ·çš„ï¼Œä»¥å‰çš„å¤–å›´è®¾å¤‡éƒ½æ˜¯é€šè¿‡COMå£å’ŒPCç›¸è¿æ¥çš„ï¼Œç°åœ¨çš„ç”µè„‘éƒ½æ²¡æœ‰COMå£ï¼Œäºæ˜¯éœ€è¦ä¸€ä¸ªå°†COMå£è½¬ä¸ºUSBå£çš„è®¾å¤‡ã€‚USB-TTLåº”è¯¥å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œæ‰€ä»¥æ‰éœ€è¦å®‰è£…ä¸€ä¸ªé©±åŠ¨æ¥å°†USBå£æ˜ å°„ä¸ºè™šæ‹Ÿçš„COMå£ä¾›è½¯ä»¶è¿æ¥ã€‚è‡³äºå¼€å‘æ¿ä¸ºä½•å¯ä»¥ç”¨microUsbç›´è¿ç”µè„‘æˆ‘çŒœæµ‹æ˜¯å¼€å‘æ¿ä¸­å†…ç½®äº†èŠ¯ç‰‡æ¥è½¬æ¢ï¼Œå› ä¸ºæˆ‘çœ‹äº†æ–°å¹³å°MXKITçš„è¯´æ˜æ–‡æ¡£ï¼Œæ–°å¹³å°ä¸­åªéœ€è¦ä¸€æ ¹çº¿å°±å¯ä»¥åŒæ—¶æ¥ä¸Šä¸¤ä¸ªæ¥å£ï¼Œæ‰€ä»¥æˆ‘åšå‡ºäº†è¿™ä¸ªçŒœæµ‹ã€‚ è½¯ä»¶è¿æ¥å®˜ç½‘æ•™ç¨‹ å…ˆå°†å¼€å‘ç‰ˆä¸Šçš„MODULE SELECTæ‹¨åŠ¨åˆ°BootLoaderå¯åŠ¨æ¨¡å¼ï¼Œå³BOOT&#x3D;ON,STATUS&#x3D;OFFã€‚ åœ¨å…¶å®˜ç½‘æ–°æ–‡æ¡£çš„è§’è½ç¿»åˆ°äº†è¿™ä¸ªè¡¨æ ¼ï¼Œæ ¹æ®è¡¨æ ¼å†…å®¹åœ¨SecureCRTä¸­å»ºç«‹è¿æ¥ å‹å· BootloaderMFGäº§æµ‹ä¿¡æ¯ ATæŒ‡ä»¤åŠé€ä¼  æ­£å¸¸å·¥ä½œlogCLIè°ƒè¯•å‘½ä»¤ EMW3031 Pin 9,Pin10,921600bps Pin 9,Pin10,115200bps Pin21,Pin22,115200bps EMW3060 Pin 9,Pin10,921600bps Pin 9,Pin10,115200bps Pin21,Pin22,115200bps EMW3080 Pin 9,Pin10,921600bps Pin 9,Pin10,115200bps Pin21,Pin22,115200bps EMW3162 Pin22,Pin23,921600bps Pin22,Pin23,115200bps Pin14,Pin4,115200bps EMW3165 Pin29,Pin30,921600bps Pin29,Pin30,115200bps Pin8,Pin12,115200bps EMW3166 Pin29,Pin30,921600bps Pin29,Pin30,115200bps Pin8,Pin12,115200bps EMW3239 Pin29,Pin30,921600bps Pin29,Pin30,115200bps Pin8,Pin12,115200bps å»ºç«‹å¥½è¿æ¥åç‚¹ä¸€ä¸‹å¼€å‘æ¿ä¸Šçš„restarté‡å¯ä¸€ä¸‹å°±èƒ½èƒ½çœ‹åˆ°æ—¥å¿—äº†,å¦‚ä¸‹å›¾å·¦è¾¹æ˜¯ç”¨æˆ·æ—¥å¿—ï¼Œæ¥è‡ªäºmicroUsb(COM4)ï¼Œå³è¾¹æ˜¯è°ƒè¯•æ—¥å¿—ï¼Œæ¥è‡ªäºusb-ttl(COM9)ï¼Œå¹³æ—¶çš„debugæ—¶çš„æ—¥å¿—ä¹Ÿéƒ½è¾“å‡ºåˆ°è¿™é‡Œã€‚ æœªå®Œå¾…ç»­â€¦â€¦â€¦.."},{"title":"[WSL2]å­ç³»ç»Ÿubuntuå®‰è£…jdk8","path":"[WSL2]å­ç³»ç»Ÿubuntuå®‰è£…jdk8/","text":"è¿™æ˜¯ä¸ªå¤§å‘ å¹³æ—¶è£…ä¸ªJDKè¿™ä¹ˆç®€å•çš„äº‹ åœ¨WSLä¸Šé—®é¢˜è¿˜çœŸä¸å°‘ å®‰è£…ç¯å¢ƒ12é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ:Ubuntu-18.04 (é»˜è®¤) ä»¥å‰éƒ½æ˜¯ç”¨çš„centos,ç›´æ¥yum localinstall ./jdk-???-linux-x64.rpmå°±å¯ä»¥å®‰è£…æœ¬åœ°çš„RPMåŒ…äº†ã€‚ä½†æ˜¯ç°åœ¨ä½¿ç”¨çš„Ubuntuï¼Œåªèƒ½å®‰è£…DEBåŒ…ï¼ŒæŸ¥è¯¢äº†ä¸€ä¸‹æœ‰ä¸‰ç§å®‰è£…æ–¹å¼ï¼š RPMåŒ…è½¬åˆ¶ä¸ºDEBåŒ… ä½¿ç”¨å¼€ç®±å³ç”¨çš„tar.gzå¹¶é…ç½®ç¯å¢ƒå˜é‡ ä½¿ç”¨ppaæºå®‰è£… å¼€å§‹å®‰è£…å¾ˆæ˜æ˜¾ä½¿ç”¨ppaæºå®‰è£…æ›´ç¨³å®šä¸å®¹æ˜“é‡åˆ°é—®é¢˜ï¼Œå‚è€ƒäº†æ­¤æ–‡ç« Install Oracle Java 8 (JDK8 and JRE8) in Ubuntu or Linux Mint 123456789101112131415sudo add-apt-repository ppa:webupd8team/java //æ·»åŠ PPAæºsudo apt-get update //æ›´æ–°æœ¬åœ°åŒ…sudo apt-get install oracle-java8-installer //å®‰è£…JDK// å¾ˆé—æ†¾æŠ¥é”™äº†root@DESKTOP-UFOJIL7:/wsl_share# apt-get install oracle-java8-installerReading package lists... DoneBuilding dependency treeReading state information... DonePackage oracle-java8-installer is not available, but is referred to by another package.This may mean that the package is missing, has been obsoleted, oris only available from another sourceE: Package &#x27;oracle-java8-installer&#x27; has no installation candidate åœ¨è¿™é‡Œæ‰¾åˆ°äº†ç­”æ¡ˆOracle-Java8-Installer: No installation candidate &gt; NOTE: This answer no longer works, as the WebUpd8 PPA has been deprecated since Oracle has changed licensing and access restrictions to the Oracle Java codebase. Details at http://www.webupd8.org/2014/03/how-to-install-oracle-java-8-in-debian.html ç¿»è¯‘ä¸€ä¸‹ &gt;æ³¨æ„ï¼šæ­¤ç­”æ¡ˆä¸å†æœ‰æ•ˆï¼Œå› ä¸ºWebUpd8 PPAå·²è¢«å¼ƒç”¨ï¼Œå› ä¸ºOracleå·²å°†è®¸å¯å’Œè®¿é—®é™åˆ¶æ›´æ”¹ä¸ºOracle Javaä»£ç åº“ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œ è¯·è®¿é—®http://www.webupd8.org/2014/03/how-to-install-oracle-java-8-in-debian.html æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£æ²¡å•¥åŠæ³•åªèƒ½æ‰‹åŠ¨å®‰è£…ä¸€ä¸ªäº† æ‰‹åŠ¨é…ç½®é¦–å…ˆä¸‹è½½ä¸€ä¸ªjdk-8u221-linux-x64.tar.gz,æ‹·è´åˆ°wsl_shareä¸­ 12root@DESKTOP-UFOJIL7:/wsl_share# tar -zxvf ./jdk-8u221-linux-x64.tar.gz //é¦–å…ˆè§£å‹root@DESKTOP-UFOJIL7:/wsl_share# vim ~/.bashrc //é…ç½®ç¯å¢ƒå˜é‡ 12345// bashrcä¸­è¿½åŠ ä»¥ä¸‹å†…å®¹export JAVA_HOME=/app/jdk1.8.0_221export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATH 12345678root@DESKTOP-UFOJIL7:/wsl_share# source ~/.bashrc //é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡root@DESKTOP-UFOJIL7:/wsl_share# java -versionjava version &quot;1.8.0_221&quot;Java(TM) SE Runtime Environment (build 1.8.0_221-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)"},{"title":"[Centos]yumä»“åº“é…ç½®åŠå¸¸ç”¨æ“ä½œ","path":"[Centos]yumä»“åº“é…ç½®åŠå¸¸ç”¨æ“ä½œ/","text":"yumæ—¶ä¸æ—¶æŠ½é£ï¼Ÿä»“åº“è·å–ä¸åˆ°æœ€æ–°èµ„æºï¼Ÿå…ˆç†è§£yumæ˜¯æ€ä¹ˆå·¥ä½œçš„å§ï¼ å¸¸ç”¨çš„å‚¨å­˜åº“è¦æ³¨æ„çš„å‘ å‚¨å­˜åº“è¦å¯ç”¨äº†æ‰æœ‰æ•ˆ yum repo åªèƒ½æ˜¾ç¤ºå·²å¯ç”¨çš„å‚¨å­˜åº“ æ˜¾ç¤ºå…¨éƒ¨éœ€è¦yum repolist all å¦‚æœä½¿ç”¨yum-config-manageré…ç½®ä»“åº“ä¸€å®šè¦è®°å¾—ä¿å­˜ é…ç½®å®Œåè®°å¾—è¦yum makecacheå»ºç«‹ç¼“å­˜ï¼Œå¦‚æœä¸æ”¾å¿ƒå¯ä»¥å…ˆyum clean all æ¸…é™¤æ‰€æœ‰ç¼“å­˜ &gt; ä¸Šé¢çš„å‘æˆ‘å…¨éƒ¨è¸©äº† å‘½ä»¤ yum repolist all12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879Loaded plugins: fastestmirrorLoading mirror speeds from cached hostfile * base: mirror.scalabledns.com * elrepo: repos.lax-noc.com * elrepo-extras: repos.lax-noc.com * elrepo-kernel: repos.lax-noc.com * extras: repos-lax.psychz.net * updates: repos-lax.psychz.netrepo id repo name status// è¿™äº›ä»“åº“åº”è¯¥æ˜¯ç³»ç»Ÿå‡çº§æ—¶ç•™ä¸‹æ¥çš„C7.0.1406-base/x86_64 CentOS-7.0.1406 - Base disabledC7.0.1406-centosplus/x86_64 CentOS-7.0.1406 - CentOSPlus disabledC7.0.1406-extras/x86_64 CentOS-7.0.1406 - Extras disabledC7.0.1406-fasttrack/x86_64 CentOS-7.0.1406 - Fasttrack disabledC7.0.1406-updates/x86_64 CentOS-7.0.1406 - Updates disabledC7.1.1503-base/x86_64 CentOS-7.1.1503 - Base disabledC7.1.1503-centosplus/x86_64 CentOS-7.1.1503 - CentOSPlus disabledC7.1.1503-extras/x86_64 CentOS-7.1.1503 - Extras disabledC7.1.1503-fasttrack/x86_64 CentOS-7.1.1503 - Fasttrack disabledC7.1.1503-updates/x86_64 CentOS-7.1.1503 - Updates disabledC7.2.1511-base/x86_64 CentOS-7.2.1511 - Base disabledC7.2.1511-centosplus/x86_64 CentOS-7.2.1511 - CentOSPlus disabledC7.2.1511-extras/x86_64 CentOS-7.2.1511 - Extras disabledC7.2.1511-fasttrack/x86_64 CentOS-7.2.1511 - Fasttrack disabledC7.2.1511-updates/x86_64 CentOS-7.2.1511 - Updates disabledC7.3.1611-base/x86_64 CentOS-7.3.1611 - Base disabledC7.3.1611-centosplus/x86_64 CentOS-7.3.1611 - CentOSPlus disabledC7.3.1611-extras/x86_64 CentOS-7.3.1611 - Extras disabledC7.3.1611-fasttrack/x86_64 CentOS-7.3.1611 - Fasttrack disabledC7.3.1611-updates/x86_64 CentOS-7.3.1611 - Updates disabledC7.4.1708-base/x86_64 CentOS-7.4.1708 - Base disabledC7.4.1708-centosplus/x86_64 CentOS-7.4.1708 - CentOSPlus disabledC7.4.1708-extras/x86_64 CentOS-7.4.1708 - Extras disabledC7.4.1708-fasttrack/x86_64 CentOS-7.4.1708 - Fasttrack disabledC7.4.1708-updates/x86_64 CentOS-7.4.1708 - Updates disabledC7.5.1804-base/x86_64 CentOS-7.5.1804 - Base disabledC7.5.1804-centosplus/x86_64 CentOS-7.5.1804 - CentOSPlus disabledC7.5.1804-extras/x86_64 CentOS-7.5.1804 - Extras disabledC7.5.1804-fasttrack/x86_64 CentOS-7.5.1804 - Fasttrack disabledC7.5.1804-updates/x86_64 CentOS-7.5.1804 - Updates disabledC7.6.1810-base/x86_64 CentOS-7.6.1810 - Base disabledC7.6.1810-centosplus/x86_64 CentOS-7.6.1810 - CentOSPlus disabledC7.6.1810-extras/x86_64 CentOS-7.6.1810 - Extras disabledC7.6.1810-fasttrack/x86_64 CentOS-7.6.1810 - Fasttrack disabledC7.6.1810-updates/x86_64 CentOS-7.6.1810 - Updates disabled// centos7æ ¸å¿ƒåº“ æºç åº“å’Œå¼€å‘åº“çš„æºå°±ä¸å¼€äº†base/7/x86_64 CentOS-7 - Base enabled: 10,096+1base-debuginfo/x86_64 CentOS-7 - Debuginfo disabledbase-source/7 CentOS-7 - Base Sources disabled// çœ‹ä¸Šå»æ˜¯å¤šåª’ä½“ç›¸å…³çš„åº“ æ²¡æ¡Œé¢ç¯å¢ƒåº”è¯¥æ˜¯ç”¨ä¸ä¸Šäº†c7-media CentOS-7 - Media disabled// è¿™ä¸ªæºä¸»è¦æ˜¯ç”¨æ¥æ›¿æ¢baseæºçš„ï¼Œå…¶ä¸­æœ‰ä¸å°‘åŒ…æ˜¯baseæºçš„å¢å¼ºç‰ˆ// ä½†æ˜¯å¦‚æœå¼€å¯è¿™ä¸ªæºéƒ¨åˆ†åŒ…å¯èƒ½ä¼šäºbaseå†²çª // éœ€è¦åœ¨baseæºä¸­exclude æˆ–è€…ä½¿ç”¨yum-plugin-prioritiesæ’ä»¶æ¥ä¿è¯å…¼å®¹æ€§// å¼•ç”¨WIKI: https://wiki.centos.org/zh/AdditionalResources/Repositories/CentOSPluscentosplus/7/x86_64 CentOS-7 - Plus disabledcentosplus-source/7 CentOS-7 - Plus Sources disabled// cr = Continuous Release ä¸‹æ¬¡å‘å¸ƒå†…å®¹ ç›¸å½“äºbetaç‰ˆäº†cr/7/x86_64 CentOS-7 - cr disabled// elrepo = The Community Enterprise Linux Repository// http://elrepo.org ä»æè¿°ä¸­å¯ä»¥çœ‹å‡ºæ˜¯é©±åŠ¨åŒ… å¦‚æœæœ‰UIå¯èƒ½è¦å¼€elrepo ELRepo.org Community Enterprise enabled: 147elrepo-extras ELRepo.org Community Enterprise enabled: 19elrepo-kernel ELRepo.org Community Enterprise enabled: 37elrepo-testing ELRepo.org Community Enterprise disabled// è¿™ä¸ªæºè¦å¼€å•Š EPELä»“åº“ ç›¸å½“å¤šå¸¸ç”¨çš„è½¯ä»¶éƒ½åœ¨é‡Œé¢// https://fedoraproject.org/epel/x86_64 Extra Packages for Enterprise Li disabledepel-debuginfo/x86_64 Extra Packages for Enterprise Li disabledepel-source/x86_64 Extra Packages for Enterprise Li disabledepel-testing/x86_64 Extra Packages for Enterprise Li disabledepel-testing-debuginfo/x86_64 Extra Packages for Enterprise Li disabledepel-testing-source/x86_64 Extra Packages for Enterprise Li disabledextras/7/x86_64 CentOS-7 - Extras enabled: 305extras-source/7 CentOS-7 - Extras Sources disabledfasttrack/7/x86_64 CentOS-7 - fasttrack disabledupdates/7/x86_64 CentOS-7 - Updates enabled: 733+5updates-source/7 CentOS-7 - Updates Sources disabledrepolist: 11,337 å‘½ä»¤ yum-config-manager [yumé…ç½®ç®¡ç†å™¨]1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980Loaded plugins: fastestmirrorUsage: yum-config-manager [options] [section ...]Options: Plugin Options: Yum Base Options: -h, --help show this help message and exit -t, --tolerant be tolerant of errors // å®Œå…¨ä»ç³»ç»Ÿç¼“å­˜è¿è¡Œï¼Œä¸æ›´æ–°ç¼“å­˜ -C, --cacheonly run entirely from system cache, don&#x27;t update cache -c [config file], --config=[config file] config file location -R [minutes], --randomwait=[minutes] maximum command wait time -d [debug level], --debuglevel=[debug level] debugging output level --showduplicates show duplicates, in repos, in list/search commands -e [error level], --errorlevel=[error level] error output level --rpmverbosity=[debug level name] debugging output level for rpm -q, --quiet quiet operation -v, --verbose verbose operation -y, --assumeyes answer yes for all questions --assumeno answer no for all questions --version show Yum version and exit --installroot=[path] set install root --enablerepo=[repo] // å¯ç”¨å‚¨å­˜åº“ enable one or more repositories (wildcards allowed) --disablerepo=[repo] disable one or more repositories (wildcards allowed) -x [package], --exclude=[package] exclude package(s) by name or glob --disableexcludes=[repo] disable exclude from main, for a repo or for everything --disableincludes=[repo] disable includepkgs for a repo or for everything --obsoletes enable obsoletes processing during updates --noplugins disable Yum plugins --nogpgcheck disable gpg signature checking --disableplugin=[plugin] disable plugins by name --enableplugin=[plugin] enable plugins by name --skip-broken skip packages with depsolving problems --color=COLOR control whether color is used --releasever=RELEASEVER set value of $releasever in yum config and repo files --downloadonly don&#x27;t update, just download --downloaddir=DLDIR specifies an alternate directory to store packages --setopt=SETOPTS set arbitrary config and repo options --bugfix Include bugfix relevant packages, in updates --security Include security relevant packages, in updates --advisory=ADVS, --advisories=ADVS Include packages needed to fix the given advisory, in updates --bzs=BZS Include packages needed to fix the given BZ, in updates --cves=CVES Include packages needed to fix the given CVE, in updates --sec-severity=SEVS, --secseverity=SEVS Include security relevant packages matching the severity, in updates yum-config-manager options: // ä¿å­˜å½“å‰è®¾ç½® --save save the current options (useful with --setopt) // å¯ç”¨ä»“åº“ (è‡ªåŠ¨ä¿å­˜) --enable enable the specified repos (automatically saves) // ç¦ç”¨ä»“åº“ (è‡ªåŠ¨ä¿å­˜) --disable disable the specified repos (automatically saves) // ä»æ–‡ä»¶æˆ–URLæ·»åŠ ä»“åº“ (å¹¶å¯ç”¨) --add-repo=ADDREPO add (and enable) the repo from the specified file or url å‘½ä»¤ yum1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495Loaded plugins: fastestmirrorUsage: yum [options] COMMANDList of Commands:check Check for problems in the rpmdbcheck-update Check for available package updatesclean Remove cached datadeplist List a package&#x27;s dependenciesdistribution-synchronization Synchronize installed packages to the latest available versionsdowngrade downgrade a packageerase Remove a package or packages from your systemfs Acts on the filesystem data of the host, mainly for removing docs/lanuages for minimal hosts.fssnapshot Creates filesystem snapshots, or lists/deletes current snapshots.groups Display, or use, the groups informationhelp Display a helpful usage messagehistory Display, or use, the transaction historyinfo Display details about a package or group of packagesinstall Install a package or packages on your systemlist List a package or groups of packagesload-transaction load a saved transaction from filenamemakecache Generate the metadata cacheprovides Find what package provides the given valuereinstall reinstall a packagerepo-pkgs Treat a repo. as a group of packages, so we can install/remove all of themrepolist Display the configured software repositoriessearch Search package details for the given stringshell Run an interactive yum shellswap Simple way to swap packages, instead of using shellupdate Update a package or packages on your systemupdate-minimal Works like upgrade, but goes to the &#x27;newest&#x27; package match which fixes a problem that affects your systemupdateinfo Acts on repository update informationupgrade Update packages taking obsoletes into accountversion Display a version for the machine and/or available repos.Options: -h, --help show this help message and exit -t, --tolerant be tolerant of errors -C, --cacheonly run entirely from system cache, don&#x27;t update cache -c [config file], --config=[config file] config file location -R [minutes], --randomwait=[minutes] maximum command wait time -d [debug level], --debuglevel=[debug level] debugging output level --showduplicates show duplicates, in repos, in list/search commands -e [error level], --errorlevel=[error level] error output level --rpmverbosity=[debug level name] debugging output level for rpm -q, --quiet quiet operation -v, --verbose verbose operation -y, --assumeyes answer yes for all questions --assumeno answer no for all questions --version show Yum version and exit --installroot=[path] set install root --enablerepo=[repo] enable one or more repositories (wildcards allowed) --disablerepo=[repo] disable one or more repositories (wildcards allowed) -x [package], --exclude=[package] exclude package(s) by name or glob --disableexcludes=[repo] disable exclude from main, for a repo or for everything --disableincludes=[repo] disable includepkgs for a repo or for everything --obsoletes enable obsoletes processing during updates --noplugins disable Yum plugins --nogpgcheck disable gpg signature checking --disableplugin=[plugin] disable plugins by name --enableplugin=[plugin] enable plugins by name --skip-broken skip packages with depsolving problems --color=COLOR control whether color is used --releasever=RELEASEVER set value of $releasever in yum config and repo files --downloadonly don&#x27;t update, just download --downloaddir=DLDIR specifies an alternate directory to store packages --setopt=SETOPTS set arbitrary config and repo options --bugfix Include bugfix relevant packages, in updates --security Include security relevant packages, in updates --advisory=ADVS, --advisories=ADVS Include packages needed to fix the given advisory, in updates --bzs=BZS Include packages needed to fix the given BZ, in updates --cves=CVES Include packages needed to fix the given CVE, in updates --sec-severity=SEVS, --secseverity=SEVS Include security relevant packages matching the severity, in updates Plugin Options:"},{"title":"Hexoéƒ¨ç½²GitMentè¯„è®º","path":"Hexoéƒ¨ç½²GitMentè¯„è®º/","text":"ç”±äºç«™ç‚¹è¿ç§»å¯¼è‡´çš„æ•°æ®ä¸¢å¤±ï¼Œè¯¥æ–‡ç« å·²åšå½’æ¡£å¤„ç†ä¹‹å‰è¿˜æ²¡æ¢ä¸»é¢˜çš„æ—¶å€™å°±æ˜¯è¿™æ ·æ‰‹åŠ¨é…ç½®çš„ï¼Œç°åœ¨gitmentéƒ½æ²¡äººç”¨äº†git-talkæ¯”è¾ƒæ–¹ä¾¿ GitMentç®€ä»‹ Gitmentæ˜¯ä¸€ä¸ªåŸºäºGitHub Issuesçš„è¯„è®ºç³»ç»Ÿï¼Œä»–ä½¿ç”¨ä¸€ä¸ªGithub Repositoryçš„IssuesåŒºä½œä¸ºè¯„è®ºçš„å­˜å‚¨åŒºã€‚æ”¯æŒåœ¨å‰ç«¯ç›´æ¥å¼•å…¥ï¼Œä¸éœ€è¦ä»»ä½•åç«¯ä»£ç ã€‚å¯ä»¥åœ¨é¡µé¢è¿›è¡Œç™»å½•ã€æŸ¥çœ‹ã€è¯„è®ºã€ç‚¹èµç­‰æ“ä½œï¼ŒåŒæ—¶æœ‰å®Œæ•´çš„ Markdown &#x2F; GFM å’Œä»£ç é«˜äº®æ”¯æŒã€‚å°¤ä¸ºé€‚åˆå„ç§åŸºäº GitHub Pages çš„é™æ€åšå®¢æˆ–é¡¹ç›®é¡µé¢ã€‚ Initialize Comments æ—¶æç¤º Error: Validation Failedå‡ºç°é—®é¢˜ éƒ¨ç½²å®Œæˆåç‚¹å‡»åˆå§‹åŒ–æŒ‰é’®åalert:â€Error: Validation Failedâ€ å›¾1.Error: Validation Failed æŸ¥è¯¢èµ„æ–™ é¦–å…ˆæŸ¥é˜…äº†ä¸€ä¸‹èµ„æ–™,æ‰¾åˆ°äº† GitMentçš„issues ï¼š &gt; åœ°å€ https://github.com/imsun/gitment/issues/118 åŸå› åˆ†æ GitHub Issuesä¸­æ–°å»ºlabelæ—¶LabelNameé•¿åº¦ä¸èƒ½è¶…è¿‡50ï¼Œä½†æ˜¯åœ¨GitMentä¸­æ˜¯ä»¥é¡µé¢url(window.location.pathname)ä½œä¸ºå”¯ä¸€æ ‡è¯†æ¥åˆ›å»ºLabelçš„ï¼Œå½“æˆ‘ä»¬ä»¥ä¸­æ–‡ä½œä¸ºæ–‡ç« æ ‡é¢˜æ—¶ï¼Œä¸­æ–‡å°†è¢«è½¬ä¹‰ï¼Œè½¬ä¹‰åçš„urlè¶…è¿‡äº†50å­—ç¬¦é•¿åº¦çš„é™åˆ¶ï¼Œå¼•èµ·æŠ¥é”™ã€‚ å›¾2.LabelNameé•¿åº¦è¿‡é•¿ è§£å†³æ–¹å¼ï¼š ç¼©çŸ­æ ‡é¢˜é•¿åº¦ï¼Œå¹¶å°½é‡å°‘ç”¨ä¸­æ–‡æ ‡é¢˜ å¯»æ‰¾è¾ƒçŸ­çš„å…·æœ‰å”¯ä¸€æ€§çš„å‚æ•°ä½œä¸ºIssuesçš„LabelName å›¾3.å‚æ•°æ›¿æ¢å‰åå¯¹æ¯” å¾ˆæ˜æ˜¾åªèƒ½å¯»æ‰¾å…¶ä»–å‚æ•°æ¥ä»£æ›¿URLä½œä¸ºIDäº†ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç½‘é¡µæ ‡é¢˜ï¼ˆdocument.titleï¼‰ä½œä¸ºIDã€‚ é”™è¯¯ä¿®æ­£&nbsp;#######** hexo-theme-yiliaä¸»é¢˜ ** è¯¥ä¸»é¢˜çš„gitmenté…ç½®æ–‡ä»¶ä½äº${hexo_root}&#x2F;themes&#x2F;hexo-theme-yilia&#x2F;layout&#x2F;_partial&#x2F;postä¸‹ ä¿®æ”¹gitment.ejs: å›¾4.gitment.ejs ** hexo-theme-nextä¸»é¢˜ ** è¯¥ä¸»é¢˜çš„gitmenté…ç½®æ–‡ä»¶ä½äº${hexo_root}&#x2F;themes&#x2F;hexo-theme-next&#x2F;layout&#x2F;_third-party&#x2F;commentsä¸‹ ä¿®æ”¹gitment.swig: å›¾5.gitment.swig æ•ˆæœä¸€è§ˆ ä¿®æ”¹åæˆåŠŸåˆå§‹åŒ–ï¼ŒIssusä¸­å‡ºç°äº†å¯¹åº”æ–‡ç« çš„è®°å½•ï¼Œblogä¸­å¯ä»¥æ­£å¸¸çš„å‘å¸ƒè¯„è®ºäº†ã€‚ å›¾6.GitMentæ•ˆæœ å›¾7.GitHubæ•ˆæœ"}]